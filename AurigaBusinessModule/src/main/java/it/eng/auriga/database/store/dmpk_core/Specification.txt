1        package DMPK_CORE AUTHID CURRENT_USER as
2        
3        
4        	/****************************************************		INFORMAZIONI GENERALI		*******************************************************/
5        	/************** Argomenti delle stored per il controllo della transazione:											*******/
6        	/************** FlgRollBckFullIn -> se 1 in caso di errore viene fatta la rollback completa (non a savepoint), 					*******/
7        	/************** 				altrimenti la rollback delle sole modifiche effettuate nella stored						*******/
8        	/************** 				ATTENZIONE: la rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log			*******/
9        	/************** FlgAutoCommitIn  -> se vale 1, dopo la rollback e qualunque sia l'esito (positivo o no), la stored esegue una commit finale *****/
10        	/************** Tutte le funzioni/procedure che NON hanno gli argomenti in input FlgRollBckFullIn e FlgAutoCommitIn 				*******/
11        	/************** NON ESEGUONO AL LORO INTERNO ALCUNA COMMIT nè ROLLBACK 												*******/
12        
13        	/************** Tutte le funzioni, tranne quelle da utilizzarsi nelle select, restituiscono 1 in caso di successo, altrimenti 0		*******/
14        	/************** Tali funzioni restituiscono, in caso di result 0, un n.ro, un contesto e un messaggio di errore:					*******/
15        	/************** il n.ro è: <0 se errore ORACLE non specificamente gestito 											*******/
16        	/**************		   da 1->1000 errore "grave" (SEVERE_ERROR) gestito											*******/
17        	/**************		   >1000 errore non grave gestito														*******/
18        	/************** il contesto indica il package e/o funzione/procedura in cui si è verificato l'errore							*******/
19        
20        	-----FUNZIONE deprecata: la funzione seguente è mantenuta solo perchè necessaria al check-in con i web service del vecchio Aurigarepository
21        	/******* funzione per aggingere un'operazione da fare o già fatta su un container nell'apposita tabella ******/
22        	function AddContainerOperation(
23        			ContainerTypeIn 		IN		DMT_OPERATIONS_VS_CONTAINER.CONTAINER_TYPE%type,-- (obblig.) Sigla che indica il tipo del contenitore cui è relativa l'operazione (file-system, Hummingbird) 	
24        			ContainerAliasIn 		IN		DMT_OPERATIONS_VS_CONTAINER.CONTAINER_ALIAS%type,
25        																	-- (obblig.) Alias che indica lo specifico contenitore (tra quelli del dato tipo) cui è relativa l'operazione 
26        			FlgTipoTargetIn		IN		VARCHAR2,							-- (obblig.) Indica il tipo di oggetto cui è relativa l'operazione. Valori possibili:
27        																	-- D	= Documento
28        																	-- V  = Versione di documento 
29        																	-- F	= Folder
30        																	-- W	= Workspace
31        			IdTargetIn			IN		INTEGER, 							-- (obblig.) Identificativo del documento/folder/workspace cui è relativa l'operazione
32        			NroProgrVerIn		IN		PLS_INTEGER, 						-- N.ro progressivo che identifica l'eventiuale specifica specifica versione del documento cui è relativa l'operazione
33        																	-- Se FlgTipoTargetIn='V' e il n.ro versione non è valorizzato si intende l'ultima versione
34        			CodOperationTyIn 		IN		DMT_OPERATIONS_VS_CONTAINER.COD_OPERATION_TYPE%type,
35        																	-- (obblig.) Codice che indica il tipo di operazione. Valori possibili:
36        																	-- ADD = Creazione; 
37        																	-- MOD = Modifica metadati; 
38        																	-- DEL = Cancellazione fisica; 
39        																	-- LDEL = Cancellazione logica; 
40        																	-- REC = Ripristino
41        			FlgSuccessIn		IN		DMT_OPERATIONS_VS_CONTAINER.FLG_COMPLETED%type DEFAULT NULL,
42        																	-- (valori 1/0/NULL) Se 1 indica che l'operazione è stata completatata con successo sul container
43        			MessaggioErrIn		IN		DMT_OPERATIONS_VS_CONTAINER.ERR_MSG%type, 	-- Messaggio di errore restituito dal container al tentativo di effettuare l'operazione
44        			NoteIn			IN		DMT_OPERATIONS_VS_CONTAINER.NOTE%type DEFAULT NULL, 
45        																	-- Note sul tentativo di effettuare l'operazione sul container
46        			FlgOperDaNonRiprovareIn	IN		DMT_OPERATIONS_VS_CONTAINER.FLG_NOT_TO_RETRY%type DEFAULT NULL,
47        																	-- (valori 1/0/NULL) Se 1 indica che l'operazione non va riprovata sul container (fallimento fatale)
48        			IdOperationOut		OUT		DMT_OPERATIONS_VS_CONTAINER.ID_OPERATION%type,	-- Id. univoco assegnato all'operazione
49        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
50        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
51        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
52        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
53        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
54        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
55        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
56        
57        
58        	/****** funzione che serve ad ottenere il mimetype "principale" tra quelli associati ad un dato formato elettronico il cui ID in tabella DMT_FORMATI_EL_AMMESSI è indicato come input *****/
59        	function GetFmtMainMimeType(
60        			IdFormatoElIn			IN		DMT_FORMATI_EL_AMMESSI.ID_FORMATO_EL%type)
61        			return VARCHAR2;																	-- restituisce il mimetype se trovato, altrimenti NULL (anche in caso di errore)
62        
63        	/************* funzione per convertire ORDER_BY_VALUE di un folder/fascicolo secondo piano di classificazione nella segnatura da mostare nella GUI *************/
64        	function ConvOrderByValueInSegn_IndOut(
65        			OrderByValueIn			IN		DMT_FOLDER.ORDER_BY_VALUE%type,	-- (obblig.) Campo ORDER_BY_VALUE del folder
66        			IdPianoClassifIn		IN		DMT_PIANI_CLASSIF.ID_PIANO_CLASSIF%type,
67        																			-- (obblig.) Id. del piano cui appartiene la classifica del folder
68        			IdPianoDefLivelliTitTabIn	IN	DMT_PIANI_CLASSIF.ID_PIANO_CLASSIF%type,
69        																			-- Id. del piano di classificazione per cui è già stata ricavata la definizione dei livelli indicata in input nll'argomento successivo
70        			DefLivelliTitTabIO		IN OUT		DMTO_LIV_GERARCHIA,			-- In input definizione dei livelli del piano di classificazione IdPianoDefLivelliTitTabIn
71        																			-- In output definizione dei livelli del piano di classificazione IdPianoClassifIn
72        			SepLivelliIn			IN		VARCHAR2,						-- (obblig.)Separatore dei livelli classifica da usare nell GUI
73        			FlgPaddingLivTitIn 		IN		PLS_INTEGER,					-- (valori 1/0/NULL) Se 1 significa che per il livelli numerici di classifica va fatto il riempimento con 0 fino alla max lunghezza di un n.ro livello (LengthNroLivelloIn)
74        			LengthNroLivelloIn		IN		PLS_INTEGER,					-- (obblig.)Max lunghezza (come n.ro di cifre o caratterri) di ciascun n.ro livello di classifica
75        			IndiceClassifxGUIOut	OUT		VARCHAR2						-- Indice della classifica (nella forma con cui mostrarla a GUI)
76        			) return VARCHAR2;												-- Segnatura del folder come deve essere renderizzata nella GUI
77        
78        	/************* funzione per convertire ORDER_BY_VALUE di un folder/fascicolo secondo piano di classificazione nella segnatura da mostare nella GUI *************/
79        	/************* come la funzione precedente solo che non restituisce in output l'indice della classifica da mostare nelle GUI					   *************/
80        	function ConvOrderByValueInSegnatura(
81        			OrderByValueIn			IN		DMT_FOLDER.ORDER_BY_VALUE%type,	-- (obblig.) Campo ORDER_BY_VALUE del folder
82        			IdPianoClassifIn		IN		DMT_PIANI_CLASSIF.ID_PIANO_CLASSIF%type,
83        																			-- (obblig.) Id. del piano cui appartiene la classifica del folder
84        			IdPianoDefLivelliTitTabIn	IN	DMT_PIANI_CLASSIF.ID_PIANO_CLASSIF%type,
85        																			-- Id. del piano di classificazione per cui è già stata ricavata la definizione dei livelli indicata in input nll'argomento successivo
86        			DefLivelliTitTabIO		IN OUT		DMTO_LIV_GERARCHIA,			-- In input definizione dei livelli del piano di classificazione IdPianoDefLivelliTitTabIn
87        																			-- In output definizione dei livelli del piano di classificazione IdPianoClassifIn
88        			SepLivelliIn			IN		VARCHAR2,						-- (obblig.)Separatore dei livelli classifica da usare nell GUI
89        			FlgPaddingLivTitIn 		IN		PLS_INTEGER,					-- (valori 1/0/NULL) Se 1 significa che per il livelli numerici di classifica va fatto il riempimento con 0 fino alla max lunghezza di un n.ro livello (LengthNroLivelloIn)
90        			LengthNroLivelloIn		IN		PLS_INTEGER						-- (obblig.)Max lunghezza (come n.ro di cifre o caratterri) di ciascun n.ro livello di classifica
91        			) return VARCHAR2;												-- Segnatura del folder come deve essere renderizzata nella GUI
92        
93        	/************* funzione per ottenere la segnatura di un folder secondo piano di classificazione a partire dai suoi ORDER_BY_VALUE e ID_CLASSIFICAZIONE  **********/
94        	/************  da NON utilizzarsi all'interno di una ciclo che carica n folder (in questo caso usare la ConvOrderByValueInSegnatura)					**********/
95        	function GetSegnaturaFolder(
96        			IdSPAOOIn				IN		DMT_FOLDER.ID_SP_AOO%type,		-- (obblig.) Id. del soggetto produttore o AOO cui è relativo il folder
97        			OrderByValueIn			IN		DMT_FOLDER.ORDER_BY_VALUE%type,	-- (obblig.) Campo ORDER_BY_VALUE del folder
98        			IdClassificazioneIn		IN		DMT_FOLDER.ID_CLASSIFICAZIONE%type
99        																			-- (obblig.) Id. della classifica del folder
100        			) return VARCHAR2;											-- Segnatura del folder come deve essere renderizzata nella GUI
101        
102        	/************* overload della funzione precedente: serve per ottenere la segnatura di un folder secondo piano di classificazione a partire dal suo ID_FOLDER  			**********/
103        	/************  da NON utilizzarsi all'interno di una ciclo che carica n folder (in questo caso usare la ConvOrderByValueInSegnatura)									**********/
104        	function GetSegnaturaFolder(
105        			IdFolderIn				IN		DMT_FOLDER.ID_FOLDER%type		-- (obblig.) Id. del folder
106        			) return VARCHAR2;												-- Segnatura del folder come deve essere renderizzata nella GUI
107        
108        	/**** Funzione per verificare se su un oggetto della repository è presente un lock 								****/
109        	/**** Si tiene conto anche dei lock presenti sugli oggetti cui appartiene quello per cui verificare					****/
110        	/**** La verifica si interrompe al primo lock riscontrato, partendo dall'oggetto indicato e risalendo su quelli superiori	****/
111        	function VerifyForLock(
112        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Identificativo dell''utente di lavoro
113        			ObjTypeToVerifyIn		IN		VARCHAR2,							-- (obblig.) Tipo di oggetto della repository per cui fare la verifica. Valori possibili:
114        																	-- D = Documento
115        																	-- U = Unità documentaria 
116        																	-- F = Folder
117        																	-- W = Workspace
118        			IdObjToVerifyIn		IN		INTEGER,							-- (obblig.) Id. dell'oggetto della repository per cui fare la verifica (ID_DOC o ID_UD o ID_FOLDER o ID_WORKSPACE) 
119        			IdUserLockOut		OUT		DMT_USERS.ID_USER%type,					-- Id. dell'utente che ha messo il lock sull'oggetto o su un oggetto che lo contiene
120        			TsLockOut			OUT		DATE,								-- Data e ora in cui è stato messo il lock estraneo
121        			ObjTypeLockOnOut		OUT		VARCHAR2,							-- Tipo di oggetto su cui è stato messo il lock:
122        																	-- D = Documento
123        																	-- U = Unità documentaria 
124        																	-- F = Folder
125        																	-- W = Workflow															
126        			IdObjLockOut		OUT		INTEGER,							-- Id dell'oggetto su cui è stato messo il lock (ID_DOC o ID_UD o ID_FOLDER o ID_WORKSPACE) 
127        			NomeObjLockOut		OUT		VARCHAR2,							-- Nome dell'oggetto su cui è stato messo il lock se trattasi di folder o workspace di appartenenza dell'oggetto da verificare (e solo se visibile all'utente di lavoro)
128        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
129        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
130        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
131        			) return PLS_INTEGER;											-- 1 = Tutto OK; 0 = Errore
132        
133        	----overload della precedente con in input anche il token di connessione e con output un po' diversi
134        	function VerifyForLock(
135        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
136        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Identificativo dell''utente di lavoro
137        			ObjTypeToVerifyIn		IN		VARCHAR2,							-- (obblig.) Tipo di oggetto della repository per cui fare la verifica. Valori possibili:
138        																	-- D = Documento
139        																	-- U = Unità documentaria 
140        																	-- F = Folder
141        																	-- W = Workspace
142        			IdObjToVerifyIn		IN		INTEGER,							-- (obblig.) Id. dell'oggetto della repository per cui fare la verifica (ID_DOC o ID_UD o ID_FOLDER o ID_WORKSPACE) 
143        			IdUserLockOut		OUT		DMT_USERS.ID_USER%type,					-- Id. dell'utente che ha messo il lock sull'oggetto o su un oggetto che lo contiene
144        			DesUserLockOut		OUT		VARCHAR2,							-- Nome dell'utente che ha messo il lock sull'oggetto o su un oggetto che lo contiene
145        			TsLockOut			OUT		VARCHAR2,							-- Data e ora in cui è stato messo il lock estraneo (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
146        			ObjTypeLockOnOut		OUT		VARCHAR2,							-- Tipo di oggetto su cui è stato messo il lock:
147        																	-- D = Documento
148        																	-- U = Unità documentaria 
149        																	-- F = Folder
150        																	-- W = Workflow															
151        			IdObjLockOut		OUT		INTEGER,							-- Id dell'oggetto su cui è stato messo il lock (ID_DOC o ID_UD o ID_FOLDER o ID_WORKSPACE) 
152        			NomeObjLockOut		OUT		VARCHAR2,							-- Nome dell'oggetto su cui è stato messo il lock se trattasi di folder o workspace di appartenenza dell'oggetto da verificare (e solo se visibile all'utente di lavoro)
153        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
154        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
155        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
156        			) return PLS_INTEGER;											-- 1 = Tutto OK; 0 = Errore
157        
158        	/********* funzione per aggiornare in automatico l'ACL di un'unità documentaria a seguito di un invio/notifica dell'unità documentaria stessa **********/
159        	function AggAutomaticoACLUD_PostIN(
160        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
161        																	-- (obblig). Codice identificativo del token di connessione
162        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora (se NULL è l'utente connesso)
163        			IdUDIn				IN		DMT_UNITA_DOC.ID_UD%type,			-- (obblig.) Id. dell'unità documentaria
164        			FlgInvioNotificaIn		IN		VARCHAR2,						-- (obblig.) Indica se l'aggiornamento dell'ACL deve avvenire a seguito di: 
165        																	--			I	= 	Invio
166        																	--			N	= 	Notifica
167        			TsInvioNotificaIn			IN		VARCHAR2 DEFAULT NULL,				-- Data e ora dell'invio/notifica a seguito del quale aggiornare l'ACL (nel formato DD/MM/RRRR HH24:MI:SS)
168        																	-- Se NULL viene presa la data e ora dell'ultimo invio/notifica
169        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
170        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
171        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
172        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
173        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
174        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
175        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0 (in caso di errore o warning)
176        
177        	/********* funzione per aggiornare in automatico l'ACL di folder a seguito di un invio/notifica del folder stesso **********/
178        	function AggAutomaticoACLFld_PostIN(
179        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
180        																	-- (obblig). Codice identificativo del token di connessione
181        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora (se NULL è l'utente connesso)
182        			IdFolderIn				IN		DMT_UNITA_DOC.ID_UD%type,			-- (obblig.) Id. del folder
183        			FlgInvioNotificaIn		IN		VARCHAR2,						-- (obblig.) Indica se l'aggiornamento dell'ACL deve avvenire a seguito di: 
184        																	--			I	= 	Invio
185        																	--			N	= 	Notifica
186        			TsInvioNotificaIn			IN		VARCHAR2 DEFAULT NULL,				-- Data e ora dell'invio/notifica a seguito del quale aggiornare l'ACL (nel formato DD/MM/RRRR HH24:MI:SS)
187        																	-- Se NULL viene presa la data e ora dell'ultimo invio/notifica
188        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
189        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
190        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
191        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
192        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
193        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
194        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0 (in caso di errore o warning)
195        
196        	/***** Funzione per ottenere l'id. di una libreria a partire dal suo nome e/o id. ******/
197        	function FindLibrary(
198        			IdSpAOOIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,		-- (obblig.) Identificativo del sogg. produttore/AOO cui appartiene la libreria da ricercare
199        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type, 				-- Nome della libreria da ricercare. 
200        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly, e case insensitive
201        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL		-- Id. della libreria da ricercare
202        			) return INTEGER;												-- restituisce l'ID_FOLDER della libreria trovata
203        																	-- è NULL in caso di errore o libreria inesistente/non individuabile univocamente
204        
205        	-----overload della precedente
206        	function FindLibrary(
207        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
208        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora (se NULL è l'utente connesso)
209        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type, 				-- Nome della libreria da ricercare. 
210        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly, e case insensitive
211        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria da ricercare
212        			AccessTypeIn		IN		VARCHAR2 DEFAULT 'V',					-- (obblig.) Indica il tipo di accesso che deve avere l'utente sulla libreria
213        																	-- Valori possibili:
214        																	--	V	=	Sola visualizzazione
215        																	--	AF	=	Per aggiunta di folder
216        																	--	AD	=	Per aggiunta di unità documentarie
217        			IdLibraryOut		OUT		INTEGER,							-- ID_FOLDER della libreria trovata
218        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
219        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
220        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
221        			) return PLS_INTEGER;											-- restituisce 1 in caso di libreria individuata univocamente e accedibile con il tipo di accesso richiesto, 
222        																	-- 0 in caso di errore o libreria inesistente/non individuabile univocamente/non accedibile con il tipo di accesso richiesto
223        
224        	/***** Funzione per ottenere l'id. della libreria di defualt per un certo utente che lavora in un certo dominio (ed eventualmente per una certa applicazione)	******/
225        	/***** Restituisce l'id. della libreria di default se riesce a individuarla univocamente, altrimenti restituisce NULL								******/
226        	/***** Non esegue nè commit nè rollback 																					******/
227        	function GetDefaultLibrary(
228        			IdUserLoggedIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Id. dell'utente connesso
229        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora (se NULL è l'utente connesso)
230        			FlgTpDominioAutIn		IN		PLS_INTEGER,						-- (obblig.) Indica il tipo del dominio in cui si sta lavorando: 1 = Schema; 2 = Sogg. produttore; 3 = AOO
231        			IdDominioAutIn		IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,		-- Identificativo del sogg. produttore o AOO in cui si sta lavorando
232        			CodApplEsternaIn		IN		DMT_CONNECTION_TOKEN.COD_APPLICAZIONE%type,	-- Codice dell'applicazione esterna da cui si sta lavorando
233        			CodIstanzaApplEstIn	IN		DMT_CONNECTION_TOKEN.COD_ID_ISTANZA_APPL%type,  -- Codice dell'istanza dell'applicazione esterna da cui si sta lavorando
234        			AccessTypeIn		IN		VARCHAR2 DEFAULT 'V')					-- (obblig.) Indica il tipo di accesso che deve avere l'utente sulla libreria
235        																	-- Valori possibili:
236        																	--	V	=	Sola visualizzazione
237        																	--	AF	=	Per aggiunta di folder
238        																	--	AD	=	Per aggiunta di unità documentarie
239        			return DMT_FOLDER.ID_FOLDER%type;
240        
241        	-----overload della precedente
242        	function GetDefaultLibrary(
243        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
244        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora (se NULL è l'utente connesso)
245        			AccessTypeIn		IN		VARCHAR2 DEFAULT 'V',					-- Indica il tipo di accesso che deve avere l'utente sulla libreria
246        																	-- Valori possibili:
247        																	--	V o NULL	=	Sola visualizzazione
248        																	--	AF		=	Per aggiunta di folder
249        																	--	AD		=	Per aggiunta di unità documentarie
250        			IdLibraryOut		OUT		INTEGER,							-- Id. della libreria di default se trovata
251        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
252        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
253        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
254        			) return PLS_INTEGER;											-- restituisce 1 in libreria di default individuata e accedibile con il tipo di accesso richiesto, altrimenti 0
255        
256        
257        	/******* serve a trovare l'id. di un'unità documentaria su cui l'utenza di lavoro ha un dato tipo di accesso (almeno visualizzazione se nulla è specificato) 		******/
258        	/******  a partire da Id. e/o estremi di una registrazione/numerazione dell'unità documentaria stessa												******/
259        	/******* restituisce l'Id. dell'unità documentaria solo se a partire dagli estremi immessi riesce a identificarla univocamente 							******/
260        	/******* ATTENZIONE: gli estremi di registrazione/numerazione, se specifcati, devono essere completi												******/	
261        	function FindUD(
262        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
263        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Identificativo dell''utente di lavoro
264        			IdUDIO			IN OUT	INTEGER,							-- Identificativo unità documentaria
265        			CodCategoriaRegIn		IN		VARCHAR2 DEFAULT NULL,					-- Codice della categoria di registrazione/numerazione dell'unità documentaria
266        			SiglaRegIn			IN		VARCHAR2 DEFAULT NULL,					-- Sigla di registrazione/numerazione dell'unità documentaria
267        			AnnoRegIn			IN		PLS_INTEGER DEFAULT NULL,				-- Anno di registrazione/numerazione dell'unità documentaria
268        			NumRegIn			IN		PLS_INTEGER DEFAULT NULL,				-- N.ro di registrazione/numerazione dell'unità documentaria
269        			AccessTypeIn		IN		VARCHAR2 DEFAULT 'V',					-- Indica il tipo di accesso che deve avere l'utente sull'unità documentaria
270        																	-- Valori possibili:
271        																	--	V o NULL	=	Visualizzazione metadati
272        																	--	M		=	Modifica (metadati o permessi o file)
273        																	--	C		=	Cancellazione
274        			IdDocPrimarioOut		OUT		DMT_DOCUMENTS.ID_DOC%type,				-- Id. del documento primario dell'UD 
275        			NroLastVerPrimarioOut	OUT		PLS_INTEGER,						-- N.ro dell'eventuale ultima versione elettronica del doc. primario visibile all'utente
276        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
277        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
278        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
279        			) return PLS_INTEGER;											-- restituisce 1 in caso di unità documentaria individuata e accedibile con il tipo di accesso richiesto, altrimenti 0
280        
281        	/****** serve a controllare se una certa unità documentaria ha già una registrazione/numerazione di un certo tipo, al fine di stabilire se una registrazione di quel tipo le può essere ancora assegnata o meno *******/ 
282        	function CtrlPresenzaRegNumSuUD(
283        			IdUDIn			IN		INTEGER,							-- (obblig.) Id. dell'unità documentaria su cui fare il controllo
284        			CodCategoriaRegIn		IN		VARCHAR2,							-- (obblig.) Codice della categoria di registrazione/numerazione per cui fare il controllo
285        			SiglaRegIO			IN OUT	VARCHAR2,							-- Sigla di registrazione/numerazione per cui fare il controllo
286        			DesRegIn			IN		DMT_TIPI_REGISTRAZIONE.DESCRIZIONE%type DEFAULT NULL,
287        																	-- Descrizione della registrazione/numerazione per cui fare il controllo (ricerca case insensitive in like senza forzare % finale)
288        			FlgRegNumAssegnabileOut	OUT		PLS_INTEGER,						-- (valori 1/0) Se 1 la registrazione/numerazione può essere ancora assegnata all'unità documentaria, se 0 no
289        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
290        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
291        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
292        			) return PLS_INTEGER;											-- restituisce 1 in caso il controllo non dia errori, altrimenti 0
293        
294        	/***** Funzione per ottenere l'id. di un nodo (vale a dire unità documentaria o folder) dell'archivio documentale a partire da: libreria di appartenenza, percorso completo (con o senza la libreria) e nome ******/
295        	function FindNodoArchivio(
296        			IdSpAOOIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type DEFAULT NULL,	
297        																	-- (obblig. se IdLibraryIn non è valorizzato) Identificativo del sogg. produttore/AOO cui appartiene la libreria in cui ricercare
298        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- (obblig. se NomeLibraryIn non è valorizzato e se il percorso non contiene la libreria) Id. della libreria in cui ricercare
299        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL,	 	-- (obblig. se IdLibraryIn non è valorizzato e se il percorso non contiene la libreria) Nome della libreria in cui ricercare. 
300        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly, e case insensitive 
301        			PathIn			IN		VARCHAR2,							-- (obblig.) Percorso + nome del nodo (con / o \ come separatore dei livelli; con o senza nome della libreria come prefisso)
302        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
303        			FlgTipoNodoIn		IN		VARCHAR2 DEFAULT NULL,					-- (valori: F/U/NULL) Se valorizzato permette di restringere la ricerca ai soli nodi di tipo folder (F) o unità documentaria (U)
304        			FlgIgnoreDelLogIn		IN		PLS_INTEGER DEFAULT NULL				-- (valori 1/0) Se 1 vengono considerate anche gli oggetti della repository logicamente annullati										
305        			) return INTEGER;												-- restituisce l'ID_FOLDER o ID_UD del nodo trovato
306        																	-- è NULL in caso di errore o nodo inesistente/non individuabile univocamente
307        	/**** Funzione per testare se un folder o unità documentaria appartiene ad un dato folder (anche non direttamente)						*****/
308        	function TestAppartenenzaAFolder (
309        			IdFolderOuterIn		IN		DMT_FOLDER.ID_FOLDER%type,			-- (obblig.) Identificativo del folder in cui deve ricadere l'altro folder o UD
310        			FlgTpObjInnerIn		IN		VARCHAR2,						-- (obblig.) Indica il tipo di oggetto che si vuole testare se ricade nel folder IdFolderOuterIn
311        																-- Valori ammessi: 
312        																--	F	=	Folder 
313        																-- 	U	=	Unità documentaria 
314        			IdObjInnerIn		IN		INTEGER,						-- (obblig.)  Identificativo (ID_UD o ID_FOLDER) dell'oggetto che si vuole testare se ricade nel folder IdFolderOuterIn
315        			FlgAppDirettaIn		IN		PLS_INTEGER DEFAULT NULL			-- (valori 1/0/NULL) Se 1 la relazione di appartenenza che si vuole testare se esiste è una relazione DIRETTA
316        																-- se diverso da 1 il test dà esito positivo anche se il folder/UD appartiene ad un folder ricompreso in IdFolderOuterIn
317        			)return PLS_INTEGER;										-- Valori possibili: 
318        																--	1	=	test positivo 
319        																--	0	=	test negativo 
320        
321        	----funzione per trovare tutti i sub-folder contenuti anche indirettamente in un dato folder
322            	function TrovaSubFolder(
323                    IdFolderIn     IN        DMT_FOLDER.ID_FOLDER%type            -- (obblig.) Identificativo del folder di cui trovare i subfolder
324                    ) return DMTO_ID;
325        															--	interi negativi = errore (il result è il codice d'errore)
326        
327        	----funzione per trovare tutti i folder, eccettuate la libreria, in cui è contenuto, anche indirettamente, un dato folder
328        	function TrovaSupFolder(
329        			IdFolderIn 	IN		INTEGER			-- (obblig.) Identificativo del folder di cui trovare i folder superiori
330        			) return DMTO_ID;					-- lista con gli ID dei folder di appartenenza
331        
332        	/****** Funzione per trovare quale parte di un path esiste in una data libreria, vale a dire corrisponde ad un suo folder esistente 	*********/
333        	/****** Come output restituisce l'id. del folder che corrisponde a tutto il path o eventualmente solo a una sua parte iniziale		*********/
334        	/****** Se non esiste un folder corrispondente all'intero path restituisce anche la parte del path non trovata					*********/
335        	function CheckPath(
336        			IdSpAOOIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type DEFAULT NULL,	
337        																	-- (obblig. se IdLibraryIn non è valorizzato) Identificativo del sogg. produttore/AOO cui appartiene la libreria in cui ricercare
338        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- (obblig. se NomeLibraryIn non è valorizzato) Id. della libreria in cui ricercare
339        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- (obblig. se IdLibraryIn non è valorizzato) Nome della libreria in cui ricercare. 
340        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive 
341        			PathIn			IN		VARCHAR2,							-- (obblig.) Percorso da verificare (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
342        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
343        			IdNodoOut			OUT		DMT_FOLDER.ID_FOLDER%type,				-- Id. del folder che corrisponde a tutto il path o solo alla sua parte iniziale che è stata trovata già esistente nella libreria
344        			PathNonEsistenteOut	OUT		VARCHAR2,							-- Parte del percorso che non risulta esistere nella libreria (è un percorso relativo a partire dal nodo identificato da IdNodoOut se IdNodoOut è valorizzato, altrimenti è l'intero percorso PathIn)
345        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
346        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
347        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
348        			) return PLS_INTEGER;											-- restituisce 1 in caso il check sia andato a buon fine, 0 in caso di errore
349        
350        	/****** Funzione per trovare quale parte di un path esiste in una data libreria, vale a dire corrisponde ad un suo folder esistente 	*********/
351        	/****** Come output restituisce l'id. del folder che corrisponde a tutto il path o eventualmente solo a una sua parte iniziale		*********/
352        	/****** Se non esiste un folder corrispondente all'intero path restituisce anche la parte del path non trovata					*********/
353        	function CheckPathXAddRicorsiva(
354        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
355        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Identificativo dell''utente di lavoro
356        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria in cui ricercare.
357        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- Nome della libreria in cui ricercare. 
358        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive 
359        																	-- ATTENZIONE: Se nè id. nè nome della libreria sono specificati si intende la libreria di default (per l'utente connesso o l'applicazione da cui lavora o per il sistema).
360        			PathIn			IN		VARCHAR2,							-- (obblig.) Percorso da verificare (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
361        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
362        			IdNodoOut			OUT		DMT_FOLDER.ID_FOLDER%type,				-- Id. del folder che corrisponde a tutto il path o solo alla sua parte iniziale che è stata trovata già esistente nella libreria
363        			NodiPathDaCreareOut	OUT		CLOB,								-- Lista XML (secondo schema LISTA_STD.xsd) con i nodi del percorso che non risultano esistere nella libreria
364        																	-- Ogni nodo è un tag "Riga" con le seguenti colonne:
365        																	-- 1: Nome del folder
366        																	-- 2: Path e nome del folder (a partire dalla libreria esclusa) 
367        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
368        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
369        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
370        			) return PLS_INTEGER;											-- restituisce 1 in caso il check sia andato a buon fine, 0 in caso di errore
371        
372        
373        	/****** Funzione per ottenere il path di un documento o un'unità documentaria o un folder (in quest'ultimo caso il path include il nome del folder stesso)		*****/
374        	/****** Poichè questi oggetti possono avere più folderizzazioni il path mostrato è quello relativo alla prima delle folderizzazioni visibili all'utente di lavoro	*****/
375        	/****** In caso non vi siano folderizzazioni visibili all'utente viene mostrata la prima non visibile (non visibile in parte o in toto)					*****/	
376        	function GetPath(
377        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Identificativo dell''utente di lavoro
378        			ObjTypeToVerifyIn		IN		VARCHAR2,							-- (obblig.) Tipo di oggetto della repository per cui trovare il path. Valori possibili:
379        																	-- D = Documento
380        																	-- U = Unità documentaria 
381        																	-- F = Folder
382        			IdObjToVerifyIn		IN		INTEGER,							-- (obblig.) Id. dell'oggetto della repository per cui trovare il path (ID_DOC o ID_UD o ID_FOLDER)
383        			ViaIdFolderIn		IN		INTEGER DEFAULT NULL					-- Id. dell'eventuale folder per cui deve passare il percorso
384        			) return VARCHAR2;											-- Path dell'oggetto (con nome libreria e inclusivo del nome del folder da cui si parte se ObjTypeToVerifyIn='F')
385        																	-- Può essere NULL in caso di errori/oggetto della repository inesistente o con nessuna folderizzazione 
386        
387        	/****** Funzione per ottenere il path di un documento o un'unità documentaria o un folder (in quest'ultimo caso il path include il nome del folder stesso)		*****/
388        	/****** E' un overload della funzione precedente più "leggera" di quest'ultima in quanto alcuni dati che lì erano calcolati qui sono recepiti in input		*****/
389        	function GetPath_L(
390        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type,				-- (obblig.) Identificativo dell''utente di lavoro
391        			FlgTpDominioAutIn			IN		INTEGER,						-- (obblig. valori 2/3) Indica se il dominio di lavoro è un soggetto produttore (2) o un'AOO (=3)
392        			IdDominioAutIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,	-- (obblig.) Identificativo del sogg. produttore o AOO in cui si sta lavorando
393        			FlgVisibIndipACLIn		IN		VARCHAR2,						-- (valori D/F/W o loro concatenazione) Indica se e su quali oggetti della repository l'utente di lavoro ha visibilità indipendentemente dalla loro ACL
394        			FlgVisibIndipUserAbilIn		IN		VARCHAR2,						-- (valori D/F/W o loro concatenazione) Indica se e su quali oggetti della repository l'utente di lavoro ha visibilità indipendentemente dall'essere abilitato al loro tipo, riservatezza ecc. 
395        			MaxLivRiservUserIn		IN		INTEGER,						-- Massimo livello di riservatezza di folder e documenti cui può accedere l'utente nel dominio di lavoro
396        			IdFolderTypeAbilTabIn		IN		DMTO_ID,						-- Lista con gli id. dei tipi folder cui è abilitato l'utente
397        			IdClassifAbilTabIn		IN		DMTO_ID,						-- Lista con gli id. delle classificazioni cui è abilitato l'utente
398        			Par_CTRL_FOLDER_TYPE_X_VISIn	IN	DMT_CONFIG_PARAM.PAR_VALUE%type,
399        			Par_CTRL_CLASSIF_X_VISIn		IN 	DMT_CONFIG_PARAM.PAR_VALUE%type,
400        			ObjTypeToVerifyIn			IN		VARCHAR2,						-- (obblig.) Tipo di oggetto della repository per cui trovare il path. Valori possibili:
401        																	-- D = Documento
402        																	-- U = Unità documentaria 
403        																	-- F = Folder
404        			IdObjToVerifyIn			IN		INTEGER,						-- (obblig.) Id. dell'oggetto della repository per cui trovare il path (ID_DOC o ID_UD o ID_FOLDER)
405        			ViaIdFolderIn			IN		INTEGER DEFAULT NULL				-- Id. dell'eventuale folder per cui deve passare il percorso
406        			) return VARCHAR2;											-- Path dell'oggetto (con nome libreria e inclusivo del nome del folder da cui si parte se ObjTypeToVerifyIn='F')
407        																	-- Può essere NULL in caso di errori/oggetto della repository inesistente o con nessuna folderizzazione 
408        
409        	/***** Funzione per ottenere l'id. di una workspace a partire dal suo nome e/o id. ******/
410        	function FindWorkspace(
411        			IdSpAOOIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,		-- (obblig.) Identificativo del sogg. produttore/AOO cui appartiene il workspace da ricercare
412        			NomeWorkspaceIn		IN		DMT_WORKSPACES.NOME_WORKSPACE%type, 		-- Nome del workspace da ricercare. 
413        																	-- La ricerca sul nome del workspace è esatta, a meno che il nome non contenga caratteri jolly, e case insensitive
414        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type DEFAULT NULL	-- Id. della workspace da ricercare
415        			) return INTEGER;												-- restituisce l'ID_WORKSPACE del workspace trovato
416        																	-- è NULL in caso di errore o workspace inesistente/non individuabile univocamente
417        
418        	/***** Funzione per trovare l'id. del tipo di folder generale (quello non ricompreso a sua volta in altro tipo) in cui ricade un dato tipo di folder ******/
419        	function GetIdFolderTypeGen(
420        			IdFolderTypeIn		IN		DMT_FOLDER_TYPES.ID_FOLDER_TYPE%type		-- Id. del tipo di folder per cui trovare il tipo generale (quello da settare in DMT_FOLDER.ID_FOLDER_TYPE_GEN)
421        			) return DMT_FOLDER_TYPES.ID_FOLDER_TYPE%type;							-- Identificativo del tipo di folder generale (cioè un tipo senza tipo + generale) in cui ricade IdFolderTypeIn
422        
423        	/***** Table function che restituisce gli id. dei tipi di folder in cui ricade un dato tipo di folder 	*****/
424        	/***** In caso di errore l'errore non viene gestito ed è restituito al chiamante					*****/ 
425        	function GetIdFolderTypesSup(
426        			IdFolderTypeIn		IN		DMT_FOLDER_TYPES.ID_FOLDER_TYPE%type			-- Id. del tipo di folder di cui trovare i tipi di folder in cui ricade 
427        			) return DMTO_ID;													-- Lista con gli id. dei tipi di folder in cui ricade
428        
429        	/***** Table function che restituisce gli id. dei tipi di documenti in cui ricade un dato tipo di documento 	*****/
430        	/***** In caso di errore l'errore non viene gestito ed è restituito al chiamante						*****/ 
431        	function GetIdDocTypesSup(
432        			IdDocTypeIn			IN		DMT_DOC_TYPES.ID_DOC_TYPE%type				-- Id. del tipo di documento di cui trovare i tipi di doc. in cui ricade 
433        			) return DMTO_ID;													-- Lista con gli id. dei tipi di documenti in cui ricade
434        
435        	/********** Funzione per testare se nel dominio di autenticazione la gestione dell'archivio documentale è consentita **********/
436        	function TestGestArchivioInDominioAut(
437        			IdDominioAutIn		IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type)		-- Identificativo del dominio di autenticazione, vale a dire l'id. del soggetto produttore o AOO 
438        			return PLS_INTEGER;											-- restituisce 1 se il test è positivo, altrimenti 0
439        
440        	/***************** Funzione per ottenere il n.ro progressivo dell'ultima versione (VALIDA o meno) di un documento *********/
441        	function GetNroLastVerDoc(
442        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				--(obblig.) Identificativo del documento di cui trovare l'ultima versione
443        			FlgIgnoreDelLogIn		IN		PLS_INTEGER DEFAULT NULL				-- (valori 1/0) Se 1 vengono considerate anche le versioni annullamente logicamente										
444        			) return PLS_INTEGER;											-- è il n.ro dell'ultima versione valida; è NULL in caso di documento in input inesistente o non specificato o senza versioni elettroniche
445        
446        	/***************** Funzione per ottenere il codice dell'ultima versione VALIDA di un documento *********/
447        	function GetCodLastVerDoc(
448        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type				--(obblig.) Identificativo del documento di cui trovare l'ultima versione
449        			) return VARCHAR2;											-- è il codice dell'ultima versione valida; è NULL in caso di documento in input inesistente o non specificato o senza versioni elettroniche
450        
451        	/***************** Funzione per ottenere il n.ro progressivo dell'ultima versione di un documento visibile ad un dato utente di lavoro*********/
452        	function GetNroLastVisibleVerDoc(
453        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		--(obblig.) Id. dell'utente a nome di cui si lavora (quello connesso se si lavora a proprio nome)
454        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				--(obblig.) Identificativo del documento di cui trovare l'ultima versione valida visibile all'utente di lavoro
455        			FlgIgnoreDelLogIn		IN		PLS_INTEGER DEFAULT NULL				-- (valori 1/0/NULL) Se 1 vengono considerate anche le versioni logicamente annullate										
456        			) return PLS_INTEGER;											-- è il n.ro dell'ultima versione valida visibile all'utente di lavoro; è NULL in caso di documento in input inesistente o non specificato o senza versioni elettroniche visibili all'utente e valide
457        
458        	/**************** Funzione per ottenere i dati di una versione elettronica di un documento visibile ad un dato utente di lavoro (anche se annullata)			*************/
459        	/**************** Se il n.ro di versione non viene specificato si intende che si debba estrarre l'ultima versione valida visibile all'utente di lavoro		*************/
460        	function GetVerDoc(
461        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
462        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
463        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				--(obblig.) Identificativo del documento di cui estrarre i dati di una versione
464        			NroProgrVerIO		IN OUT	INTEGER,							-- N.ro progressivo che identifica la versione di cui estrarre i dati
465        																	-- Se non valorizzato si intende l'ultima versione valida visibile all'utente di lavoro
466        																	-- In output dà il n.ro progressivo della versione di cui si sono estratti i dati 
467        			AttributiVerXMLOut	OUT		NOCOPY CLOB,						-- XML contenente nomi e valori degli attributi della versione elettronica (conforme allo schema SezioneCache.xsd)
468        																	-- Questi attributi sono:
469        																	--	#DisplayFilename_Ver 		Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
470        																	--	#URI_Ver					Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
471        																	--	#Impronta_Ver			Impronta del file
472        																	--	#Algoritmo_Impronta_Ver	Algoritmo con cui è stata calcolata l'impronta (SHA-1, SHA-256, MD5 ecc)
473        																	--	#Encoding_Impronta_Ver	Encoding con cui è stata calcolata l'impronta: hex = esadecimale, base64 = in base 64
474        																	--	#Dimensione_Ver			Dimensione in bytes della versione
475        																	--	#FlgFirmata_Ver			(valori 1/0) Se 1 significa che la versione elettronica è firmata digitalmente, se 0 non è firmata
476        																	--	#Mimetype_Ver			Mimetype del file della versione (se è firmato con busta p7m, m7m o tsd è il formato del file "sbustato): è il mimetype principale del formato del file
477        																	--	#Cod_Ver				Codice identificativo della versione
478        																	--	#NroProgrVerBckVerDi_Ver		N.ro progressivo dell'eventuale versione di cui è una back-version
479        																	--	#FlgValida_Ver				(valori 1/0) Se 1 la versione è valida, altrimenti è annullata
480        																	--	#FlgPubblicata_Ver 		(valori 1/0) Se 1 indica che la versione è pubblicata, altrimenti no 
481        																	--	#IdFormatoEl_Ver 			Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
482        																	--	#NomeFormatoEl_Ver			Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
483        																	--	#FlgDaScansione_Ver 		(valori 1/0) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
484        																	--	#DtScansione_Ver 			Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
485        																	--	#IdUserScansione_Ver 			Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
486        																	--	#CIEstUserScansione_Ver		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha scansionato l'immagine corrispondente alla versione
487        																	--	#DesUserScansione_Ver 		Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
488        																	--	#SpecificheScansione_Ver 		Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
489        																	--	#Note_Ver				Note della versione
490        																	--	#DesUserCreazione_Ver		Utente di creazione
491        																	--	#TsCreazione_Ver			Data e ora di creazione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
492        																	--	#DesUserUltimaMod_Ver		Utente di ultima modifica
493        																	--	#TsUltimaMod_Ver			Data e ora di ultima modifica (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)		
494        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ver: qualsiasi attributo dinamico specificabile su una versione			
495        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
496        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
497        			ErrMsgOut			OUT 		VARCHAR2)							-- Messaggio d'errore
498        			return PLS_INTEGER;											-- vale 1 in caso di successo, altrimenti 0
499        
500        	/******* Funzione per ottenere il riferimento univoco (URI) attraverso cui reperire nella repository il file corrispondente ad una specifica versione ******/
501        	/******* o l'ultima valida e visibile all'utente, se non è specificato quale, di un dato documento.									******/
502        	/******* ATTENZIONE: nel caso i cui la versione non sia specificata e non ne esista alcuna valida e visibile non viene dato errore				******/
503        	function GetURIVerDoc(
504        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
505        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
506        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
507        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione di cui trovare l'URI
508        																	-- ATTENZIONE: se in input è NULL significa che si vuole estrarre l'ultima versione valida del documento visibile all'utente
509        																	-- In output, in caso di successo, restituisce il n.ro della versione di cui si è trovato il riferimento
510        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository il file corrispondente alla versione
511        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
512        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
513        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
514        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
515        
516        	/******* Funzione per ottenere il display name del file corrispondente ad una specifica versione 		 							******/
517        	/******* o l'ultima valida e visibile all'utente, se non è specificato quale, di un dato documento.									******/
518        	/******* ATTENZIONE: nel caso i cui la versione non sia specificata e non ne esista alcuna valida e visibile non viene dato errore				******/
519        	function GetDisplayNameVerDoc(
520        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
521        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
522        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
523        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione di cui trovare l'URI
524        																	-- ATTENZIONE: se in input è NULL significa che si vuole estrarre l'ultima versione valida del documento visibile all'utente
525        																	-- In output, in caso di successo, restituisce il n.ro della versione di cui si è trovato il riferimento
526        			DisplaynameVerOut		OUT		VARCHAR2,						      -- Nome con cui mostrare nella GUI il file corrispondente alla versione
527        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
528        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
529        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
530        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
531        
532        	/******* Funzione per ottenere come output "semplici" i dati salienti di una versione elettronica (l'ultima valida, se il n.ro non è specificato) di un documento *******/
533        	/******* I dati vengono estratti senza tener conto delle policy di accesso 															*******/
534        	function GetMainDataVerDoc(
535        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Id. del documento di cui estrarre le versioni
536        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione di cui trovare i dati
537        																	-- ATTENZIONE: se in input è NULL significa che si vuole estrarre l'ultima versione valida del documento 
538        																	-- In output, in caso di successo, restituisce il n.ro della versione di cui si sono estratti i dati
539        			CodVerOut			OUT		VARCHAR2,							-- Codice identificativo della versione
540        			FlgVldOut			OUT		PLS_INTEGER,						--(valori 1/0) Indica se la versione è valida (1) o logicamente annullata
541        			DisplayFilenameVerOut	OUT		VARCHAR2,							-- Nome con cui mostrare/in cui estrarre il file corrispondente alla versione
542        			URIVerOut			OUT		VARCHAR2,						-- Riferimento per reperire univocamente nella repository il file corrispondente alla versione
543        			ImprontaVerOut		OUT		VARCHAR2,						-- Impronta del file
544        			AlgoritmoImprontaVerOut	OUT		VARCHAR2,					-- 	Algoritmo di calcolo dell'impronta: SHA-1, SHA-256, MD5 ecc
545        			EncodingImprontaVerOut	OUT		VARCHAR2,					-- Encoding usato nel calcolo dell'impronta: hex = esadecimale, base64 = in base 64
546        			DimensioneVerOut	OUT		INTEGER,						-- Dimensione del file in bytes
547        			MimetypeVerOut		OUT		VARCHAR2,						-- Mimetype del file (quello interno all'eventuale busta crittografica): è il mimetype principale del formato del file
548        			FlgFirmataVerOut		OUT		PLS_INTEGER,					-- (valori 1/0) Indica se il file è firmato digitalmente			
549        			NoteVerOut			OUT		VARCHAR2,							-- Note della versione
550        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
551        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
552        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
553        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
554        
555        	/***** Funzione per estrarre i dati di tutte le versioni di un documento, senza tener conto delle policy di accesso *****/
556        	function GetListDocVersion(
557        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Id. del documento di cui estrarre le versioni
558        			VersionListXMLOut		OUT		NOCOPY CLOB,						-- Lista delle versioni trovate (XML conforme a schema LISTA_STD.xsd)
559        																	-- Ogni versione è un tag Riga che può contenere le seguenti colonne: 
560        																	--	1: N.ro progressivo che identifica la versione
561        																	--	2: Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
562        																	--	3: Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
563        																	--	4: Impronta del file
564        																	--	5: Codice identificativo della versione
565        																	--	6: N.ro progressivo dell'eventuale versione di cui è una back-version
566        																	--	7: (valori 1/0) Se 1 la versione è valida, altrimenti è annullata
567        																	--	8: (valori 1/0) Se 1 indica che la versione è pubblicata, altrimenti no 
568        																	--	9: Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
569        																	--	10: Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
570        																	--	11: (valori 1/0) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
571        																	--	12: Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
572        																	--	13: Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
573        																	--	14: <non utilizzata>
574        																	--	15: Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
575        																	--	16: Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
576        																	--	17: Note della versione
577        																	--	18: Utente di creazione
578        																	--	19: Data e ora di creazione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
579        																	--	20: Utente di ultima modifica
580        																	--	21: Data e ora di ultima modifica (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)	
581        																	--	22: <non utilizzata>
582        																	-- 	23: Algoritmo di calcolo dell'impronta(col 4): SHA-1, SHA-256, MD5 ecc
583        																	--	24: Encoding usato nel calcolo dell'impronta(col 4): hex = esadecimale, base64 = in base 64
584        																	--	25: Dimensione del file in bytes
585        																	--	26: Mimetype del file (il mimetype principale del formato del file)
586        																	-- 	27: (valori 1/0) Indica se il file è firmato digitalmente
587        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
588        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
589        			ErrMsgOut			OUT 		VARCHAR2,							-- Messaggio d'errore
590        			FlgIgnoreDelLogIn		IN		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0) Se 1 vengono considerate anche le versioni logicamente annullate, altrimenti no										
591        			NomeTagRigaIn		IN		VARCHAR2 default null,					-- se valorizzato è il nome del tag riga che deve avere l'xml in output
592        			NomeTagColonnaIn		IN		DMVA_STRING default null   				-- se valorizzato rappresenta i nomi dei tag colonne dell'xml di output
593        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
594        
595        	/***** Funzione per estrarre i dati delle versioni di un documento visibili all'utente di lavoro in base a tutte le policy di accesso *****/
596        	function TrovaVisibleDocVersion(
597        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
598        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
599        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Id. del documento di cui estrarre le versioni
600        			FlgIgnoreDelLogIn		IN		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0) Se 1 vengono estratte anche le versioni logicamente annullate, altrimenti no										
601        			------------- inizio argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
602        			ColOrderByIO			IN OUT	VARCHAR2,						-- Indica il/i numeri della/e colonna dell'XML (CLOB ResultOut) di output per cui ordinare i record nell'XML stesso (si può ordinare solo per le colonne da 1, 2 e 5). Se l'ordinamento è per più colonne queste vanno separate con "," (es: 2; 2,3)
603        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul tipo di ordinamento una qualche preimpostazione di sistema/utente ecc.
604        																	-- se non valorizzato (neppure in output) la lista di record restituita non è ordinata
605        			FlgDescOrderByIO  		IN OUT	VARCHAR2,						-- E' una stringa di 1 o 0/NULL, tanti quanti le colonne di ordinamento, separati da ",": 1 significa che l'ordinamento per la data colonna deve essere discendente anzichè ascendente (es: 1; 1,0; 1, )
606        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul verso di ordinamento una qualche preimpostazione di sistema/utente ecc.			
607        			FlgSenzaPaginazioneIn 		IN 		PLS_INTEGER DEFAULT NULL,            	-- (valori 1/0/NULL) Se 1 l'estrazione non è paginata, altrimenti sì
608        			NroPaginaIO      			IN OUT	PLS_INTEGER,                  		-- E' il numero della pagina da estrarre; se NULL e l'estrazione è paginata viene estratta la prima pagina
609           			BachSizeIO				IN OUT	PLS_INTEGER,					-- Indica il massimo n.ro di record da estrarre se l'estrazione non è paginata (FlgSenzaPaginazioneIn=1)  
610        																	-- Indica la dimensione (n.ro di record) della pagina se l'estrazione è paginata (FlgSenzaPaginazioneIn 0 o NULL) e in tal caso se non è valorizzato la dimensione della pagina è quella settata per l'utente di lavoro o è pari al valore del parametro STD_PAGE_NUM_ROW del dominio di lavoro				
611        			OverFlowLimitIn			IN		PLS_INTEGER DEFAULT NULL,			-- E' il n.ro di record soddisfacenti la ricerca superato il quale la funzione deve restituire errore di overflow
612        			FlgSenzaTotIn			IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 significa che non è richiesto come output il totale dei record soddisfacenti la ricerca (se la ricerca è paginata per la prima pagina il totale viene calcolato comunque, per le successive no)
613        			NroTotRecOut			OUT		PLS_INTEGER,					-- E' il n.ro di record complessivi trovati (valorizzato solo se FlgSenzaTotIn è 0 o NULL o se si estrae la prima pagina)
614             			NroRecInPaginaOut 		OUT   	PLS_INTEGER,                     		-- E' il numero di record nella pagina (valorizzato solo se l'estrazione è paginata, ovvero se FlgSenzaPaginazioneIn 0 o NULL)
615        			------------- fine argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
616        			VersionListXMLOut		OUT		NOCOPY CLOB,						-- Lista delle versioni trovate (XML conforme a schema LISTA_STD.xsd)
617        																	-- Ogni versione è un tag Riga che può contenere le seguenti colonne: 
618        																	--	1: N.ro progressivo che identifica la versione
619        																	--	2: Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
620        																	--	3: Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
621        																	--	4: Impronta del file
622        																	--	5: Codice identificativo della versione
623        																	--	6: N.ro progressivo dell'eventuale versione di cui è una back-version
624        																	--	7: (valori 1/0) Se 1 la versione è valida, altrimenti è annullata
625        																	--	8: (valori 1/0) Se 1 indica che la versione è pubblicata, altrimenti no 
626        																	--	9: Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
627        																	--	10: Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
628        																	--	11: (valori 1/0) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
629        																	--	12: Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
630        																	--	13: Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
631        																	--	14: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha scansionato l'immagine corrispondente alla versione
632        																	--	15: Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
633        																	--	16: Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
634        																	--	17: Note della versione
635        																	--	18: Utente di creazione
636        																	--	19: Data e ora di creazione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
637        																	--	20: Utente di ultima modifica
638        																	--	21: Data e ora di ultima modifica (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)		
639        																	--	22: Bitmap di 1/0 che indica le operazioni possibili sulla versione
640        																	--		1° carattere: Modifica note
641        																	--		2° carattere: Modifica stato di pubblicazione
642        																	--		3° carattere: Annullamento logico
643        																	--		4° carattere: Ripristino
644        																	--		5° carattere: Cancellazione fisica 	
645        																	--		6° carattere: Abilitazione al download del file	
646        																	-- 	23: Algoritmo di calcolo dell'impronta(col 4): SHA-1, SHA-256, MD5 ecc
647        																	--	24: Encoding usato nel calcolo dell'impronta(col 4): hex = esadecimale, base64 = in base 64
648        																	--	25: Dimensione del file in KBytes
649        																	--	26: Mimetype del file (il mimetype principale del formato del file)
650        																	-- 	27: (valori 1/0) Indica se il file è firmato digitalmente
651        																	--	28: (valori 1/0) Indica se il file è pdf o convertibile in pdf
652        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
653        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
654        			ErrMsgOut			OUT 		VARCHAR2,							-- Messaggio d'errore
655        			NomeTagRigaIn		IN		VARCHAR2 default null,					-- se valorizzato è il nome del tag riga che deve avere l'xml in output
656        			NomeTagColonnaIn		IN		DMVA_STRING default null   				-- se valorizzato rappresenta i nomi dei tag colonne dell'xml di output
657        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
658        
659        	/***************** Funzione da richiamare per avere i dati per estrarre il file corrispondente ad una data versione, valida e visibile, di un documento (o l'ultima valida e visibile, se nessuna è specificata) *********/
660        	function ExtractVerDoc(
661        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
662        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
663        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
664        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione da estrarre;
665        																	-- ATTENZIONE: se in input è NULL significa che si vuole estrarre l'ultima versione valida e visibile del documento
666        																	-- In output, in caso di successo, restituisce il n.ro della versione estratta
667        			DisplayFilenameVerOut	OUT		VARCHAR2,							-- Nome con cui mostrare/in cui estrarre il file corrispondente alla versione
668        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository il file corrispondente alla versione
669        			ImprontaVerOut		OUT		VARCHAR2,							-- Impronta del file corrispondente alla versione
670        			AlgoritmoImprontaVerOut	OUT		VARCHAR2,					-- 	Algoritmo di calcolo dell'impronta: SHA-1, SHA-256, MD5 ecc
671        			EncodingImprontaVerOut	OUT		VARCHAR2,					-- Encoding usato nel calcolo dell'impronta: hex = esadecimale, base64 = in base 64
672        			DimensioneVerOut	OUT		INTEGER,						-- Dimensione del file in bytes
673        			MimetypeVerOut		OUT		VARCHAR2,						-- Mimetype del file (quello interno all'eventuale busta crittografica)
674        																		-- è il mimetype principale del formato del file
675        			FlgFirmataVerOut		OUT		PLS_INTEGER,					-- (valori 1/0) Indica se il file è firmato digitalmente			
676        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
677        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
678        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
679        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
680        
681        	----overload della precedente, per retrocomaptibilità con versioni di Auriga precedenti alla 3
682        	function ExtractVerDoc(
683        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
684        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
685        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
686        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione da estrarre;
687        																	-- ATTENZIONE: se in input è NULL significa che si vuole estrarre l'ultima versione valida e visibile del documento
688        																	-- In output, in caso di successo, restituisce il n.ro della versione estratta
689        			DisplayFilenameVerOut	OUT		VARCHAR2,							-- Nome con cui mostrare/in cui estrarre il file corrispondente alla versione
690        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository il file corrispondente alla versione
691        			ImprontaVerOut		OUT		VARCHAR2,							-- Impronta del file corrispondente alla versione
692        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
693        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
694        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
695        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
696        
697        	/*************** Funzione per ottenere i metadati (profilo) con cui caratterizzare un documento su un dato DMS 		***************/
698        	/*************** Si può utilizzare anche solo per avere le credenziali con cui accedere al DMS					***************/
699        	function GetProfiloDocXContainer(
700        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
701        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
702        			ContainerTypeIn		IN		DMT_DOCUMENTS.CONTAINER_TYPE%type,			-- (obblig.) Sigla che indica il tipo di contenitore (Hummingbird, Filenet ecc) in cui si trova o deve essere creato il documento 
703        			ContainerAliasIn		IN		DMT_DOCUMENTS.CONTAINER_ALIAS%type,			-- (obblig.) Alias che identifica lo specifico contenitore (del tipo ContainerTypeIn) in cui si trova o deve essere creato il documento 
704        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
705        			FlgProfNotNeededIn	IN		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 indica che il profilo non va restituito (solo le credenziali di accesso al container)		
706        			UsernameOut			OUT		VARCHAR2,							-- Username con cui accreditarsi sul container
707        			PasswordOut			OUT		VARCHAR2,							-- Password con cui accreditarsi sul container
708        			ProfiloXMLOUT 		OUT		NOCOPY CLOB,						-- (valorizzato solo se FlgProfNotNeededIn non è 1) XML contenente nomi e valori degli attributi del documento da riportare sul contenitore (conforme allo schema SezioneCache.xsd)
709        																	-- Per gli attributi vale quanto segue:
710        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti sul container:
711        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente sul container per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo sul container va rimosso
712        																	--			per gli attributi con valore lista i valori nell'XML sostituiscono quelli già presenti sul container; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti sul container vanno rimossi
713        																	-- 		gli attributi presenti sul container per cui non c'è corrispondente nell'XML restano invariati
714        																	-- Questi attributi sono:
715        																	--	#NomeLogico_!PROF			Nome logico
716        																	--	#FlgVerPubblicata_!PROF		(valori 1/0) Se 1 indica che la versione del doc. è pubblicata, se 0 che non lo è
717        																	--						E' presente solo in caso di AddDoc/Step-Version
718        																	--	#@Formato_!PROF			Formato del documento (lista con una sola riga)
719        																	--						La riga della lista contiene le seguenti colonne:
720        																	--						2: codice id. del formato in AURIGA
721        																	--						3: codice id. del formato sul container
722        																	--						4: nome del formato
723        																	--	#@Profili_!PROF			Lista con il/i tipo/tipi del documento ed eventuali attributi/property. 
724        																	--						Se nella riga mancano tutte le colonne relative all'attributo significa che si vuole settare solo il tipo/profilo.
725        																	--						La riga della lista contiene le seguenti colonne:
726        																	--						2: codice id. del tipo/profilo in AURIGA
727        																	--						3: codice id. del tipo/profilo sul container
728        																	--						4: nome del tipo/profilo
729        																	--						5: codice id. dell''attributo/property in AURIGA
730        																	--						6: codice id. dell''attributo/property sul container
731        																	--						7: nome/label dell''attributo/property 
732        																	--						8: valore dell''attributo/property 
733        																	--	#@FolderAppartenenza_!PROF	Lista con i folder di diretta appartenenza (librerie incluse) (solo quelli presenti sul container)
734        																	--						Ciscuna riga della lista contiene le seguenti colonne:
735        																	--						2: Id. del folder in AURIGA
736        																	--						3: URI che permette di individuare il folder nella repository
737        																	--						4: Percorso e nome del folder
738        																	--	#@Workspaces_!PROF		Lista con i workspace di appartenenza (solo quelli presenti sul container)
739        																	--						Ciscuna riga della lista contiene le seguenti colonne:
740        																	--						2: Id. del workspace in AURIGA
741        																	--						3: URI che permette di individuare il workspace nella repository
742        																	--						4: Nome del workspace
743        																	--	#@RelazioniVsAltriDoc_!PROF	Lista con le relazioni verso altri documenti (solo quelli che hanno una versione sul container)
744        																	--						Ciscuna riga della lista contiene le seguenti colonne:
745        																	--						2: Id. del documento in AURIGA
746        																	--						3: URI che permette di individuare il documento nella repository (è l'URI che punta ad una sua vers. presente sul container)
747        																	--						4: Percorso + nome logico del documento
748        																	--						5: codice id. della natura della relazione in AURIGA
749        																	--						6: codice id. della natura della relazione sul container
750        																	--						7: nome della natura della relazione
751        																	--	#@ACL_!PROF				Lista con i permessi assentiti o negati sull'unità documentaria e i suoi documenti
752        																	--						Ciscuna riga della lista contiene le seguenti colonne:
753        																	--						2: codice id. del destinatario del permesso su AURIGA
754        																	--						3: codice id. del destinatario del permesso sul container
755        																	--						4: Denominazione/nome del destinatario del permesso
756        																	--						5: Indicatore del tipo di destinatario del permesso
757        																	--							Valori possibili:
758        																	--							ALL	= A tutti  
759        																	-- 							UT 	= Utente
760        																	--							G	= Gruppo
761        																	--							R	= Ruolo
762        																	--						6:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
763        																	--						7:(valori 1/0/NULL) Indica se la visualizzazione dei file del documento è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
764        																	--						8:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
765        																	--						9:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file del documento è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
766        																	--						10:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
767        																	--						11:(valori 1/0/NULL) Indica se la copia del documento è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
768        																	--						12:(valori 1/0/NULL) Indica se l'eliminazione del documento è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
769        																	--						13:(valori 1/0/NULL) Indica se il ripristino del documento eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
770        																	--						14:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file del documento è relativo alle sole versioni pubblicate
771        			AttributiVerIn		IN		CLOB,								-- XML conforme a schema Sezionecache.xsd che contiene gli attributi della versione elettronica da caricare
772        																	-- Va valorizzato in caso di AddDoc/Step-Version e Update di versione
773        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
774        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
775        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
776        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
777        
778        	/*************** Funzione per ottenere i metadati (profilo) con cui caratterizzare un folder su un dato DMS 		***************/
779        	/*************** Si può utilizzare anche solo per avere le credenziali con cui accedere al DMS					***************/
780        	function GetProfiloFolderXContainer(
781        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
782        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
783        			ContainerTypeIn		IN		DMT_DOCUMENTS.CONTAINER_TYPE%type,			-- (obblig.) Sigla che indica il tipo di contenitore (Hummingbird, Filenet ecc) in cui si trova o deve essere creato il folder 
784        			ContainerAliasIn		IN		DMT_DOCUMENTS.CONTAINER_ALIAS%type,			-- (obblig.) Alias che identifica lo specifico contenitore (del tipo ContainerTypeIn) in cui si trova o deve essere creato il folder 
785        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Identificativo del folder
786        			FlgProfNotNeededIn	IN		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 indica che il profilo non va restituito (solo le credenziali di accesso al container)		
787        			UsernameOut			OUT		VARCHAR2,							-- Username con cui accreditarsi sul container
788        			PasswordOut			OUT		VARCHAR2,							-- Password con cui accreditarsi sul container
789        			ProfiloXMLOUT 		OUT		NOCOPY CLOB,						-- (valorizzato solo se FlgProfNotNeededIn non è 1) XML contenente nomi e valori degli attributi del folder da riportare sul contenitore (conforme allo schema SezioneCache.xsd)
790        																	-- Per gli attributi vale quanto segue:
791        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti sul container:
792        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente sul container per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo sul container va rimosso
793        																	--			per gli attributi con valore lista i valori nell'XML sostituiscono quelli già presenti sul container; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti sul container vanno rimossi
794        																	-- 		gli attributi presenti sul container per cui non c'è corrispondente nell'XML restano invariati
795        																	-- Questi attributi sono:
796        																	--	#NomeLogico_!PROF			Nome logico
797        																	--	#@Profili_!PROF			Lista con il/i tipo/tipi del folder ed eventuali attributi/property. 
798        																	--						Se nella riga mancano tutte le colonne relative all'attributo significa che si vuole settare solo il tipo/profilo.
799        																	--						La riga della lista contiene le seguenti colonne:
800        																	--						2: codice id. del tipo/profilo in AURIGA
801        																	--						3: codice id. del tipo/profilo sul container
802        																	--						4: nome del tipo/profilo
803        																	--						5: codice id. dell''attributo/property in AURIGA
804        																	--						6: codice id. dell''attributo/property sul container
805        																	--						7: nome/label dell''attributo/property 
806        																	--						8: valore dell''attributo/property 
807        																	--	#@FolderAppartenenza_!PROF	Lista con i folder di diretta appartenenza (librerie incluse) (solo quelli presenti sul container)
808        																	--						Ciscuna riga della lista contiene le seguenti colonne:
809        																	--						2: Id. del folder in AURIGA
810        																	--						3: URI che permette di individuare il folder nella repository
811        																	--						4: Percorso e nome del folder
812        																	--	#@RelazioniVsAltriFolder_!PROF	Lista con le relazioni verso altri folder (solo quelli che hanno una versione sul container)
813        																	--						Ciscuna riga della lista contiene le seguenti colonne:
814        																	--						2: Id. del folder in AURIGA
815        																	--						3: URI che permette di individuare il folder nella repository
816        																	--						4: Percorso e nome del folder
817        																	--						5: codice id. della natura della relazione in AURIGA
818        																	--						6: codice id. della natura della relazione sul container
819        																	--						7: nome della natura della relazione
820        																	--	#@ACL_!PROF				Lista con i permessi assentiti o negati sul folder
821        																	--						Ciscuna riga della lista contiene le seguenti colonne:
822        																	--						2: codice id. del destinatario del permesso su AURIGA
823        																	--						3: codice id. del destinatario del permesso sul container
824        																	--						4: Denominazione/nome del destinatario del permesso
825        																	--						5: Indicatore del tipo di destinatario del permesso
826        																	--							Valori possibili:
827        																	--							ALL	= A tutti  
828        																	-- 							UT 	= Utente
829        																	--							G	= Gruppo
830        																	--							R	= Ruolo
831        																	--						6:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
832        																	--						7:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
833        																	--						8:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
834        																	--						9:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
835        																	--						10:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
836        																	--						11:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
837        																	--						12:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
838        																	--						13:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
839        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
840        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
841        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
842        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
843        
844        	/*************** Funzione per ottenere i metadati (profilo) con cui caratterizzare un workspace su un dato DMS 		***************/
845        	/*************** Si può utilizzare anche solo per avere le credenziali con cui accedere al DMS					***************/
846        	function GetProfiloWorkspaceXContainer(
847        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
848        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
849        			ContainerTypeIn		IN		DMT_DOCUMENTS.CONTAINER_TYPE%type,			-- (obblig.) Sigla che indica il tipo di contenitore (Hummingbird, Filenet ecc) in cui si trova o deve essere creato il workspace 
850        			ContainerAliasIn		IN		DMT_DOCUMENTS.CONTAINER_ALIAS%type,			-- (obblig.) Alias che identifica lo specifico contenitore (del tipo ContainerTypeIn) in cui si trova o deve essere creato il workspace 
851        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type,			-- (obblig.) Identificativo del workspace
852        			FlgProfNotNeededIn	IN		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 indica che il profilo non va restituito (solo le credenziali di accesso al container)		
853        			UsernameOut			OUT		VARCHAR2,							-- Username con cui accreditarsi sul container
854        			PasswordOut			OUT		VARCHAR2,							-- Password con cui accreditarsi sul container
855        			ProfiloXMLOUT 		OUT		NOCOPY CLOB,						-- (valorizzato solo se FlgProfNotNeededIn non è 1) XML contenente nomi e valori degli attributi del workspace da riportare sul contenitore (conforme allo schema SezioneCache.xsd)
856        																	-- Per gli attributi vale quanto segue:
857        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti sul container:
858        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente sul container per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo sul container va rimosso
859        																	--			per gli attributi con valore lista i valori nell'XML sostituiscono quelli già presenti sul container; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti sul container vanno rimossi
860        																	-- 		gli attributi presenti sul container per cui non c'è corrispondente nell'XML restano invariati
861        																	-- Questi attributi sono:
862        																	--	#NomeLogico_!PROF			Nome logico
863        																	--	#@Attributi_!PROF			Lista con gli attributi/property da settare nel profilo del workspace. 
864        																	--						2: codice id. dell''attributo/property in AURIGA
865        																	--						3: codice id. dell''attributo/property sul container
866        																	--						4: nome/label dell''attributo/property 
867        																	--						5: valore dell''attributo/property 
868        																	--	#@ACL_!PROF				Lista con i permessi assentiti o negati sul workspace
869        																	--						Ciscuna riga della lista contiene le seguenti colonne:
870        																	--						2: codice id. del destinatario del permesso su AURIGA
871        																	--						3: codice id. del destinatario del permesso sul container
872        																	--						4: Denominazione/nome del destinatario del permesso
873        																	--						5: Indicatore del tipo di destinatario del permesso
874        																	--							Valori possibili:
875        																	--							ALL	= A tutti  
876        																	-- 							UT 	= Utente
877        																	--							G	= Gruppo
878        																	--							R	= Ruolo
879        																	--						6:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
880        																	--						7:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
881        																	--						8:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
882        																	--						9:(valori 1/0/NULL) Indica se l'eliminazione del workspace è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
883        																	--						10:(valori 1/0/NULL) Indica se il ripristino del workspace eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
884        																	--						11:(valori 1/0/NULL) Indica se la modifica del contenuto è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)														
885        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
886        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
887        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
888        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
889        
890        	/***** Funzione per estrarre gli oggetti correlati ad un dato documento o folder o workspace che si trovano in un dato container 								*****/
891        	/***** Come coorelati si intendono: gli oggetti contenuti, i doc. facenti parte della stessa unità doc; i documenti e folder legati da relazioni precedente/successivo ecc. 	*****/
892        	function GetListRelatedObjInContainer(
893        			ContainerTypeIn		IN		DMT_DOCUMENTS.CONTAINER_TYPE%type,			-- (obblig.) Sigla che indica il tipo di contenitore (Hummingbird, Filenet ecc) in cui si devono trovare gli oggetti correlati da estrarre
894        			ContainerAliasIn		IN		DMT_DOCUMENTS.CONTAINER_ALIAS%type,			-- (obblig.) Alias che identifica lo specifico contenitore (del tipo ContainerTypeIn) in cui si devono trovare gli oggetti correlati da estrarre
895        			FlgObjTypeIn		IN		VARCHAR2,							-- (obblig.) Tipo dell'oggetto di cui trovare gli oggetti correlati; valori ammessi:
896        																	-- D = Documento
897        																	-- F = Folder
898        																	-- W = Workspace
899        			IdObjIn			IN		INTEGER,							-- (obblig.) Identificativo univoco (ID_DOC o ID_FOLDER o ID_WORKSPACE) dell'oggetto di cui trovare gli oggetti correlati
900        			RelatedObjXMLOut		OUT		NOCOPY CLOB,						-- Lista degli oggetti correlati (XML conforme a schema LISTA_STD.xsd)
901        																	-- Ogni oggetto correlato è un tag Riga che contiene le seguenti colonne: 
902        																	--	1: (valori D/F) Tipo dell'oggetto
903        																	--	2: Id. (ID_DOC o ID_FOLDER) dell'oggetto
904        																	--	3: (valori A/UD) Flag che indica se relazione di "appartenenza" (=A) o insistenza sulla stessa unità documentaria (=UD) o d'altro genere (NULL)
905        																	--	4: URI dell'oggetto (se documento URI di una sua versione sul container)
906        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
907        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
908        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
909        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
910        
911        	/************** Funzione per creare un nuovo documento (con o senza versione elettronica) legandolo ad una certa unità documentaria												***********/
912        	/************** Provvede anche a creare l'unità doc. di appartenenza se non ne esiste alcuna con l'id. e/o gli estremi di registrazione (categ./sigla/anno/n.ro di reg.) specificati 			***********/
913        	/************** Se l'unità documentaria viene creata ex-novo il doc. nè è comunque il primario, altrimenti si deve specificare che relazione ha con l'unità doc. preesistente (allegato o altro)	***********/  
914        	function AddDoc(
915        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
916        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si inserisce il documento. Se non valorizzato è l'utente connesso
917        			AttributiUDDocXMLIn	IN		CLOB,								-- XML contenente nomi e valori degli attributi dell'unità documentaria di appartenenza e del documento (conforme allo schema SezioneCache.xsd)
918        																	-- Per gli attributi dell'unità documentaria, se l'unità documentaria è già esistente, vale quanto segue:
919        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti in DB:
920        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente in DB per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo in DB va rimosso
921        																	--			per gli attributi con valore lista i valori nell'XML si aggiungono o sostituiscono quelli già presenti in DB a seconda rispettivamente che nell'XML sia presente o meno un attributo #Append_<Nome attributo>; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti in DB vanno rimossi
922        																	-- 		gli attributi presenti in DB per cui non c'è corrispondente nell'XML restano invariati
923        																	-- Gli attributi relativi all'unità documentaria sono:
924        																	--	#@RegistrazioniDate		Lista di registrazioni/numerazioni date all'unità documentaria.
925        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
926        																	--						1: (obblig.) Categoria di registrazione/numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
927        																	--						2: Sigla di registrazione/numerazione
928        																	--						3: (obblig. se non si indicano data e ora di registrazione) Anno di registrazione/numerazione
929        																	--						4: (obblig.) N.ro di registrazione/numerazione
930        																	--						5: Data e ora di registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
931        																	--						6: Identificativo dell'utente che ha effettuato la registrazione/numerazione
932        																	--						7: Codice che identifica l'utente che ha effettuato la registrazione/numerazione nell'applicazione esterna da cui ci si connette 
933        																	--						8: Denominazione dell'utente che ha effettuato la registrazione/numerazione
934        																	--						9: Identificativo della UO presso cui è stata effettuata la registrazione/numerazione
935        																	--						10: Denominazione della UO presso cui è stata effettuata la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
936        																	--						11: N.ri livello della UO presso cui è stata effettuata la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
937        																	--						12: Codice che identifica la registrazione nel sistema in cui è stata data
938        																	--						13: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
939        																	--						14:(valori 1/NULL) Se 1 significa che la registrazione/numerazione è annullata
940        																	--						15: Data e ora di annullamento della registrazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
941        																	--						16: Identificativo dell'unità documentaria che rappresenta l'atto di autorizzazione all'annullamento della data registrazione/numerazione 
942        																	--						17: Estremi dell'atto di autorizzazione annullamento (alternativo al precedente e gestito solo se quello non è valorizzato)
943        																	--						18: Motivazioni dell'annullamento della data registrazione/numerazione
944        																	--						19: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata richiesta dal sistema documentale
945        																	--						20: Identificativo dell'utente che ha annullato la registrazione
946        																	--						21: Codice che identifica l'utente che ha annullato la registrazione nell'applicazione esterna da cui ci si connette
947        																	--						22: Denominazione dell'utente che ha annullato la registrazione
948        																	--						23: Eventuale sub o appendice del n.ro di registrazione
949        																	--	#Append_#@RegistrazioniDate	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
950        																	--	#@NumerazioniDaDare		Lista con gli estremi della/e numerazioni da dare all'unità documentaria.
951        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
952        																	--						1: (obblig. se la categoria, ovvero colonna 3, non è specificata o è diversa da PG o se è PG ma si gestiscono più AOO nello stesso archivio) Sigla di numerazione
953        																	--						2: Anno di numerazione (se non specificato si intende l'anno corrente)
954        																	--						3: (facolt.) Categoria della numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; I = Altro tipo di numerazione
955        																	--									 Se non specificata si intende pari a I
956        																	--						4: Identificativo della UO che effettua la registrazione/numerazione
957        																	--						5: Denominazione della UO che effettua la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
958        																	--						6: N.ri livello della UO che effettua la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
959        																	--						7: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
960        																	--						In caso di unità doc. già esistente, se la data numerazione per il dato anno già c'era, viene mantenuta quella preesistente senza dare errore
961        																	--	ATTENZIONE: le numerazioni da dare sono sempre aggiunte - append - alle eventuali numerazioni già generate per la data UD
962        																	--	#NomeUD				Nome dell'unità documentaria (quello con cui viene presentata e riconosciuta nella GUI). Se questo attributo non è presente e l'unità è da creare, il nome viene settato pari agli estremi della prima registrazione/numerazione data/da dare
963        																	--	#IdLibrary				Id. della libreria di appartenenza dell'unità documentaria
964        																	--	#NomeLibrary			Nome della libreria di appartenenza dell'unità documentaria
965        																	--	#@ClassFascTitolario		Lista delle classificazioni e/o fascicolazioni basate sul piano di classificazione. Se i fascicoli non esistono viene dato errore.
966        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
967        																	--						1: Identificativo della classificazione
968        																	--						2: N.ri livello della classificazione (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore previsto per i livelli di classificazione nel dominio di lavoro) 
969        																	--						3: Descrizione della classificazione (può essere quella semplice o la concatenazione con separatore "|" delle descrizioni delle calssificazioni superiori + quella della classificazione)
970        																	--						4: Anno di apertura del fascicolo (obblig. se si intende specificare un fascicolo)
971        																	--						5: N.ro progressivo del fascicolo (obblig. se si intende specificare un fascicolo)
972        																	--						6: N.ro di sotto-fascicolo
973        																	--						7: N.ro di inserto del sotto-fascicolo
974        																	--						8: N.ro secondario (numerazione alternativa) del fascicolo
975        																	--						9: Codice che indica il ruolo dell'unità documentraia nel fascicolo (valori da dizionario)
976        																	--						10: Descrizione del ruolo dell'unità documentria nel fascicolo (valori da dizionario)
977        																	--						11: Motivi (descrittivi) della relazione dell'unità documentria col fascicolo 
978        																	--						12: Id. folder del fascicolo o sottofascicolo
979        																	--	#Append_#@ClassFascTitolario	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
980        																	--	#@FolderCustom			Lista con i folder (esclusi i fascicoli basati sul piano di classificazione: dunque i fascicoli non di titolario, le serie, ecc.) in cui deve essere collocata l'unità documentaria. Se i folder non esistono viene dato errore.
981        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
982        																	--						1: Identificativo del folder
983        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder (i vari livelli del percorso vanno separati con / o \)
984        																	--						3: Codice che indica il ruolo dell'unità documentraia nel folder (valori da dizionario)
985        																	--						4: Descrizione del ruolo dell'unità documentria nel folder (valori da dizionario)
986        																	--						5: Motivi (descrittivi) della relazione dell'unità documentria col folder 
987        																	--	#Append_#@FolderCustom		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
988        																	--	#@Workspaces			Lista con i dati degli eventuali workspace in cui collocare l'unità documentaria. I workspace devono essere già esistenti
989        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
990        																	--						1: Identificativo del workspace
991        																	--						2: Nome del workspace	
992        																	--						3: Motivi (descrittivi) della relazione dell'unità documentria col workspace
993        																	--	#Append_#@Workspaces		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
994        																	--	#@ACL					Lista con i permessi assentiti o negati sull'unità documentaria e i suoi documenti
995        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
996        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
997        																	--							Valori possibili:
998        																	--							SP	= Soggetto produttore  
999        																	-- 							AOO	= AOO 
1000        																	-- 							UT 	= Utente
1001        																	--							SV	= Scrivania virtuale
1002        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
1003        																	--							G	= Gruppo
1004        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
1005        																	--						2: Identificativo del destinatario del permesso
1006        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
1007        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
1008        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
1009        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
1010        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
1011        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
1012        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1013        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
1014        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1015        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1016        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
1017        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
1018        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
1019        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
1020        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
1021        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
1022        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
1023        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
1024        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
1025        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1026        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1027        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
1028        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1029        																	--						18:(valori 1/0/NULL) Indica se la visualizzazione dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1030        																	--						19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1031        																	--						20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1032        																	--						21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1033        																	--						22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1034        																	--						23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1035        																	--						24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
1036        																	--						25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file dell'unità documentaria è relativo alle sole versioni pubblicate
1037        																	--	#Append_#@ACL			Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
1038        																	--	#FlgEreditaPermessi		Valori 1/0/NULL. Indica se l'unità documentaria può ereditare i permessi da un folder o workspace di appartenenza
1039        																	--	#PathNomeFolderEreditaPerm	Percorso e nome del folder da cui l'unità documentaria deve ereditare i permessi (se folder di titolario il nome è dato da anno di apertura + livelli classificazione + n.ro progr. di fascicolo [+ n.ro di sottofascicolo] [+n.ro di inserto])
1040        																	--	#IdFolderEreditaPerm		Id. del folder da cui l'unità documentaria deve ereditare i permessi
1041        																	--	#NomeWorkspaceEreditaPerm	Nome del workspace da cui l'unità documentaria deve ereditare i permessi (altrenativo all'attributo precedente)	
1042        																	--	#IdWorkspaceEreditaPerm		Id. del workspace da cui l'unità documentaria deve ereditare i permessi
1043        																	--	#IdBatchGAE			(usato per GAE, connettore vs Conservazione) Id. del batch di documenti di appartenenza (dei batch di docuementi ricevuti dal documentale al fine di inviarli in conservazione)
1044        																	--	#IdLottoGAE			(usato per GAE, connettore vs Conservazione) Id. del lotto di documenti di appartenenza (dei lotti di docuementi ricevuti dal documentale al fine di inviarli in conservazione)
1045        																	--	#NroPosizioneDocInLottoGAE (usato per GAE, connettore vs Conservazione) Posizione del documento da registare all'interno del lotto di documenti di appartenenza (dei lotti di documenti ricevuti dal documentale al fine di inviarli in conservazione)
1046        																	--	#@AltriSoggettiInt		Lista con i soggetti interni che hanno ruoli rispetto all'unità documentaria diversi da quelli - produttori, destinatari, estensori - già gestiti in apposite variabili 
1047        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1048        																	--						1: (obblig.) Indicatore del tipo di soggetto
1049        																	--							Valori possibili:
1050        																	-- 							UT 	= Utente
1051        																	--							SV	= Scrivania virtuale
1052        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
1053        																	--							G	= Gruppo
1054        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
1055        																	--						2: Identificativo del soggetto
1056        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
1057        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
1058        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
1059        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
1060        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
1061        																	--						3: Denominazione/nome del soggetto (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1062        																	--						4: Identificativo della UO cui appartiene la scrivania
1063        																	--						5: Nri livello della UO o a cui appartiene la scrivania (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1064        																	--						6: Denominazione della UO cui appartiene la scrivania (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1065        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente o quello che occupa la scrivania 
1066        																	--						8: Denominazione dell'utente che occupa la scrivania 
1067        																	--						9: (valore 1) Indica, nel caso di UO, se sono ricomprese anche tutte le sue sotto-UO
1068        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo 
1069        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo  (alternativo alla colonna 10)
1070        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente "soggetto" o di quello che occupa la scrivania "soggetto" 
1071        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo (alternativo alla colonna 10)
1072        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente soggetto o che occupa la scrivania soggetto 
1073        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto"
1074        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1075        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1076        																	--						16:(valore 1) Indica che il ruolo amministrativo "soggetto" si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
1077        																	--						17: Codice del ruolo del soggetto rispetto all'unità documentaria (valori codificati in apposita disctionary entry)
1078        																	--						18: Ruolo del soggetto rispetto all'unità documentaria (valori in apposita disctionary entry)
1079        																	--	#Append_#@AltriSoggettiInt	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
1080        																	--	#CodRuoliAltriSoggIntInAppend	E' la lista dei codici dei ruoli che sono in append e non in sostituzione (separati da |*| se più di uno). Se questa variabile non è valorizzata ed è presente #Append_#@AltriSoggettiInt significa che l'append vale per tutti i ruoli. 	
1081        																	--	#CodRuoliAltriSoggIntToDel	E' la lista dei codici dei ruoli i cui soggetti - quelli che hanno il dato ruolo - sono da cancellare del tutto(separati da |*| se più di uno).  	
1082        																	--	#@InCaricoA				Indica a chi (non destinatario) mettere in carico copia dell'unità documentaria
1083        																	--						Chi ha in carico può essere specificato/variato solo se il documento non è ancora inviato
1084        																	--						Chi ha in carico può essere solo l'utente di lavoro o una UO/scrivania cui è collegato da appartenenza o delega o per cui può lavorare
1085        																	--						E' una lista mono-riga; la riga può contenere le seguenti colonne:
1086        																	--						1: (obblig.) Indicatore del tipo di soggetto
1087        																	--							Valori possibili:
1088        																	-- 							UT 	= Utente
1089        																	--							SV	= Scrivania virtuale
1090        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
1091        																	--						2: Identificativo del destinatario della copia
1092        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
1093        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
1094        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
1095        																	--						3: Denominazione/nome del soggetto(se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1096        																	--						4: Identificativo della UO cui appartiene la scrivania che rappresenta il soggetto
1097        																	--						5: Nri livello della UO che rappresenta il soggetto o a cui appartiene la scrivania che rappresenta il soggetto (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1098        																	--						6: Denominazione della UO cui appartiene la scrivania che rappresenta il soggetto (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1099        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che rappresenta il soggetto o quello che occupa la scrivania che rappresenta il soggetto
1100        																	--						8: Denominazione dell'utente che occupa la scrivania che rappresenta il soggetto
1101        																	--						9: <Non utilizzata>
1102        																	--						10: <Non utilizzata>
1103        																	--						11: Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto
1104        																	--						12: Se colonna 1 =UT o SV: N.ro di matricola dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto  
1105        																	--						13: <Non utilizzata>
1106        																	--						14: <Non utilizzata>
1107        																	--						15: <Non utilizzata>
1108        																	--						16: <Non utilizzata>
1109        																	--						Se si vuole togliere chi ha in carico la copia basta settare a vuota la lista di questo attributo
1110        																	--  #ConfermaAssegnazione.IdUser		Id. dell'utente che deve confermare le assegnazioni
1111        																	--  #ConfermaAssegnazione.CIEstUser		Codice che identifica l'utente che deve confermare le assegnazioni nell'applicazione esterna da cui ci si connette
1112        																	--  #ConfermaAssegnazione.DesUser		Cognome e nome dell'utente che deve confermare le assegnazioni
1113        																	--  #ConfermaAssegnazione.Username		Username (interna ad Auriga) dell'utente che deve confermare le assegnazioni
1114        																	--	#@Assegnatari		Indica a chi - destinatario o meno, e comunque un soggetto interno - assegnare l'unità documentaria 
1115        																	--						Può essere specificato/variato solo se il documento NON è assegnato o se è assegnato all'utenza di lavoro o UO/Scrivania cui è collegato
1116        																	-- 						Ogni assegnatario è un tag "Riga" con le seguenti colonne:
1117        																	--						1: (obblig.) Indicatore del tipo di assegnatario
1118        																	--							Valori possibili:
1119        																	-- 							UT 	= Utente
1120        																	--							SV	= Scrivania virtuale
1121        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
1122        																	--							G	= Gruppo
1123        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
1124        																	--						2: Identificativo dell'assegnatario
1125        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
1126        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
1127        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
1128        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
1129        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
1130        																	--						3: Denominazione/nome dell'assegnatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1131        																	--						4: Identificativo della UO cui appartiene la scrivania assegnataria
1132        																	--						5: Nri livello della UO assegnataria o a cui appartiene la scrivania assegnataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1133        																	--						6: Denominazione della UO cui appartiene la scrivania assegnataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1134        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente assegnatario o quello che occupa la scrivania assegnataria
1135        																	--						8: Denominazione dell'utente che occupa la scrivania assegnataria
1136        																	--						9: (valore 1) Indica che l'assegnatario, se UO, sono anche tutte le sue sotto-UO
1137        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo assegnatario
1138        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
1139        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente assegnatario o che occupa la scrivania assegnataria 
1140        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
1141        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente assegnatario o che occupa la scrivania assegnataria 
1142        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario
1143        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1144        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1145        																	--						16:(valore 1) Indica che il ruolo amministrativo assegnatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
1146        																	--						17: Codice del ruolo dell'assegnatario (valori codificati in apposita disctionary entry)
1147        																	--						18: Ruolo dell'assegnatario (valori in apposita disctionary entry)
1148        																	--						19: Flag che indica la modalità di accesso da dare all'assegnatario sull'unità documentaria (ovvero indica le opzioni di accesso che avrà l'assegnatario nell'ACL dell'UD dopo l'invio, salvo ne avesse già di più ampie)
1149        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
1150        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa in carico per il dato assegnatario 
1151        																	--						21: N.ro di giorni, a partire dalla decorrenza dell'assegnazione, trascorsi i quali senza che sia avvenuta la presa in carico, ci deve essere la notifica di mancata presa in carico da parte del dato assegnatario
1152        																	--						22: Cod. motivo assegnazione al dato assegnatario
1153        																	--						23: Cod. priorità assegnazione al dato assegnatario
1154        																	--						24: (flag 1/0) Se 1 significa che al dato assegnatario va assegnato anche tutto il fascicolo di appartenenza (se 1 solo) 
1155        																	--						25: (flag 1/0) Se 1 significa che al dato assegnatario vanno assegnati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
1156        																	--						26: (flag 1/0) Se 1 significa che va mentenuta una copia presso chi assegna
1157        																	--						27: Messaggio a corredo dell'assegnazione al dato assegnatario
1158        																	--						28: Id. UO del punto di protocollo a cui assegnare se l'assegnazione non può essere direttamente all'assegnatario indicato e se questo è associato a più punti di protocollo
1159        																	--  #CodMotivoAssegn	Cod. del motivo dell'assegnazione agli assegnatari (da dizionario)
1160        																	--	#MotivoAssegn		Motivo dell'assegnazione agli assegnatari (da dizionario)
1161        																	--	#@InvioDestCC		Indica a chi, soggetto interno, inviare per conoscenza l'unità documentaria 
1162        																	-- 						Ogni destinatario di invio per conoscenza è un tag "Riga" con le seguenti colonne:
1163        																	--						1: (obblig.) Indicatore del tipo di destinastario
1164        																	--							Valori possibili:
1165        																	-- 							UT 	= Utente
1166        																	--							SV	= Scrivania virtuale
1167        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
1168        																	--							G	= Gruppo
1169        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
1170        																	--							R@	= Soggetti interni che hanno un certo ruolo rispetto al documento / folder
1171        																	--						2: Identificativo del destinatario
1172        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
1173        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
1174        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
1175        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
1176        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
1177        																	--							è un COD_NATURA_REL di DMT_REL_SOGG_INT_DOC/DMT_REL_SOGG_INT_FOLDER che indica il codice del ruolo rispetto al documento / folder se colonna 1 = R@. Può avere i valori particolari: #CON_ACCESSO (= tutti coloro che hanno accesso anche in sola visualizzazione) e #CON_ACCESSO_IN_MODIFICA (= tutti coloro che hanno accesso anche in modifica dei metadati e/o file)
1178        																	--						3: Denominazione/nome del destinatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|"). Se colonna 1 = R@ è la descrizione del ruolo rispetto al documento / folder
1179        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria
1180        																	--						5: Nri livello della UO destinataria o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1181        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1182        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario o quello che occupa la scrivania destinataria
1183        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria
1184        																	--						9: (valore 1) Indica che il destinatario, se UO, sono anche tutte le sue sotto-UO
1185        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario
1186        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
1187        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario o che occupa la scrivania destinataria 
1188        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
1189        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario o che occupa la scrivania destinataria 
1190        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario
1191        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1192        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1193        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
1194        																	--						17: Codice del ruolo del destinatario (valori codificati in apposita disctionary entry)
1195        																	--						18: Ruolo del destinatario (valori in apposita disctionary entry)
1196        																	--						19: Flag che indica la modalità di accesso da dare al destinatario sull'oggetto inviato (ovvero indica le opzioni di accesso che avrà il destinatario nell'ACL dell'oggetto dopo l'invio, salvo ne avesse già di più ampie)
1197        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
1198        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa visione per il dato destinatario (anche se non è stata richiesta per tutti i destinatari questa notifica)
1199        																	--						21: N.ro di giorni, a partire dalla decorrenza della notifica, trascorsi i quali senza che sia avvenuta la presa visione, ci deve essere la notifica di mancata presa visione da parte del dato destinatario (anche se tale notifica non è richiesta per tutti i destinatari)
1200        																	--						22: Cod. motivo invio al dato destinatario
1201        																	--						23: Cod. priorità invio al dato destinatario
1202        																	--						24: (flag 1/0) Se 1 significa che al dato destinatario va inviato anche tutto il fascicolo di appartenenza (se 1 solo) 
1203        																	--						25: (flag 1/0) Se 1 significa che al dato destinatario vanno inviati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
1204        																	--						26: non utilizzata
1205        																	--						27: Messaggio a corredo dell'invio al dato destinatario
1206        																	--	#@RelazioniVsUD			Lista delle relazioni dell'unità documentaria con altre unità documentarie (relazioni di precedente-successivo ecc.)
1207        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1208        																	--						1: Identificativo dell'unità documentaria collegata
1209        																	--						2: Categoria di una registrazione/numerazione dell'unità documentaria collegata; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
1210        																	--						3: Sigla di una registrazione/numerazione dell'unità documentaria collegata
1211        																	--						4: Anno di una registrazione/numerazione dell'unità documentaria collegata
1212        																	--						5: N.ro di una registrazione/numerazione dell'unità documentaria collegata
1213        																	--						6: Codice della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
1214        																	--						7: Descrizione della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
1215        																	--						8: Codice del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
1216        																	--						9: Descrizione del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
1217        																	--						10: Codice del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
1218        																	--						11: Descrizione del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
1219        																	--						12: Dettagli della relazione (campo descrittivo)
1220        																	--						22: Sub del n.ro di registrazione
1221        																	--	#Append_#@RelazioniVsUD		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
1222        																	--	#FlgArchivio			Indica il tipo di archivio a cui appartiene l'unità documentaria: C = Corrente; D = di Deposito; S = Storico
1223        																	--	#FlgTipoProv			Indica se unità documentaria in entrata (E), in uscita (U) o interna/tra uffici (I)
1224        																	--	#TsArrivo				Data e ora di ricezione dell'unità documentaria se in entrata (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
1225        																	--	#IdUDAutRegDiff			Identificativo dell'unità documentaria che rappresenta l'autorizzazione al differimento della registrazione della corrente unità documentaria
1226        																	--	#EstremiAutRegDiff		Estremi dell'atto di autorizzazione al differimento della registrazione della corrente unità documentaria (alternativo al campo precedente, qualora l'atto di aut. al differimento non sia un'unità doc. a sistema)
1227        																	--	#MotiviRegDiff			Motivi del differimento di registrazione della corrente unità documentaria
1228        																	--	#TsTerminXRegDiff			Data e ora che costituiscono un termine rilevante per la ricezione dell'unità documentaria (ad esempio: termine presentazione domande a concorso o offerte di gara) e che a causa del differimento è precedente alla data di registrazione ma non a quella effettiva di ricezione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
1229        																	--	#DtDocRicevuto			Data di registrazione del documento ricevuto se unità doc. in entrata (ad esempio la data del Protocollo mittente)(nel formato dato dal parametro di conf. FMT_STD_DATA)
1230        																	--	#AnnoDocRicevuto			Anno di registrazione del documento ricevuto se unità doc. in entrata (ad esempio l'anno del Protocollo mittente)
1231        																	--	#EstremiRegDocRicevuto		Estremi di registrazione del documento ricevuto se unità doc. in entrata (ad esempio anno e numero del Protocollo mittente)
1232        																	--	#RifDocRicevuto			Altri riferimenti del documento ricevuto se unità doc. in entrata
1233        																	--	#CodMezzoTrasm			Codice che indica il mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionario
1234        																	--	#DesMezzoTrasm			Descrizione del mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionaro
1235        																	--	#DtRaccomandata			Data di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è la data di raccomandata a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
1236        																	--	#NroRaccomandata			Nro di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è il n.ro di raccomandata a tutti i destinatari per cui non sia diversamente specificato)
1237        																	--	#NroListaRaccomandata	Nro della lista di appartenenza della raccomandata (se la trasmissione è tramite raccomandata)
1238        																	--	#DtNotifica				Data di notifica (per unità doc. in uscita è la data di notifica a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
1239        																	--	#NroNotifica			Nro di notifica (per unità doc. in uscita è il n.ro di notifica a tutti i destinatari per cui non sia diversamente specificato)
1240        																	--	#IndirizzoProv.CITopon	 	Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1241        																	--	#IndirizzoProv.DesIndirizzo 	Via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria
1242        																	--	#IndirizzoProv.Frazione 	Frazione dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria) 
1243        																	--	#IndirizzoProv.Zona			Zona dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1244        																	--	#IndirizzoProv.Complemento	Complemento (i.e. altri dati) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1245        																	--	#IndirizzoProv.Civico 		N.ro civico (senza eventuale esponente o altre appendici) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1246        																	--	#IndirizzoProv.AppendiciCivico 		Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1247        																	--	#IndirizzoProv.Interno 		Interno del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1248        																	--	#IndirizzoProv.Scala 		Scala del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1249        																	--	#IndirizzoProv.Piano 		Piano nel civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1250        																	--	#IndirizzoProv.CAP 		Codice Avviamento Postale dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1251        																	--	#IndirizzoProv.CodIstatCom 	Codice istat del comune (se italiano) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1252        																	--	#IndirizzoProv.NomeComCitta 	Nome del comune/città dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1253        																	--	#IndirizzoProv.CodIstatStato 	Codice istat dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1254        																	--	#IndirizzoProv.NomeStato 	Nome dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1255        																	--	#EmailProv.Id				Id. (PK in T_EMAIL_MGO) della mail in arrivo che ha dato luogo all'unità documentaria 
1256        																	--	#EmailProv.Indirizzo		Indirizzo e-mail di provenienza (se unità documentaria in entrata tramite posta elettronica) 
1257        																	--	#EmailProv.FlgCasellaIstituz	Indicatore che l'indirizzo e-mail di provenienza è una casella istituzionale di un'AOO. Valore fisso 1.
1258        																	--	#EmailProv.FlgDichIPA		Indicatore che l'indirizzo e-mail di provenienza è dichiarato all'Indice PA. Valore fisso 1.
1259        																	--	#EmailProv.FlgPEC			Indicatore che l'indirizzo e-mail di provenienza è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
1260        																	--	#EmailProv.GestorePEC		Estremi del gestore della casella e-mail di provenienza se è di Posta Elettronica Certificata.
1261        																	--	#IdUORicezione			Identificativo della UO che ha ricevuto l'unità documentaria in entrata
1262        																	--	#LivelliUORicezione		Nri livello della UO che ha ricevuto l'unità documentaria in entrata (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
1263        																	--	#DesUORicezione			Denominazione della UO che ha ricevuto l'unità documentaria in entrata (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1264        																	--	#IdUserRicezione			Identificativo (quello interno al sistema) dell'utente che ha ricevuto l'unità documentaria in entrata
1265        																	--	#CIEstUserRicezione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha ricevuto l'unità documentaria in entrata
1266        																	--	#DesUserRicezione			Descrizione dell'utente che ha ricevuto l'unità documentaria in entrata
1267        																	--	#FlgInteroperabilita		Se valorizzato (valore fisso 1) indica che l'unità documentaria è entrata o uscita tramite interoperabilità tra Protocolli Informatici
1268        																	--	#IdUserCtrlAmmissib		Identificativo (quello interno al sistema) dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
1269        																	--	#CIEstUserCtrlAmmissib		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
1270        																	--	#DesUserCtrlAmmissib		Descrizione dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
1271        																	--	#TsSpedizione			Data e ora di spedizione dell'unità documentaria se in uscita (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
1272        																	--	#IdUserSpedizione			Identificativo (quello interno al sistema) dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
1273        																	--	#CIEstUserSpedizione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
1274        																	--	#DesUserSpedizione		Descrizione dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
1275        																	--	#IdUOSpedizione			Identificativo della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)
1276        																	--	#LivelliUOSpedizione		Nri livello della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
1277        																	--	#DesUOSpedizione			Denominazione della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1278        																	--	#NroAllegati			N.ro di allegati (se non specificato si intende pari al n.ro di allegati presenti in DB)      																	
1279        																	--	#LivEvidenza                  Livello di evidenza assegnato all'unità documentaria (il massimo valore possibile è dato dal parametro di configurazione MAX_LIV_EVIDENZA)
1280        																	--	#FlgInteresseCessato		Se pari a 1 indica che è cessato l'interesse sull'unità documentaria, se 0 o NULL che l'interesse è attivo
1281        																	--	#CollocazioneFisica.IdTopografico	Id. del luogo - censito nel topografico - in cui è collocata l'unità documentaria
1282        																	--  #CollocazioneFisica.Descrizione		Descrizione libera della collocazione fisica dell'unità documentaria
1283        																	--	#FlgConservPerm			Se valorizzato (valore fisso 1) indica che l'unità documentaria deve essere conservata illimitatamente		
1284        																	--	#PeriodoConserv               Periodo minimo di conservazione (espresso in anni) dell'unità documentaria (se non specificato può essere ereditato da quelli definiti per la tipologia del doc. primario o la/le classificazione o il tipo del/dei fascicolo di appartenenza o il tipo del/i procedimenti di afferenza)
1285        																	--	#CodSupportoConserv		Codice del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
1286        																	--	#DesSupportoConserv		Descrizione del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
1287        																	--	#DtScarto                     Data di scarto archivistico (vale a dire esculsione dal processo di conservazione) dell'unità documentaria (nel formato dato dal parametro di conf. FMT_STD_DATA)
1288        																	--	#IdUserScarto           	Identificativo (quello interno al sistema) dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
1289        																	--	#CIEstUserScarto			Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato lo scarto archivistico dell'unità documentaria	
1290        																	--	#DesUserScarto			Descrizione dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
1291        																	--	#IdUserAutScarto           	Identificativo (quello interno al sistema) dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
1292        																	--	#CIEstUserAutScarto		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato lo scarto archivistico dell'unità documentaria	
1293        																	--	#DesUserAutScarto			Descrizione dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
1294        																	--	#NoteUD				Annotazioni dell'unità documentaria
1295        																	--	#CodStato				Codice dello stato dell'unità documentaria 
1296        																	--	#CodStatoDett			Codice dello stato di dettaglio dell'unità documentaria		
1297        																	--	#DesStato				Descrizione dello stato dell'unità documentaria
1298        																	--	#DesStatoDett			Descrizione dello stato di dettaglio dell'unità documentaria
1299        																	--	#ProvCIUD				Codice identificativo dell'unità documentaria in un eventuale sistema di provenienza
1300        																	--  #MotiviModificaDatiRegistrazione Motivo per cui si modificano i dati dell'unità documentaria - se registrata su registro ufficiale quali quelli di protocollo e repertorio - che figurano nel registro di protocollo/repertorio
1301        																	--  #ProcessToStart.IdBPMProcessDef 	Id. del flusso BPM (comprensivo di versione) con il quale avviare un processo legato al folder aperto dall'unità documentaria
1302        																	--										se il folder ha già un processo associato la variabile viene ignorata
1303        																	--  #ProcessToStart.IdBPMProcessInst	Id. dell'istanza di processo BPM con la quale avviare un processo legato al folder aperto dall'unità documentaria
1304        																	--										se il folder ha già un processo associato la variabile viene ignorata
1305        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ud: qualsiasi attributo dinamico specificabile per un'unità documentaria (nel dominio di lavoro)			
1306        																	-- E gli attributi del documento sono:
1307        																	-- Quelli non relativi alla versione elettronica:
1308        																	--	#IdUD					Id. dell'unità documentaria di appartenenza (se già esistente)
1309        																	--	#FlgVersConOmissis		Se 1 il documento è la versione con omissis di altro documento della stessa UD
1310        																	--	#IdDocVersIntegrale		ID_DOC del documento di cui quello corrente è la versione con omissis
1311        																	--	#CodCategoriaRegUD		Codice di una categoria di registrazione dell'unità documentaria di appartenenza (se già esistente)
1312        																	--	#SiglaRegUD				Sigla di registrazione/numerazione dell'unità documentaria di appartenenza (se già esistente)
1313        																	--	#AnnoRegUD				Anno di registrazione/numerazione dell'unità documentaria di appartenenza (se già esistente)
1314        																	--	#NroRegUD				N.ro di registrazione/numerazione dell'unità documentaria di appartenenza (se già esistente)
1315        																	--	#CodNaturaRelVsUD			Codice della natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
1316        																	--						Da specificare solo se l'unità documentaria è preesistente (altrimenti il documento è necessariamente il primario dell'unità doc.)
1317        																	--	#DesNaturaRelVsUD			Natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
1318        																	--						Da specificare solo se l'unità documentaria è preesistente (altrimenti il documento è necessariamente il primario dell'unità doc.)
1319        																	--	#DettagliRelVsUD			Dettagli della relazione del documento con l'unità documentaria.
1320        																	--						Da specificare solo se l'unità documentaria è preesistente (e quindi il documento non è il primario)
1321        																	--	#IdDocType				Identificativo del tipo del documento
1322        																	--	#NomeDocType			Nome del tipo del documento
1323        																	--	#ProvCIDocType			Codice identificativo del tipo documento nel sistema di provenienza (PROV_CI_DOC_TYPE)
1324        																	--	#@MittentiEsterni			Lista con i dati dei mittenti esterni.
1325        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
1326        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
1327        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
1328        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
1329        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
1330        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1331        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
1332        																	--						2: Codice identificativo del soggetto nell'anagrafe residenti o ditte 
1333        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
1334        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
1335        																	--						5: Nome (se persona fisica)
1336        																	--						6: Codice fiscale
1337        																	--						7: Partita IVA
1338        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
1339        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
1340        																	--						10: Codice ISTAT del comune di nascita/istituzione
1341        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
1342        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
1343        																	--						13: Nome dello stato estero di nascita/istituzione
1344        																	--						14: Codice ISTAT dello stato di cittadinanza
1345        																	--						15: Nome dello stato di cittadinanza
1346        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
1347        																	--						17: Cod. rapido assegnatogli in rubrica
1348        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
1349        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
1350        																	--						26: Località dell'indirizzo fisico  
1351        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
1352        																	--						28: Interno del civico dell'indirizzo fisico 
1353        																	--						29: Scala del civico dell'indirizzo fisico 
1354        																	--						30: Piano nel civico dell'indirizzo fisico 
1355        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
1356        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
1357        																	--						33: Nome del comune/città dell'indirizzo fisico 
1358        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
1359        																	--						35: Nome dello stato estero dell'indirizzo fisico 
1360        																	--						43: N.ro che indica la posizione del mittente tra tutti i destinatari interni ed esterni del documento 
1361        																	--						44: Titolo di studio/professionale
1362        																	--						45: Zona dell'indirizzo fisico 
1363        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
1364        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
1365        																	--						48: non utilizzato
1366        																	--					    49: Tipo di toponimo dell'indirizzo fisico di invio al destinatario
1367        																	--						50: Indirizzo e-mail
1368        																	--						51: N.ro di telefono
1369        																	--						52: Userid del mittente
1370        																	--	#@DestinatariEsterni		Lista con i dati dei destinatari (in realtà possono essere esterni o interni)
1371        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
1372        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
1373        																	--								tutti gli altri campi (colonne dalla 3 alla 15) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
1374        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
1375        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
1376        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1377        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
1378        																	--						2: Codice identificativo del soggetto nell'anagrafe residenti o ditte 
1379        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
1380        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
1381        																	--						5: Nome (se persona fisica)
1382        																	--						6: Codice fiscale
1383        																	--						7: Partita IVA
1384        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
1385        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
1386        																	--						10: Codice ISTAT del comune di nascita/istituzione
1387        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
1388        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
1389        																	--						13: Nome dello stato estero di nascita/istituzione
1390        																	--						14: Codice ISTAT dello stato di cittadinanza
1391        																	--						15: Nome dello stato di cittadinanza
1392        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
1393        																	--						17: Codice che indica il mezzo di trasmissione dell'unità documentaria al destinataro. Valori in dizionario
1394        																	--						18: Descrizione del mezzo di trasmissione dell'unità documentaria al destinatario. Valori in dizionaro
1395        																	--						19: Data e ora di spedizione/invio al destinatario (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
1396        																	--						20: Data di raccomandata (se la trasmissione è tramite raccomandata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
1397        																	--						21: Nro di raccomandata al destinatario (se la trasmissione è tramite raccomandata)
1398        																	--						22: Data di notifica al destinatario (nel formato dato dal parametro di conf. FMT_STD_DATA)
1399        																	--						23: Nro di notifica al destinatario
1400        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1401        																	--						25: Via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1402        																	--						26: Località dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
1403        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1404        																	--						28: Interno del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1405        																	--						29: Scala del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1406        																	--						30: Piano nel civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1407        																	--						31: Codice Avviamento Postale dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1408        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1409        																	--						33: Nome del comune/città dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1410        																	--						34: Codice istat dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1411        																	--						35: Nome dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1412        																	--						36: Indirizzo e-mail del destinatario (se invio tramite posta elettronica) 
1413        																	--						37: Indicatore che l'indirizzo e-mail del destinatario è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
1414        																	--						38: Estremi del gestore della casella e-mail del destinatario se è di Posta Elettronica Certificata.
1415        																	--						39: Indicatore di destinatario per conoscenza. Valore fisso 1. 
1416        																	--						40: Indicatore che l'indirizzo e-mail del destinatario è dichiarato all'Indice PA. Valore fisso 1.
1417        																	--						41: Indicatore che l'indirizzo e-mail del destinatario è una casella istituzionale di un'AOO. Valore fisso 1.
1418        																	--						42: Nro fax del destinatario (se invio tramite fax) 
1419        																	--						43: N.ro che indica la posizione del destinatario tra tutti i destinatari interni ed esterni del documento 
1420        																	--						44: Titolo di studio/professionale
1421        																	--						45: Zona dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
1422        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
1423        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1424        																	--						48: Cod. rapido assegnatogli in rubrica
1425        																	--					    49: Tipo di toponimo dell'indirizzo fisico di invio al destinatario
1426        																	--	#@GruppiDestinatari	Lista con i gruppi/liste di distribuzione di destinatari
1427        																	--						ATTENZIONE: devono essere gruppi/liste di distribuzione censite nella rubrica del sistema
1428        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
1429        																	--								tutti gli altri campi (colonne dalla 3 alla 15) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
1430        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
1431        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
1432        																	--						Ciscuna riga della lista è un gruppo/lista di distribuzione e può contenere le seguenti colonne:
1433        																	--						1: Identificativo (ID_GRUPPO) del gruppo/lista di distribuzione
1434        																	--						2: Nome del gruppo/lista di distribuzione
1435        																	--						3: Codice rapido del gruppo/lista di distribuzione
1436        																	--						4: Indicatore di destinatario per conoscenza (i.e. tutti i membri del gruppo sono destinatari x conoscenza). Valore fisso 1. 
1437        																	--	#@AltriSoggettiEsterni		Lista con i dati di altri soggetti esterni (firmatari, conraenti ecc) in relazione con il documento
1438        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
1439        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
1440        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
1441        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
1442        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
1443        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1444        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
1445        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza 
1446        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
1447        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
1448        																	--						5: Nome (se persona fisica)
1449        																	--						6: Codice fiscale
1450        																	--						7: Partita IVA
1451        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
1452        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
1453        																	--						10: Codice ISTAT del comune di nascita/istituzione
1454        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
1455        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
1456        																	--						13: Nome dello stato estero di nascita/istituzione
1457        																	--						14: Codice ISTAT dello stato di cittadinanza
1458        																	--						15: Nome dello stato di cittadinanza
1459        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
1460        																	--						17: (obblig. se campo successivo non è valorizzato) Codice della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
1461        																	--						18: (obblig. se campo precedente non è valorizzato) Descrizione della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
1462        																	--						19: Dettagli sulla natura della relazione tra soggetto e documento
1463        																	--						20: Titolo di studio/professionale
1464        																	--						21: Cod. rapido assegnatogli in rubrica
1465        																	--						23: N° documento di riconoscimento
1466        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
1467        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
1468        																	--						26: Località dell'indirizzo fisico  
1469        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
1470        																	--						28: Interno del civico dell'indirizzo fisico 
1471        																	--						29: Scala del civico dell'indirizzo fisico 
1472        																	--						30: Piano nel civico dell'indirizzo fisico 
1473        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
1474        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
1475        																	--						33: Nome del comune/città dell'indirizzo fisico 
1476        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
1477        																	--						35: Nome dello stato estero dell'indirizzo fisico 
1478        																	--						45: Zona dell'indirizzo fisico 
1479        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
1480        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
1481        																	--						48: non utilizzato
1482        																	--					    49: Tipo di toponimo dell'indirizzo fisico 
1483        																	--						50: Indirizzo e-mail
1484        																	--						51: (valori 1/0) Se 1 indica se il soggetto (qualora esibente) è anche mittente
1485        																	--						52: Tipo di documento di riconoscimento
1486        																	--						53: N.ro di telefono
1487        																	--						54: (valori U/E) Indica se soggetto incaricato del ritiro documentazione per conto di: U = ufficio interno, E = richiedente esterno
1488        																	--	#DesOgg				Oggetto / descrizione del documento
1489        																	--	#ParoleChiave                 Parole chiave per cui è utile ricercare il documento 
1490        																	--	#CodSupportoOrig            	Codice del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
1491        																	--	#SupportoOriginale			Descrizione del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
1492        																	--	#FlgTipoCartaceo            	Indica se il documento cartaceo è: originale unico (OU), originale non unico (ONU), copia (C)
1493        																	--	#FlgDigitalizzazione         	Indica se il documento, originariamente cartaceo, è stato digitalizzato (2) o se ne è richiesta la digitalizzazione (1)
1494        																	--	#CISuCartaceo                 Codice (ad esempio un codice a barre) riportato sul documento cartaceo per identificarlo (da usarsi in fase di digitalizzazione per associare l'immagine al documento corretto)
1495        																	--	#NroPagineCartaceo          	N.ro di pagine del documento cartaceo
1496        																	--	#DtStesura  	            Data di redazione del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
1497        																	--	#LuogoStesura			Luogo di redazione del documento (descrittivo)
1498        																	--	#@Estensori                   Lista degli estensori (interni) del documento (sono utenti censiti nel sistema)
1499        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1500        																	--						1: Identificativo (quello interno al sistema) dell'utente estensore
1501        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente estensore
1502        																	--						3: Descrizione dell'utente estensore
1503        																	--						4: Username dell'utente estensore (quella interna)
1504        																	--	#@UffProduttori               Lista degli uffici che hanno prodotto il documento (UO censite nel sistema)
1505        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1506        																	--						1: Identificativo della UO
1507        																	--						2: Nri livello della UO (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1508        																	--						3: Denominazione della UO (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1509        																	--	#LivRiservatezza             	Livello di riservatezza del documento (n.ro intero da 0 ad un valore dato dal parametro di configurazione MAX_LIV_RISERVATEZZA)
1510        																	--	#DtTermineRiservatezza			Data in cui cessa di valere la riservatezza indicata il #LivRiservatezza (nel formato indicato nel parametro di config. FMT_STD_DATA)
1511        																	--	#FlgVisibInChiaroRistrettaA		Indica, qualora sia settato un livello di riservatezza, a chi è ristretta la visibilità di tutti i dati e file del documento:
1512        																	--									C  =	assegnatari per competenza (i.e. i soggetti ¿ UO, postazioni, utenti ¿ a cui il documento è stato assegnato per competenza e che non l'hanno a loro volta smistato o riassegnato a qualcun altro);
1513        																	--									CE =	coloro a cui il documento è stato assegnato per competenza (anche se successivamente l'hanno a loro volta smistato o riassegnato a qualcun altro);
1514        																	--									CC =	coloro a cui il documento è stato assegnato per competenza o conoscenza.
1515        																	--	#FlgDatiPersonali           	Se valorizzato (valore fisso 1) indica che il documento contiene dati personali
1516        																	--	#FlgDatiSensibili           	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibili
1517        																	--	#FlgDatiSensibilissimi      	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibilissimi
1518        																	--	#FlgDatiGiudiziari          	Se valorizzato (valore fisso 1) indica che il documento contiene dati giudiziari
1519        																	--	#FlgEsercDirPrivacy        	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato i diritti di cui al codice sulla privacy
1520        																	--	#FlgBloccoTrattamento       	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato il blocco del trattamento dei dati personali
1521        																	--	#DtTermineBloccoTratt         Termine (data) posto al blocco del trattamento dei dati personali di cui al campo precedente (nel formato dato dal parametro di conf. FMT_STD_DATA)
1522        																	--	#FlgLimitAccesso            	Indica se l'accesso al documento dall'esterno è precluso temporaneamente (1) o permanentemente (2)
1523        																	--	#DtTermineDiffAccesso      	Termine (data) fino a cui l'accesso al documento dall'esterno è differito (nel formato dato dal parametro di conf. FMT_STD_DATA)
1524        																	--	#IdUserTitolareTratt       	Identificativo (quello interno al sistema) dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1525        																	--	#CIEstUserTitolareTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1526        																	--	#DesUserTitolareTratt       	Descrizione dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1527        																	--	#IdUserRespTratt       		Identificativo (quello interno al sistema) dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1528        																	--	#CIEstUserRespTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1529        																	--	#DesUserRespTratt       	Descrizione dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1530        																	--	#@IncaricatiTrattamento       Lista degli incaricati del trattamento dei dati personali, sensibili ecc. contenuti nel documento. Devono essere utenti censiti nel sistema
1531        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1532        																	--						1: Identificativo (quello interno al sistema) dell'utente incaricato
1533        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente incaricato
1534        																	--						3: Descrizione dell'utente incaricato
1535        																	--	#RestrizioniAccesso 	  	Restrizioni all'accesso al documento (parti da oscuare ecc.)
1536        																	--	#RestrizioniRiprod           	Restrizioni alla riproduzione del documento
1537        																	--	#FlgCartaceoEliminato       	Se valorizzato (valore fisso 1) indica che il cartaceo del documento è stato eliminato
1538        																	--	#DtElimCartaceo             	Data di eliminazione del cartaceo del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
1539        																	--	#IdUserElimCart            	Identificativo (quello interno al sistema) dell'utente che ha eliminato il cartaceo
1540        																	--	#CIEstUserElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha eliminato il cartaceo
1541        																	--	#DesUserElimCart       		Descrizione dell'utente che ha eliminato il cartaceo
1542        																	--	#IdUserAutElimCart        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato l'eliminazione del cartaceo
1543        																	--	#CIEstUserAutElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato l'eliminazione del cartaceo
1544        																	--	#DesUserAutElimCart       	Descrizione dell'utente che ha autorizzato l'eliminazione del cartaceo
1545        																	--	#ProvCIDoc                  	Codice identificativo del documento in un eventuale sistema di provenienza
1546        																	--	#ContainerHandler			Tipo di contenitore (file-system, Hummingbird, ecc) in cui dovranno essere collocate eventuali nuove versioni elettroniche del documento
1547        																	--						Se non viene specificato e se viene specificata una versione questo attributo viene settato pari al tipo di contenitore della versione
1548        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui dovranno essere collocate eventuali nuove versioni elettroniche del documento
1549        																	--						Se non viene specificato e se viene specificata una versione questo attributo viene settato pari all'alias del contenitore della versione
1550        																	--	#FlgInvioInConserv		Indicatore di invio in conservazione
1551        																	--	#FlgInvioInConservUrgente	Livello di urgenza dell'invio in conservazione (numero intero positivo)
1552        																	--	#TsInvioInConservazione	Data e ora di invio in conservazione
1553        																	--  #StatoConservazione 		Stato del processo di conservazione. Valori ammessi: inviato, accettato, rifiutato, conservato
1554        																	--  #ErrMsgInvioInConservazione	Errore dell'invio al sistema di conservazione
1555        																	--  #IdInConservazione		Id. assegnato al documento dal sistema di conservazione
1556        																	--	#CanaleInvioDest	Codice del canale di invio dell'unità documentaria al destinatario/cliente. Va sepcificato il codice come da dizionario di sistema
1557        																	--  #@AttiRichiesti 	Lista delle pratiche/fascicoli richiesti tramite l'UD (nel caso di UD di richiesta accesso atti in archivio)
1558        																	--						I folder/pratiche che non risultano già esistenti vengono creati
1559        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1560        																		-- 1)   Tipo di identificativo dell¿atto/pratica: PG (Prot. Gen.) , PS (Protocollo di settore)
1561        																		-- 2)   N° di protocollo
1562        																		-- 3)   Registro del protocollo di settore
1563        																		-- 4)   Anno di protocollo
1564        																		-- 5)   Sub del nro di protocollo
1565        																		-- 6)	Stato scansione: N (Non ancora scansionata), P (Parzialmente scansionata), C (Completamente scansionata)
1566        																		-- 7)	ID_FOLDER del folder corrispondente alla pratica
1567        																		-- 8)	Stato: con valori non pervenuto in Cittadella, presente in Cittadella, prelevato e ancora da restituire
1568        																		-- 9)	Unità di Carico (UDC) in cui si trova la pratica
1569        																		-- 10)	Denominazione ufficio che ha effettuato il prelievo
1570        																		-- 11)	Cod. dell¿ufficio che ha effettuato il prelievo
1571        																		-- 12)	ID_UO che ha effettuato il prelievo
1572        																		-- 13)	Cognome responsabile prelievo
1573        																		-- 14)	Nome responsabile prelievo
1574        																		-- 15)	Username responsabile prelievo
1575        																		-- 16)	ID_USER responsabile prelievo
1576        																		-- 17)	Data prelievo (GG/MM/AAAA)
1577        																		-- 18)	Note uff. richiedente
1578        																		-- 19)	Note dell'archivio
1579        																		-- 20)  Classifica del fascicolo (anche storica, campo di testo libero)
1580        																		-- 22)  Competenza di Urbanistica
1581        																		-- 23)  Cartaceo reperibile
1582        																		-- 24)  Archivio in cui si trova il cartaceo
1583        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Doc: qualsiasi attributo dinamico specificabile per il documento (nel dominio di lavoro)			
1584        																	-- E quelli relativi alla versione elettronica:		
1585        																	--	#DisplayFilename_Ver 		(obblig. se si vuole caricare la ver. elettronica) Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
1586        																	--	#URI_Ver					(obblig. se si vuole caricare la ver. elettronica) Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
1587        																	--	#Impronta_Ver			(obblig. se si vuole caricare la ver. elettronica) Impronta della versione elettronica del documento
1588        																	--	#Algoritmo_Impronta_Ver	(obblig. se si vuole caricare la ver. elettronica) Algoritmo con cui è stata calcolata l'impronta (SHA-1, SHA-256, MD5 ecc)
1589        																	--	#Encoding_Impronta_Ver	(obblig. se si vuole caricare la ver. elettronica) Encoding con cui è stata calcolata l'impronta: hex = esadecimale, base64 = in base 64
1590        																	--	#Dimensione_Ver			(obblig. se si vuole caricare la ver. elettronica)  Dimensione in bytes della versione
1591        																	--	#FlgFirmata_Ver			(valori 1/0/NULL) Se 1 significa che la versione elettronica è firmata digitalmente, se 0 o NULL che non è firmata
1592        																	--	#Mimetype_Ver			(obblig. se si vuole caricare la ver. elettronica) Mimetype del file della versione (se è firmato con busta p7m, m7m o tsd è il formato del file "sbustato)
1593        																	--	#Cod_Ver				Codice identificativo da assegnare alla versione elettronica
1594        																	-- 						Se non è valorizzato/manca del tutto nell'XML alla versione viene assegnato in automatico un codice
1595        																	--	#Note_Ver	 			Note versione elettronica del documento
1596        																	--	#FlgPubblicata_Ver 		(valori 1/0/NULL) Se 1 indica che la versione è pubblicata 
1597        																	--	#IdFormatoEl_Ver 			Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
1598        																	--	#NomeFormatoEl_Ver			Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
1599        																	--	#FlgDaScansione_Ver 			(valori 1/0/NULL) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
1600        																	--	#DtScansione_Ver 			Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
1601        																	--	#IdUserScansione_Ver 			Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
1602        																	--	#CIEstUserScansione_Ver		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha scansionato l'immagine corrispondente alla versione
1603        																	--	#DesUserScansione_Ver 		Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
1604        																	--	#SpecificheScansione_Ver 		Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
1605        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ver: qualsiasi attributo dinamico specificabile su una versione																															 			
1606        			IdUDOut			OUT		DMT_UNITA_DOC.ID_UD%type,				-- Id. dell'unità documentaria creata insieme al documento o solo di appartenenza del documento
1607        			IdDocOut			OUT		DMT_DOCUMENTS.ID_DOC%type,				-- Id. del documento creato												
1608        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche degli altri doc. dell'unità doc. (oltre a quello appena creato) il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
1609        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
1610        																	-- 1:	Identificativo del documento cui è relativa la versione
1611        																	-- 2:	N.ro progressivo della versione
1612        																	-- 3: URI della versione
1613        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1614        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1615        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1616        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1617        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1618        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1619        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1620        
1621        	/***** ricava il container di una certa versione di un documento (o della sua ultima versione valida) *****/
1622        	function GetVersionContainer(
1623        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento cui è relativa la versione 
1624        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione 
1625        																	-- ATTENZIONE: se in input è NULL significa che si vuole trovare il container dell'ultima versione valida
1626        																	-- In output, in caso di successo, restituisce il n.ro della versione
1627        			ContainerTypeOut		OUT		DMT_DOCUMENTS.CONTAINER_TYPE%type,			-- Sigla del tipo di contenitore del file (file-system, Hummingbird)
1628        			ContainerAliasOut		OUT		DMT_DOCUMENTS.CONTAINER_ALIAS%type			-- Alias dello specifico contenitore del file 
1629        			) RETURN PLS_INTEGER;											-- 1 = Container trovato, 0 = Container non trovato
1630        
1631        	/***** Ricava il container in cui deve essere mappato un folder appena creato nella repository								*****/	
1632        	/***** E' il container in cui si trova il primo folder (o libreria) di appartenenza (se c'è) del folder da mappare sul container		*****/
1633        	/***** Nel caso in cui si specifichino in input gli estremi di un container verranno restituiti questi ultimi					*****/
1634        	/***** e non quelli del primo folder di appartenenza qualora vi sia nel container in input almeno un folder di appartenenza valido 		*****/
1635        	/***** Se non c'è, ovvero se si tratta di una libreria o in caso di folder inesistente, il container viene restituito NULL			*****/
1636        	function GetContainerForNewFolder(
1637        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Identificativo del folder 
1638        			ContainerTypeIO		IN OUT	DMT_FOLDER.CONTAINER_TYPE%type,			-- Sigla del tipo di contenitore del folder (file-system, Hummingbird)
1639        																	-- Il valore in input è la sigla del tipo di contenitore in cui si vorrebbe fosse creato il folder
1640        			ContainerAliasIO		IN OUT	DMT_FOLDER.CONTAINER_ALIAS%type,			-- Alias dello specifico contenitore del folder 
1641        																	-- Il valore in input è l'alias dello specifico contenitore in cui si vorrebbe fosse creato il folder
1642        			ContainerTypeToLogOut	OUT		DMT_FOLDER.CONTAINER_TYPE%type,			-- Sigla del tipo di contenitore in cui andrà inserito un log di ADD fallita per il sub-folder da creare  
1643        			ContainerAliasToLogOut	OUT		DMT_FOLDER.CONTAINER_ALIAS%type			-- Alias dello specifico contenitore in cui andrà inserito un log di ADD fallita per il sub-folder da creare
1644        			) RETURN PLS_INTEGER;											-- 1 = Container trovato, 0 = Container non trovato
1645        
1646        	/***** funzione per ottenere il container su cui va messa una nuova/prima versione di un documento esistente *****/
1647        	function GetContainerForAddVer(
1648        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1649        			ContainerTypeOut	OUT		DMT_DOCUMENTS.CONTAINER_TYPE%type,				-- Sigla del tipo di contenitore del file (file-system, Hummingbird)
1650        			ContainerAliasOut		OUT		DMT_DOCUMENTS.CONTAINER_ALIAS%type,			-- Alias dello specifico contenitore del file 
1651        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1652        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1653        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1654        			) RETURN PLS_INTEGER;											-- 1 = Successo, 0 = Errore (ad es. documento inesistente)
1655        
1656        	/***************** Funzione con cui un utente può creare nuova versione di un documento (anche la prima, se non ne esiste alcuna)	*********/
1657        	/***************** Va in errore se sul documento non c'è già un lock messo dall'utente (tramite funzione di lock o check-out)		*********/
1658        	/***************** Restituisce errore se l'utente non ha diritto di gestire l'ultima versione valida del documento   			*********/
1659        	function AddVerDoc(
1660        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1661        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si crea la nuova versione del documento. Se non valorizzato è l'utente connesso
1662        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1663        			AttributiVerXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi della nuova versione elettronica (conforme allo schema SezioneCache.xsd)
1664        																	-- Questi attributi possono essere:
1665        																	--	#DisplayFilename_Ver 		(obblig.)Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
1666        																	--	#URI_Ver					(obblig.)Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
1667        																	--	#Impronta_Ver			(obblig.)Impronta del file
1668        																	--	#Algoritmo_Impronta_Ver	(obblig.) Algoritmo con cui è stata calcolata l'impronta (SHA-1, SHA-256, MD5 ecc)
1669        																	--	#Encoding_Impronta_Ver	(obblig.) Encoding con cui è stata calcolata l'impronta: hex = esadecimale, base64 = in base 64
1670        																	--	#Dimensione_Ver			(obblig.)  Dimensione in bytes della versione
1671        																	--	#FlgFirmata_Ver			(valori 1/0/NULL) Se 1 significa che la versione elettronica è firmata digitalmente, se 0 o NULL che non è firmata
1672        																	--	#Mimetype_Ver			(obblig.) Mimetype del file della versione (se è firmato con busta p7m, m7m o tsd è il formato del file "sbustato)
1673        																	--	#Cod_Ver				Codice identificativo della versione elettronica
1674        																	--	#NroProgrVerBckVerDi_Ver		N.ro progressivo dell'eventuale versione di cui è una back-version
1675        																	--	#Note_Ver	 			Note versione elettronica del documento
1676        																	--	#FlgPubblicata_Ver 		(valori 1/0/NULL) Se 1 indica che la versione è pubblicata 
1677        																	--	#IdFormatoEl_Ver 			Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
1678        																	--	#NomeFormatoEl_Ver			Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
1679        																	--	#FlgDaScansione_Ver 			(valori 1/0/NULL) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
1680        																	--	#DtScansione_Ver 			Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
1681        																	--	#IdUserScansione_Ver 			Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
1682        																	--	#CIEstUserScansione_Ver		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha scansionato l'immagine corrispondente alla versione
1683        																	--	#DesUserScansione_Ver 		Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
1684        																	--	#SpecificheScansione_Ver 		Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
1685        																	--  #@URIVersPrecSuSharePoint_Ver	URI della versione già presenti su SharePoint (lista fatta da una sola colonna con gli URI a meno della parte tra [])
1686        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ver: qualsiasi attributo dinamico specificabile su una versione		
1687        			NroProgrVerIO		IN OUT	INTEGER,							-- In INPUT è il n.ro progressivo della versione checked-out/estratta dall'utente l'ultima volta e che lui ritiene di aggiornare; valorizzandola si richiede che venga controllato che essa coincida con l'attuale versione del documento
1688        																	-- In OUTPUT è il .ro progressivo che identifica la versione creata, ovvero l'ultima versione valida del documento (valorizzato solo in caso di successo)
1689        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1690        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1691        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1692        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1693        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1694        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1695        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1696        
1697        	/***************** Funzione con cui un utente può fare check-out (lock ed estrazione dell'ultima versione) di un documento con versione elettronica 	***************/
1698        	/***************** Restituisce errore se l'utente non ha diritto di gestire l'ultima versione valida del documento   					  	***************/
1699        	function CheckOutDoc(
1700        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1701        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
1702        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1703        			NroProgrVerOut		OUT 		INTEGER,							-- N.ro progressivo che identifica la versione estratta (l'ultima valida)
1704        			DisplayFilenameVerOut	OUT		VARCHAR2,							-- Nome con cui mostrare/in cui estrarre il file corrispondente alla versione
1705        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository il file corrispondente alla versione
1706        			ImprontaVerOut		OUT		VARCHAR2,							-- Impronta del file corrispondente alla versione
1707        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1708        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1709        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1710        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1711        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1712        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1713        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1714        
1715        	/***************** Funzione con cui un utente valido può mettere un lock su un documento con versione elettronica 		*********/
1716        	/***************** Restituisce errore se l'utente non ha diritto di gestire l'ultima versione valida del documento   		*********/
1717        	/***************** Restituisce errore anche se il documento è già locked.									*********/
1718        	function LockDoc(
1719        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1720        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1721        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1722        			FlgTipoLockIn		IN		VARCHAR2,							-- (obblig; valori E/I) Indica il tipo di lock: E = esplicito, su richiesta dell'utente; I = implicito, messo in automatico a fronte di un'operazione di aggiornamento del documento
1723        			NroProgrLastVerOut	OUT		INTEGER,							--  N.ro progressivo che identifica l'ultima versione valida del documento
1724        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository l'ultima versione valida del documento
1725        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1726        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1727        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1728        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1729        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1730        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1731        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1732        
1733        	-----overload della precedente: mantenuta per retrocompatibilità con i servizi del vecchio Aurigarepository. Fa sempre il lock implicito
1734        	function LockDoc(
1735        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1736        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1737        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1738        			NroProgrLastVerOut	OUT		INTEGER,							--  N.ro progressivo che identifica l'ultima versione valida del documento
1739        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository l'ultima versione valida del documento
1740        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1741        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1742        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1743        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1744        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1745        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1746        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1747        
1748        	/***************** Funzione con cui un utente può togliere il lock che lui stesso ha messo su un documento 			*********/
1749        	/***************** o che ha messo qualcun altro se l'utente di lavoro è abilitato all'unlock amministrativo 	      *********/
1750        	function UnlockDoc(
1751        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1752        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si toglie il lock. Se non valorizzato è l'utente connesso
1753        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1754        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository l'ultima versione valida del documento
1755        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1756        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1757        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1758        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1759        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1760        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1761        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1762        
1763        	/***************** Funzione con cui un utente valido può mettere un lock su un'intera unità documentaria		*********/
1764        	/***************** Restituisce errore anche se l''unità documentaria è già locked.						*********/
1765        	function LockUD(
1766        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1767        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1768        			IdUDIn			IN		DMT_UNITA_DOC.ID_UD%type,				-- (obblig.) Identificativo dell'unità documentaria
1769        			FlgTipoLockIn		IN		VARCHAR2,							-- (obblig; valori E/I) Indica il tipo di lock: E = esplicito, su richiesta dell'utente; I = implicito, messo in automatico a fronte di un'operazione di aggiornamento dell'UD
1770        			DocUDXMLOut			OUT		NOCOPY CLOB,						-- Lista con i dati relativi ai documenti dell'unità documetaria che sono utili a mettere il lock sui documenti stessi a livello di container (XML conforme a schema LISTA_STD.xsd)
1771        																	-- Ogni tag Riga rappresenta un documento e contiene le colonne:
1772        																	-- 1: Id. del documento
1773        																	-- 2: Riferimento (URI) per reperire univocamente nella repository l'ultima versione valida del documento
1774        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1775        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1776        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1777        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1778        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1779        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1780        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1781        
1782        	-----overload della precedente: mantenuta per retrocompatibilità con i servizi del vecchio Aurigarepository. Fa sempre il lock esplicito
1783        	function LockUD(
1784        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1785        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1786        			IdUDIn			IN		DMT_UNITA_DOC.ID_UD%type,				-- (obblig.) Identificativo dell'unità documentaria
1787        			DocUDXMLOut			OUT		NOCOPY CLOB,						-- Lista con i dati relativi ai documenti dell'unità documetaria che sono utili a mettere il lock sui documenti stessi a livello di container (XML conforme a schema LISTA_STD.xsd)
1788        																	-- Ogni tag Riga rappresenta un documento e contiene le colonne:
1789        																	-- 1: Id. del documento
1790        																	-- 2: Riferimento (URI) per reperire univocamente nella repository l'ultima versione valida del documento
1791        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1792        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1793        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1794        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1795        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1796        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1797        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1798        
1799        	/***************** Funzione con cui un utente può togliere il lock che lui stesso ha messo su un'unità documentaria *********/
1800        	/***************** o che ha messo qualcun altro se l'utente di lavoro è abilitato all'unlock amministrativo 	  *********/
1801        	function UnlockUD(
1802        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1803        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si toglie il lock. Se non valorizzato è l'utente connesso
1804        			IdUDIn			IN		DMT_UNITA_DOC.ID_UD%type,				-- (obblig.) Identificativo dell'unità documentaria
1805        			DocUDXMLOut			OUT		NOCOPY CLOB,						-- Lista con i dati relativi ai documenti dell'unità documetaria che sono utili a togliere il lock sui documenti stessi a livello di container (XML conforme a schema LISTA_STD.xsd)
1806        																	-- Ogni tag Riga rappresenta un documento e contiene le colonne:
1807        																	-- 1: Id. del documento
1808        																	-- 2: Riferimento (URI) per reperire univocamente nella repository l'ultima versione valida del documento
1809        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1810        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1811        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1812        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1813        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1814        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1815        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1816        
1817        	/***************** Funzione con cui un utente valido può mettere un lock su un'intero folder				*********/
1818        	/***************** Restituisce errore anche se il folder è già locked.						*********/
1819        	function LockFolder(
1820        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1821        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1822        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Identificativo del folder
1823        			FlgTipoLockIn		IN		VARCHAR2,							-- (obblig; valori E/I) Indica il tipo di lock: E = esplicito, su richiesta dell'utente; I = implicito, messo in automatico a fronte di un'operazione di aggiornamento del folder
1824        			URIOut			OUT		VARCHAR2,							-- URI per individuare il folder nel container in cui si trova
1825        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1826        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1827        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1828        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1829        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1830        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1831        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1832        
1833        	-----overload della precedente: mantenuta per retrocompatibilità con i servizi del vecchio Aurigarepository. Fa sempre il lock esplicito
1834        	function LockFolder(
1835        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1836        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1837        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Identificativo del folder
1838        			URIOut			OUT		VARCHAR2,							-- URI per individuare il folder nel container in cui si trova
1839        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1840        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1841        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1842        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1843        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1844        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1845        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1846        
1847        	/***************** Funzione con cui un utente può togliere il lock che lui stesso ha messo su un folder 		*********/
1848        	/***************** o che ha messo qualcun altro se l'utente di lavoro è abilitato all'unlock amministrativo       *********/
1849        	function UnlockFolder(
1850        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1851        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si toglie il lock. Se non valorizzato è l'utente connesso
1852        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Identificativo del folder
1853        			URIOut			OUT		VARCHAR2,							-- URI per individuare il folder nel container in cui si trova
1854        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1855        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1856        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1857        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1858        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1859        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1860        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1861        
1862        	/***************** Funzione con cui un utente valido può mettere un lock su un'intero workspace				*********/
1863        	/***************** Restituisce errore anche se il workspace è già locked.						*********/
1864        	function LockWorkspace(
1865        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1866        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1867        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type,			-- (obblig.) Identificativo del workspace
1868        			FlgTipoLockIn		IN		VARCHAR2,							-- (obblig; valori E/I) Indica il tipo di lock: E = esplicito, su richiesta dell'utente; I = implicito, messo in automatico a fronte di un'operazione di aggiornamento del workspace
1869        			URIOut			OUT		VARCHAR2,							-- URI per individuare il workspace nel container in cui si trova
1870        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1871        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1872        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1873        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1874        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1875        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1876        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1877        
1878        	-----overload della precedente: mantenuta per retrocompatibilità con i servizi del vecchio Aurigarepository. Fa sempre il lock esplicito
1879        	function LockWorkspace(
1880        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1881        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1882        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type,			-- (obblig.) Identificativo del workspace
1883        			URIOut			OUT		VARCHAR2,							-- URI per individuare il workspace nel container in cui si trova
1884        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1885        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1886        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1887        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1888        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1889        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1890        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1891        
1892        
1893        	/***************** Funzione con cui un utente può togliere il lock che lui stesso ha messo su un workspace  *********/
1894        	/***************** o che ha messo qualcun altro se l'utente di lavoro è abilitato all'unlock amministrativo *********/
1895        	function UnlockWorkspace(
1896        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1897        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si toglie il lock. Se non valorizzato è l'utente connesso
1898        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type,			-- (obblig.) Identificativo del workspace
1899        			URIOut			OUT		VARCHAR2,							-- URI per individuare il workspace nel container in cui si trova
1900        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1901        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1902        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1903        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1904        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1905        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1906        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1907        
1908        	/************** Funzione per aggiornare i metadati di un'unità documentaria o di un documento (con o senza versione elettronica) e della relativa unità documentaria 				***********/
1909        	/************** In caso di aggiornamento dei metadati di un documento permette di aggiornare anche qual è l'unità doc. di appartenenza (salvo che sia il doc. primario): 			***********/
1910        	/************** in caso di variata unità doc. di appartenenza i metadati specificati per l'unità documentaria aggiornano la nuova unità documentaria di appartenenza				***********/	
1911        	/************** Non prevede l'aggiornamento dei dati relativi alla specifica versione elettronica del documento													***********/
1912        	function UpdDocUD(
1913        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1914        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
1915        			FlgTipoTargetIn		IN		VARCHAR2,							-- (obblig., valori U/D) Indica se i metadati che si intende aggiornare sono quelli di un'unità documentaria (valore U: allora l'argomento successivo è il suo ID_UD)
1916        																	-- o piuttosto quelli di un documento (valore D: allora l'argomento successivo è il suo ID_DOC) e dell'unità documentaria di appartenenza (che è essa stessa un dato modificabile)	
1917        			IdUDDocIn			IN		INTEGER,							-- (obblig.) Identificativo dell'unità documentaria (se FlgTipoTargetIn=U) di cui aggiornare i metadati
1918        																	-- o del documento (se FlgTipoTargetIn=D) di cui aggiornare i metadati (eventualmente anche quelli della sua unità documentaria)
1919        			AttributiUDDocXMLIn	IN		CLOB,								-- XML contenente nomi e valori degli attributi dell'unità documentaria e/o del documento (conforme allo schema SezioneCache.xsd)
1920        																	-- Per tutti gli attributi vale quanto segue:
1921        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti in DB:
1922        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente in DB per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo in DB va rimosso
1923        																	--			per gli attributi con valore lista i valori nell'XML si aggiungono o sostituiscono quelli già presenti in DB a seconda rispettivamente che nell'XML sia presente o meno un attributo #Append_<Nome attributo>; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti in DB vanno rimossi
1924        																	-- 		gli attributi presenti in DB per cui non c'è corrispondente nell'XML restano invariati
1925        																	-- Gli attributi dell'unità documentaria sono:
1926        																	--	#@RegistrazioniDate		Lista di registrazioni/numerazioni date all'unità documentaria.
1927        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1928        																	--						1: (obblig.) Categoria di registrazione/numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
1929        																	--						2: Sigla di registrazione/numerazione
1930        																	--						3: (obblig. se non si indicano data e ora di registrazione) Anno di registrazione/numerazione
1931        																	--						4: (obblig.) N.ro di registrazione/numerazione
1932        																	--						5: Data e ora di registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
1933        																	--						6: Identificativo dell'utente che ha effettuato la registrazione/numerazione
1934        																	--						7: Codice che identifica l'utente che ha effettuato la registrazione/numerazione nell'applicazione esterna da cui ci si connette 
1935        																	--						8: Denominazione dell'utente che ha effettuato la registrazione/numerazione
1936        																	--						9: Identificativo della UO presso cui è stata effettuata la registrazione/numerazione
1937        																	--						10: Denominazione della UO presso cui è stata effettuata la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1938        																	--						11: N.ri livello della UO presso cui è stata effettuata la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1939        																	--						12: Codice che identifica la registrazione nel sistema in cui è stata data
1940        																	--						13: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
1941        																	--						14:(valori 1/NULL) Se 1 significa che la registrazione/numerazione è annullata
1942        																	--						15: Data e ora di annullamento della registrazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
1943        																	--						16: Identificativo dell'unità documentaria che rappresenta l'atto di autorizzazione all'annullamento della data registrazione/numerazione 
1944        																	--						17: Estremi dell'atto di autorizzazione annullamento (alternativo al precedente e gestito solo se quello non è valorizzato)
1945        																	--						18: Motivazioni dell'annullamento della data registrazione/numerazione
1946        																	--						19: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata richiesta dal sistema documentale
1947        																	--						20: Identificativo dell'utente che ha annullato la registrazione
1948        																	--						21: Codice che identifica l'utente che ha annullato la registrazione nell'applicazione esterna da cui ci si connette
1949        																	--						22: Denominazione dell'utente che ha annullato la registrazione
1950        																	--						23: Eventuale sub o appendice del n.ro di registrazione
1951        																	--	#Append_#@RegistrazioniDate	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
1952        																	--	#@NumerazioniDaDare		Lista con gli estremi della/e numerazioni da dare all'unità documentaria.
1953        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1954        																	--						1: (obblig. se la categoria, ovvero colonna 3, non è specificata o è diversa da PG o se è PG ma si gestiscono più AOO nello stesso archivio) Sigla di numerazione
1955        																	--						2: Anno di numerazione (se non specificato si intende l'anno corrente)
1956        																	--						3: (facolt.) Categoria della numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; I = Altro tipo di numerazione
1957        																	--									 Se non specificata si intende pari a I
1958        																	--						4: Identificativo della UO che effettua la registrazione/numerazione
1959        																	--						5: Denominazione della UO che effettua la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1960        																	--						6: N.ri livello della UO che effettua la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1961        																	--						7: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
1962        																	--						In caso di unità doc. già esistente, se la data numerazione per il dato anno già c'era, viene mantenuta quella preesistente senza dare errore
1963        																	--	ATTENZIONE: le numerazioni da dare sono sempre aggiunte - append - alle eventuali numerazioni già generate per la data UD
1964        																	--	#NomeUD				Nome dell'unità documentaria (quello con cui viene presentata e riconosciuta nella GUI).
1965        																	--	#IdLibrary				Id. della libreria di appartenenza dell'unità documentaria
1966        																	--	#NomeLibrary			Nome della libreria di appartenenza dell'unità documentaria
1967        																	--	#@ClassFascTitolario		Lista delle classificazioni e/o fascicolazioni basate sul piano di classificazione. Se i fascicoli non esistono viene dato errore.
1968        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1969        																	--						1: Identificativo della classificazione
1970        																	--						2: N.ri livello della classificazione (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore previsto per i livelli di classificazione nel dominio di lavoro) 
1971        																	--						3: Descrizione della classificazione (può essere quella semplice o la concatenazione con separatore "|" delle descrizioni delle calssificazioni superiori + quella della classificazione)
1972        																	--						4: Anno di apertura del fascicolo (obblig. se si intende specificare un fascicolo)
1973        																	--						5: N.ro progressivo del fascicolo (obblig. se si intende specificare un fascicolo)
1974        																	--						6: N.ro di sotto-fascicolo
1975        																	--						7: N.ro di inserto del sotto-fascicolo
1976        																	--						8: N.ro secondario (numerazione alternativa) del fascicolo
1977        																	--						9: Codice che indica il ruolo dell'unità documentraia nel fascicolo (valori da dizionario)
1978        																	--						10: Descrizione del ruolo dell'unità documentria nel fascicolo (valori da dizionario)
1979        																	--						11: Motivi (descrittivi) della relazione dell'unità documentria col fascicolo 
1980        																	--						12: Id. folder del fascicolo o sottofascicolo
1981        																	--	#Append_#@ClassFascTitolario	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
1982        																	--	#@FolderCustom			Lista con i folder (esclusi i fascicoli basati sul piano di classificazione: dunque i fascicoli non di titolario, le serie, ecc.) in cui deve essere collocata l'unità documentaria. Se i folder non esistono viene dato errore.
1983        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1984        																	--						1: Identificativo del folder
1985        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder (i vari livelli del percorso vanno separati con / o \)
1986        																	--						3: Codice che indica il ruolo dell'unità documentraia nel folder (valori da dizionario)
1987        																	--						4: Descrizione del ruolo dell'unità documentria nel folder (valori da dizionario)
1988        																	--						5: Motivi (descrittivi) della relazione dell'unità documentria col folder 
1989        																	--	#Append_#@FolderCustom		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
1990        																	--	#@Workspaces			Lista con i dati degli eventuali workspace in cui collocare l'unità documentaria. I workspace devono essere già esistenti
1991        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1992        																	--						1: Identificativo del workspace
1993        																	--						2: Nome del workspace	
1994        																	--						3: Motivi (descrittivi) della relazione dell'unità documentria col workspace
1995        																	--	#Append_#@Workspaces		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
1996        																	--	#@ACL					Lista con i permessi assentiti o negati sull'unità documentaria e i suoi documenti
1997        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1998        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
1999        																	--							Valori possibili:
2000        																	--							SP	= Soggetto produttore  
2001        																	-- 							AOO	= AOO 
2002        																	-- 							UT 	= Utente
2003        																	--							SV	= Scrivania virtuale
2004        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2005        																	--							G	= Gruppo
2006        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2007        																	--						2: Identificativo del destinatario del permesso
2008        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
2009        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2010        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2011        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2012        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2013        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2014        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2015        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
2016        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2017        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2018        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
2019        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
2020        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
2021        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
2022        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
2023        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
2024        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
2025        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
2026        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
2027        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2028        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2029        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2030        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2031        																	--						18:(valori 1/0/NULL) Indica se la visualizzazione dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2032        																	--						19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2033        																	--						20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2034        																	--						21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2035        																	--						22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2036        																	--						23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2037        																	--						24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
2038        																	--						25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file dell'unità documentaria è relativo alle sole versioni pubblicate
2039        																	--	#Append_#@ACL			Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2040        																	--	#FlgEreditaPermessi		Valori 1/0/NULL. Indica se l'unità documentaria può ereditare i permessi da un folder o workspace di appartenenza
2041        																	--	#PathNomeFolderEreditaPerm	Percorso e nome del folder da cui l'unità documentaria deve ereditare i permessi (se folder di titolario il nome è dato da anno di apertura + livelli classificazione + n.ro progr. di fascicolo [+ n.ro di sottofascicolo] [+n.ro di inserto])
2042        																	--	#IdFolderEreditaPerm		Id. del folder da cui l'unità documentaria deve ereditare i permessi
2043        																	--	#NomeWorkspaceEreditaPerm	Nome del workspace da cui l'unità documentaria deve ereditare i permessi (altrenativo all'attributo precedente)	
2044        																	--	#IdWorkspaceEreditaPerm		Id. del workspace da cui l'unità documentaria deve ereditare i permessi
2045        																	--	#@AltriSoggettiInt		Lista con i soggetti interni che hanno ruoli rispetto all'unità documentaria diversi da quelli - produttori, destinatari, estensori - già gestiti in apposite variabili 
2046        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2047        																	--						1: (obblig.) Indicatore del tipo di soggetto
2048        																	--							Valori possibili:
2049        																	-- 							UT 	= Utente
2050        																	--							SV	= Scrivania virtuale
2051        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2052        																	--							G	= Gruppo
2053        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2054        																	--						2: Identificativo del soggetto
2055        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2056        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2057        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2058        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2059        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2060        																	--						3: Denominazione/nome del soggetto (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2061        																	--						4: Identificativo della UO cui appartiene la scrivania
2062        																	--						5: Nri livello della UO o a cui appartiene la scrivania (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2063        																	--						6: Denominazione della UO cui appartiene la scrivania (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2064        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente o quello che occupa la scrivania 
2065        																	--						8: Denominazione dell'utente che occupa la scrivania 
2066        																	--						9: (valore 1) Indica, nel caso di UO, se sono ricomprese anche tutte le sue sotto-UO
2067        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo 
2068        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo  (alternativo alla colonna 10)
2069        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente "soggetto" o di quello che occupa la scrivania "soggetto" 
2070        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo (alternativo alla colonna 10)
2071        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente soggetto o che occupa la scrivania soggetto 
2072        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto"
2073        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2074        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2075        																	--						16:(valore 1) Indica che il ruolo amministrativo "soggetto" si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2076        																	--						17: Codice del ruolo del soggetto rispetto all'unità documentaria (valori codificati in apposita disctionary entry)
2077        																	--						18: Ruolo del soggetto rispetto all'unità documentaria (valori in apposita disctionary entry)
2078        																	--	#Append_#@AltriSoggettiInt	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
2079        																	--	#CodRuoliAltriSoggIntInAppend	E' la lista dei codici dei ruoli che sono in append e non in sostituzione (separati da |*| se più di uno). Se questa variabile non è valorizzata ed è presente #Append_#@AltriSoggettiInt significa che l'append vale per tutti i ruoli. 	
2080        																	--	#CodRuoliAltriSoggIntToDel	E' la lista dei codici dei ruoli i cui soggetti - quelli che hanno il dato ruolo - sono da cancellare del tutto(separati da |*| se più di uno).  	
2081        																	--	#@InCaricoA				Indica a chi (non destinatario) mettere in carico copia dell'unità documentaria
2082        																	--						Chi ha in carico può essere specificato/variato solo se il documento non è ancora inviato
2083        																	--						Chi ha in carico può essere solo l'utente di lavoro o una UO/scrivania cui è collegato da appartenenza o delega o per cui può lavorare
2084        																	--						E' una lista mono-riga; la riga può contenere le seguenti colonne:
2085        																	--						1: (obblig.) Indicatore del tipo di soggetto
2086        																	--							Valori possibili:
2087        																	-- 							UT 	= Utente
2088        																	--							SV	= Scrivania virtuale
2089        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2090        																	--						2: Identificativo del destinatario della copia
2091        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2092        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2093        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2094        																	--						3: Denominazione/nome del soggetto(se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2095        																	--						4: Identificativo della UO cui appartiene la scrivania che rappresenta il soggetto
2096        																	--						5: Nri livello della UO che rappresenta il soggetto o a cui appartiene la scrivania che rappresenta il soggetto (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2097        																	--						6: Denominazione della UO cui appartiene la scrivania che rappresenta il soggetto (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2098        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che rappresenta il soggetto o quello che occupa la scrivania che rappresenta il soggetto
2099        																	--						8: Denominazione dell'utente che occupa la scrivania che rappresenta il soggetto
2100        																	--						9: <Non utilizzata>
2101        																	--						10: <Non utilizzata>
2102        																	--						11: Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto
2103        																	--						12: Se colonna 1 =UT o SV: N.ro di matricola dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto  
2104        																	--						13: <Non utilizzata>
2105        																	--						14: <Non utilizzata>
2106        																	--						15: <Non utilizzata>
2107        																	--						16: <Non utilizzata>
2108        																	--						Se si vuole togliere chi ha in carico la copia basta settare a vuota la lista di questo attributo
2109        																	--  #ConfermaAssegnazione.IdUser		Id. dell'utente che deve confermare le assegnazioni
2110        																	--  #ConfermaAssegnazione.CIEstUser		Codice che identifica l'utente che deve confermare le assegnazioni nell'applicazione esterna da cui ci si connette
2111        																	--  #ConfermaAssegnazione.DesUser		Cognome e nome dell'utente che deve confermare le assegnazioni
2112        																	--  #ConfermaAssegnazione.Username		Username (interna ad Auriga) dell'utente che deve confermare le assegnazioni
2113        																	--	#@Assegnatari		Indica a chi - destinatario o meno, e comunque un soggetto interno - assegnare l'unità documentaria 
2114        																	--						Può essere specificato/variato solo se il documento NON è assegnato o se è assegnato all'utenza di lavoro o UO/Scrivania cui è collegato
2115        																	-- 						Ogni assegnatario è un tag "Riga" con le seguenti colonne:
2116        																	--						1: (obblig.) Indicatore del tipo di assegnatario
2117        																	--							Valori possibili:
2118        																	-- 							UT 	= Utente
2119        																	--							SV	= Scrivania virtuale
2120        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2121        																	--							G	= Gruppo
2122        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2123        																	--						2: Identificativo dell'assegnatario
2124        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2125        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2126        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2127        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2128        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2129        																	--						3: Denominazione/nome dell'assegnatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2130        																	--						4: Identificativo della UO cui appartiene la scrivania assegnataria
2131        																	--						5: Nri livello della UO assegnataria o a cui appartiene la scrivania assegnataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2132        																	--						6: Denominazione della UO cui appartiene la scrivania assegnataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2133        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente assegnatario o quello che occupa la scrivania assegnataria
2134        																	--						8: Denominazione dell'utente che occupa la scrivania assegnataria
2135        																	--						9: (valore 1) Indica che l'assegnatario, se UO, sono anche tutte le sue sotto-UO
2136        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo assegnatario
2137        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
2138        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente assegnatario o che occupa la scrivania assegnataria 
2139        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
2140        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente assegnatario o che occupa la scrivania assegnataria 
2141        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario
2142        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2143        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2144        																	--						16:(valore 1) Indica che il ruolo amministrativo assegnatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2145        																	--						17: Codice del ruolo dell'assegnatario (valori codificati in apposita disctionary entry)
2146        																	--						18: Ruolo dell'assegnatario (valori in apposita disctionary entry)
2147        																	--						19: Flag che indica la modalità di accesso da dare all'assegnatario sull'unità documentaria (ovvero indica le opzioni di accesso che avrà l'assegnatario nell'ACL dell'UD dopo l'invio, salvo ne avesse già di più ampie)
2148        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
2149        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa in carico per il dato assegnatario 
2150        																	--						21: N.ro di giorni, a partire dalla decorrenza dell'assegnazione, trascorsi i quali senza che sia avvenuta la presa in carico, ci deve essere la notifica di mancata presa in carico da parte del dato assegnatario
2151        																	--						22: Cod. motivo assegnazione al dato assegnatario
2152        																	--						23: Cod. priorità assegnazione al dato assegnatario
2153        																	--						24: (flag 1/0) Se 1 significa che al dato assegnatario va assegnato anche tutto il fascicolo di appartenenza (se 1 solo) 
2154        																	--						25: (flag 1/0) Se 1 significa che al dato assegnatario vanno assegnati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
2155        																	--						26: (flag 1/0) Se 1 significa che va mentenuta una copia presso chi assegna
2156        																	--						27: Messaggio a corredo dell'assegnazione al dato assegnatario
2157        																	--						28: Id. UO del punto di protocollo a cui assegnare se l'assegnazione non può essere direttamente all'assegnatario indicato e se questo è associato a più punti di protocollo
2158        																	--  #CodMotivoAssegn	Cod. del motivo dell'assegnazione agli assegnatari (da dizionario)
2159        																	--	#MotivoAssegn		Motivo dell'assegnazione agli assegnatari (da dizionario)
2160        																	--	#@InvioDestCC		Indica a chi, soggetto interno, inviare per conoscenza l'unità documentaria 
2161        																	-- 						Ogni destinatario di invio per conoscenza è un tag "Riga" con le seguenti colonne:
2162        																	--						1: (obblig.) Indicatore del tipo di destinastario
2163        																	--							Valori possibili:
2164        																	-- 							UT 	= Utente
2165        																	--							SV	= Scrivania virtuale
2166        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2167        																	--							G	= Gruppo
2168        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2169        																	--							R@	= Soggetti interni che hanno un certo ruolo rispetto al documento / folder
2170        																	--						2: Identificativo del destinatario
2171        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2172        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2173        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2174        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2175        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2176        																	--							è un COD_NATURA_REL di DMT_REL_SOGG_INT_DOC/DMT_REL_SOGG_INT_FOLDER che indica il codice del ruolo rispetto al documento / folder se colonna 1 = R@. Può avere i valori particolari: #CON_ACCESSO (= tutti coloro che hanno accesso anche in sola visualizzazione) e #CON_ACCESSO_IN_MODIFICA (= tutti coloro che hanno accesso anche in modifica dei metadati e/o file)
2177        																	--						3: Denominazione/nome del destinatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|"). Se colonna 1 = R@ è la descrizione del ruolo rispetto al documento / folder
2178        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria
2179        																	--						5: Nri livello della UO destinataria o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2180        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2181        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario o quello che occupa la scrivania destinataria
2182        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria
2183        																	--						9: (valore 1) Indica che il destinatario, se UO, sono anche tutte le sue sotto-UO
2184        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario
2185        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
2186        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario o che occupa la scrivania destinataria 
2187        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
2188        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario o che occupa la scrivania destinataria 
2189        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario
2190        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2191        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2192        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2193        																	--						17: Codice del ruolo del destinatario (valori codificati in apposita disctionary entry)
2194        																	--						18: Ruolo del destinatario (valori in apposita disctionary entry)
2195        																	--						19: Flag che indica la modalità di accesso da dare al destinatario sull'oggetto inviato (ovvero indica le opzioni di accesso che avrà il destinatario nell'ACL dell'oggetto dopo l'invio, salvo ne avesse già di più ampie)
2196        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
2197        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa visione per il dato destinatario (anche se non è stata richiesta per tutti i destinatari questa notifica)
2198        																	--						21: N.ro di giorni, a partire dalla decorrenza della notifica, trascorsi i quali senza che sia avvenuta la presa visione, ci deve essere la notifica di mancata presa visione da parte del dato destinatario (anche se tale notifica non è richiesta per tutti i destinatari)
2199        																	--						22: Cod. motivo invio al dato destinatario
2200        																	--						23: Cod. priorità invio al dato destinatario
2201        																	--						24: (flag 1/0) Se 1 significa che al dato destinatario va inviato anche tutto il fascicolo di appartenenza (se 1 solo) 
2202        																	--						25: (flag 1/0) Se 1 significa che al dato destinatario vanno inviati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
2203        																	--						26: non utilizzata
2204        																	--						27: Messaggio a corredo dell'invio al dato destinatario
2205        																	--	#@RelazioniVsUD			Lista delle relazioni dell'unità documentaria con altre unità documentarie (relazioni di precedente-successivo ecc.)
2206        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2207        																	--						1: Identificativo dell'unità documentaria collegata
2208        																	--						2: Categoria di una registrazione/numerazione dell'unità documentaria collegata; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
2209        																	--						3: Sigla di una registrazione/numerazione dell'unità documentaria collegata
2210        																	--						4: Anno di una registrazione/numerazione dell'unità documentaria collegata
2211        																	--						5: N.ro di una registrazione/numerazione dell'unità documentaria collegata
2212        																	--						6: Codice della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
2213        																	--						7: Descrizione della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
2214        																	--						8: Codice del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
2215        																	--						9: Descrizione del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
2216        																	--						10: Codice del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
2217        																	--						11: Descrizione del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
2218        																	--						12: Dettagli della relazione (campo descrittivo)
2219        																	--						22: Sub del n.ro di registrazione
2220        																	--	#Append_#@RelazioniVsUD		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2221        																	--	#FlgArchivio			Indica il tipo di archivio a cui appartiene l'unità documentaria: C = Corrente; D = di Deposito; S = Storico
2222        																	--	#FlgTipoProv			Indica se unità documentaria in entrata (E), in uscita (U) o interna/tra uffici (I)
2223        																	--	#TsArrivo				Data e ora di ricezione dell'unità documentaria se in entrata (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2224        																	--	#IdUDAutRegDiff			Identificativo dell'unità documentaria che rappresenta l'autorizzazione al differimento della registrazione della corrente unità documentaria
2225        																	--	#EstremiAutRegDiff		Estremi dell'atto di autorizzazione al differimento della registrazione della corrente unità documentaria (alternativo al campo precedente, qualora l'atto di aut. al differimento non sia un'unità doc. a sistema)
2226        																	--	#MotiviRegDiff			Motivi del differimento di registrazione della corrente unità documentaria
2227        																	--	#TsTerminXRegDiff			Data e ora che costituiscono un termine rilevante per la ricezione dell'unità documentaria (ad esempio: termine presentazione domande a concorso o offerte di gara) e che a causa del differimento è precedente alla data di registrazione ma non a quella effettiva di ricezione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2228        																	--	#DtDocRicevuto			Data di registrazione del documento ricevuto se unità doc. in entrata (ad esempio la data del Protocollo mittente)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2229        																	--	#AnnoDocRicevuto			Anno di registrazione del documento ricevuto se unità doc. in entrata (ad esempio l'anno del Protocollo mittente)
2230        																	--	#EstremiRegDocRicevuto		Estremi di registrazione del documento ricevuto se unità doc. in entrata (ad esempio anno e numero del Protocollo mittente)
2231        																	--	#RifDocRicevuto			Altri riferimenti del documento ricevuto se unità doc. in entrata
2232        																	--	#CodMezzoTrasm			Codice che indica il mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionario
2233        																	--	#DesMezzoTrasm			Descrizione del mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionaro
2234        																	--	#DtRaccomandata			Data di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è la data di raccomandata a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2235        																	--	#NroRaccomandata			Nro di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è il n.ro di raccomandata a tutti i destinatari per cui non sia diversamente specificato)
2236        																	--	#NroListaRaccomandata	Nro della lista di appartenenza della raccomandata (se la trasmissione è tramite raccomandata)
2237        																	--	#DtNotifica				Data di notifica (per unità doc. in uscita è la data di notifica a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2238        																	--	#NroNotifica			Nro di notifica (per unità doc. in uscita è il n.ro di notifica a tutti i destinatari per cui non sia diversamente specificato)
2239        																	--	#IndirizzoProv.CITopon	 	Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2240        																	--	#IndirizzoProv.DesIndirizzo 	Via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2241        																	--	#IndirizzoProv.Frazione 	Frazione dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria) 
2242        																	--	#IndirizzoProv.Zona			Zona dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2243        																	--	#IndirizzoProv.Complemento	Complemento (i.e. altri dati) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2244        																	--	#IndirizzoProv.Civico 		N.ro civico (senza eventuale esponente o altre appendici) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2245        																	--	#IndirizzoProv.AppendiciCivico 		Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2246        																	--	#IndirizzoProv.Interno 		Interno del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2247        																	--	#IndirizzoProv.Scala 		Scala del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2248        																	--	#IndirizzoProv.Piano 		Piano nel civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2249        																	--	#IndirizzoProv.CAP 		Codice Avviamento Postale dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2250        																	--	#IndirizzoProv.CodIstatCom 	Codice istat del comune (se italiano) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2251        																	--	#IndirizzoProv.NomeComCitta 	Nome del comune/città dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2252        																	--	#IndirizzoProv.CodIstatStato 	Codice istat dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2253        																	--	#IndirizzoProv.NomeStato 	Nome dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2254        																	--	#EmailProv.Id				Id. (PK in T_EMAIL_MGO) della mail in arrivo che ha dato luogo all'unità documentaria 
2255        																	--	#EmailProv.Indirizzo		Indirizzo e-mail di provenienza (se unità documentaria in entrata tramite posta elettronica) 
2256        																	--	#EmailProv.FlgCasellaIstituz	Indicatore che l'indirizzo e-mail di provenienza è una casella istituzionale di un'AOO. Valore fisso 1.
2257        																	--	#EmailProv.FlgDichIPA		Indicatore che l'indirizzo e-mail di provenienza è dichiarato all'Indice PA. Valore fisso 1.
2258        																	--	#EmailProv.FlgPEC			Indicatore che l'indirizzo e-mail di provenienza è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
2259        																	--	#EmailProv.GestorePEC		Estremi del gestore della casella e-mail di provenienza se è di Posta Elettronica Certificata.
2260        																	--	#IdUORicezione			Identificativo della UO che ha ricevuto l'unità documentaria in entrata
2261        																	--	#LivelliUORicezione		Nri livello della UO che ha ricevuto l'unità documentaria in entrata (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
2262        																	--	#DesUORicezione			Denominazione della UO che ha ricevuto l'unità documentaria in entrata (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2263        																	--	#IdUserRicezione			Identificativo (quello interno al sistema) dell'utente che ha ricevuto l'unità documentaria in entrata
2264        																	--	#CIEstUserRicezione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha ricevuto l'unità documentaria in entrata
2265        																	--	#DesUserRicezione			Descrizione dell'utente che ha ricevuto l'unità documentaria in entrata
2266        																	--	#FlgInteroperabilita		Se valorizzato (valore fisso 1) indica che l'unità documentaria è entrata o uscita tramite interoperabilità tra Protocolli Informatici
2267        																	--	#IdUserCtrlAmmissib		Identificativo (quello interno al sistema) dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
2268        																	--	#CIEstUserCtrlAmmissib		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
2269        																	--	#DesUserCtrlAmmissib		Descrizione dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
2270        																	--	#TsSpedizione			Data e ora di spedizione dell'unità documentaria se in uscita (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2271        																	--	#IdUserSpedizione			Identificativo (quello interno al sistema) dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
2272        																	--	#CIEstUserSpedizione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
2273        																	--	#DesUserSpedizione		Descrizione dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
2274        																	--	#IdUOSpedizione			Identificativo della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)
2275        																	--	#LivelliUOSpedizione		Nri livello della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
2276        																	--	#DesUOSpedizione			Denominazione della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2277        																	--	#NroAllegati			N.ro di allegati      																	
2278        																	--	#LivEvidenza                  Livello di evidenza assegnato all'unità documentaria (il massimo valore possibile è dato dal parametro di configurazione MAX_LIV_EVIDENZA)
2279        																	--	#FlgInteresseCessato		Se pari a 1 indica che è cessato l'interesse sull'unità documentaria, se 0 o NULL che l'interesse è attivo
2280        																	--	#CollocazioneFisica.IdTopografico	Id. del luogo - censito nel topografico - in cui è collocata l'unità documentaria
2281        																	--  #CollocazioneFisica.Descrizione		Descrizione libera della collocazione fisica dell'unità documentaria
2282        																	--	#FlgConservPerm			Se valorizzato (valore fisso 1) indica che l'unità documentaria deve essere conservata illimitatamente		
2283        																	--	#PeriodoConserv               Periodo minimo di conservazione (espresso in anni) dell'unità documentaria (se non specificato può essere ereditato da quelli definiti per la tipologia del doc. primario o la/le classificazione o il tipo del/dei fascicolo di appartenenza o il tipo del/i procedimenti di afferenza)
2284        																	--	#CodSupportoConserv		Codice del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
2285        																	--	#DesSupportoConserv		Descrizione del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
2286        																	--	#DtScarto                     Data di scarto archivistico (vale a dire esculsione dal processo di conservazione) dell'unità documentaria (nel formato dato dal parametro di conf. FMT_STD_DATA)
2287        																	--	#IdUserScarto           	Identificativo (quello interno al sistema) dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
2288        																	--	#CIEstUserScarto			Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato lo scarto archivistico dell'unità documentaria	
2289        																	--	#DesUserScarto			Descrizione dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
2290        																	--	#IdUserAutScarto           	Identificativo (quello interno al sistema) dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
2291        																	--	#CIEstUserAutScarto		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato lo scarto archivistico dell'unità documentaria	
2292        																	--	#DesUserAutScarto			Descrizione dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
2293        																	--	#NoteUD				Annotazioni dell'unità documentaria
2294        																	--	#CodStato				Codice dello stato dell'unità documentaria 
2295        																	--	#CodStatoDett			Codice dello stato di dettaglio dell'unità documentaria		
2296        																	--	#DesStato				Descrizione dello stato dell'unità documentaria
2297        																	--	#DesStatoDett			Descrizione dello stato di dettaglio dell'unità documentaria
2298        																	--	#ProvCIUD				Codice identificativo dell'unità documentaria in un eventuale sistema di provenienza
2299        																	--  #MotiviModificaDatiRegistrazione Motivo per cui si modificano i dati dell'unità documentaria - se registrata su registro ufficiale quali quelli di protocollo e repertorio - che figurano nel registro di protocollo/repertorio
2300        																	--  #ProcessToStart.IdBPMProcessDef 	Id. del flusso BPM (comprensivo di versione) con il quale avviare un processo legato al folder aperto dall'unità documentaria
2301        																	--										se il folder ha già un processo associato la variabile viene ignorata
2302        																	--  #ProcessToStart.IdBPMProcessInst	Id. dell'istanza di processo BPM con la quale avviare un processo legato al folder aperto dall'unità documentaria
2303        																	--										se il folder ha già un processo associato la variabile viene ignorata
2304        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ud: qualsiasi attributo dinamico specificabile per un'unità documentaria (nel dominio di lavoro)									
2305        																	-- E gli attributi del documento sono:
2306        																	--	#IdUD					Id. dell'unità documentaria di appartenenza
2307        																	--	#CodCategoriaRegUD		Codice di una categoria di registrazione dell'unità documentaria di appartenenza 
2308        																	--	#SiglaRegUD				Sigla di registrazione/numerazione dell'unità documentaria di appartenenza
2309        																	--	#AnnoRegUD				Anno di registrazione/numerazione dell'unità documentaria di appartenenza
2310        																	--	#NroRegUD				N.ro di registrazione/numerazione dell'unità documentaria di appartenenza
2311        																	--	#CodNaturaRelVsUD			Codice della natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
2312        																	--						Si può variare solo se non è il documento primario dell'unità doc. a cui è già associato
2313        																	--	#DesNaturaRelVsUD			Natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
2314        																	--						Si può variare solo se non è il documento primario dell'unità doc. a cui è già associato
2315        																	--	#DettagliRelVsUD			Dettagli della relazione del documento con l'unità documentaria.
2316        																	--						Da specificare solo se l'unità documentaria è preesistente (e quindi il documento non è il primario)
2317        																	--	#IdDocType				Identificativo del tipo del documento
2318        																	--	#NomeDocType			Nome del tipo del documento
2319        																	--	#ProvCIDocType			Codice identificativo del tipo documento nel sistema di provenienza (PROV_CI_DOC_TYPE)
2320        																	--	#@MittentiEsterni			Lista con i dati dei mittenti esterni.
2321        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
2322        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
2323        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
2324        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
2325        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
2326        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2327        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
2328        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza
2329        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
2330        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
2331        																	--						5: Nome (se persona fisica)
2332        																	--						6: Codice fiscale
2333        																	--						7: Partita IVA
2334        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
2335        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
2336        																	--						10: Codice ISTAT del comune di nascita/istituzione
2337        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
2338        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
2339        																	--						13: Nome dello stato estero di nascita/istituzione
2340        																	--						14: Codice ISTAT dello stato di cittadinanza
2341        																	--						15: Nome dello stato di cittadinanza
2342        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
2343        																	--						17: Cod. rapido assegnatogli in rubrica
2344        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
2345        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
2346        																	--						26: Località dell'indirizzo fisico  
2347        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
2348        																	--						28: Interno del civico dell'indirizzo fisico 
2349        																	--						29: Scala del civico dell'indirizzo fisico 
2350        																	--						30: Piano nel civico dell'indirizzo fisico 
2351        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
2352        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
2353        																	--						33: Nome del comune/città dell'indirizzo fisico 
2354        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
2355        																	--						35: Nome dello stato estero dell'indirizzo fisico 
2356        																	--						43: N.ro che indica la posizione del mittente tra tutti i destinatari interni ed esterni del documento 
2357        																	--						44: Titolo di studio/professionale
2358        																	--						45: Zona dell'indirizzo fisico 
2359        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
2360        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
2361        																	--						48: non utilizzato
2362        																	--					    49: Tipo di toponimo dell'indirizzo fisico 
2363        																	--						50: Indirizzo e-mail
2364        																	--						51: N.ro di telefono
2365        																	--						52: Userid del mittente
2366        																	--	#Append_#@MittentiEsterni	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2367        																	--	#@DestinatariEsterni		Lista con i dati dei destinatari (in realtà possono essere esterni o interni)
2368        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
2369        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
2370        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
2371        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
2372        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
2373        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2374        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
2375        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza 
2376        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
2377        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
2378        																	--						5: Nome (se persona fisica)
2379        																	--						6: Codice fiscale
2380        																	--						7: Partita IVA
2381        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
2382        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
2383        																	--						10: Codice ISTAT del comune di nascita/istituzione
2384        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
2385        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
2386        																	--						13: Nome dello stato estero di nascita/istituzione
2387        																	--						14: Codice ISTAT dello stato di cittadinanza
2388        																	--						15: Nome dello stato di cittadinanza
2389        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
2390        																	--						17: Codice che indica il mezzo di trasmissione dell'unità documentaria al destinataro. Valori in dizionario
2391        																	--						18: Descrizione del mezzo di trasmissione dell'unità documentaria al destinatario. Valori in dizionaro
2392        																	--						19: Data e ora di spedizione/invio al destinatario (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2393        																	--						20: Data di raccomandata (se la trasmissione è tramite raccomandata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2394        																	--						21: Nro di raccomandata al destinatario (se la trasmissione è tramite raccomandata)
2395        																	--						22: Data di notifica al destinatario (nel formato dato dal parametro di conf. FMT_STD_DATA)
2396        																	--						23: Nro di notifica al destinatario
2397        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2398        																	--						25: Via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2399        																	--						26: Località dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
2400        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2401        																	--						28: Interno del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2402        																	--						29: Scala del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2403        																	--						30: Piano nel civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2404        																	--						31: Codice Avviamento Postale dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2405        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2406        																	--						33: Nome del comune/città dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2407        																	--						34: Codice istat dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2408        																	--						35: Nome dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2409        																	--						36: Indirizzo e-mail del destinatario (se invio tramite posta elettronica) 
2410        																	--						37: Indicatore che l'indirizzo e-mail del destinatario è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
2411        																	--						38: Estremi del gestore della casella e-mail del destinatario se è di Posta Elettronica Certificata.
2412        																	--						39: Indicatore di destinatario per conoscenza. Valore fisso 1. 
2413        																	--						40: Indicatore che l'indirizzo e-mail del destinatario è dichiarato all'Indice PA. Valore fisso 1.
2414        																	--						41: Indicatore che l'indirizzo e-mail del destinatario è una casella istituzionale di un'AOO. Valore fisso 1.
2415        																	--						42: Nro fax del destinatario (se invio tramite fax) 
2416        																	--						43: N.ro che indica la posizione del destinatario tra tutti i destinatari interni ed esterni del documento 
2417        																	--						44: Titolo di studio/professionale
2418        																	--						45: Zona dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
2419        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
2420        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2421        																	--						48: Cod. rapido assegnatogli in rubrica
2422        																	--					    49: Tipo di toponimo dell'indirizzo fisico di invio al destinatario
2423        																	--	#Append_#@DestinatariEsterni	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2424        																	--	#@GruppiDestinatari	Lista con i gruppi/liste di distribuzione di destinatari
2425        																	--						ATTENZIONE: devono essere gruppi/liste di distribuzione censite nella rubrica del sistema
2426        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
2427        																	--								tutti gli altri campi (colonne dalla 3 alla 15) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
2428        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
2429        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
2430        																	--						Ciscuna riga della lista è un gruppo/lista di distribuzione e può contenere le seguenti colonne:
2431        																	--						1: Identificativo (ID_GRUPPO) del gruppo/lista di distribuzione
2432        																	--						2: Nome del gruppo/lista di distribuzione
2433        																	--						3: Codice rapido del gruppo/lista di distribuzione
2434        																	--						4: Indicatore di destinatario per conoscenza (i.e. tutti i membri del gruppo sono destinatari x conoscenza). Valore fisso 1. 
2435        																	--	#@AltriSoggettiEsterni		Lista con i dati di altri soggetti esterni (firmatari, conraenti ecc) in relazione con il documento
2436        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
2437        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
2438        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
2439        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
2440        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
2441        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2442        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
2443        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza
2444        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
2445        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
2446        																	--						5: Nome (se persona fisica)
2447        																	--						6: Codice fiscale
2448        																	--						7: Partita IVA
2449        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
2450        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
2451        																	--						10: Codice ISTAT del comune di nascita/istituzione
2452        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
2453        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
2454        																	--						13: Nome dello stato estero di nascita/istituzione
2455        																	--						14: Codice ISTAT dello stato di cittadinanza
2456        																	--						15: Nome dello stato di cittadinanza
2457        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
2458        																	--						17: (obblig. se campo successivo non è valorizzato) Codice della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
2459        																	--						18: (obblig. se campo precedente non è valorizzato) Descrizione della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
2460        																	--						19: Dettagli sulla natura della relazione tra soggetto e documento
2461        																	--						20: Titolo di studio/professionale
2462        																	--						21: Cod. rapido assegnatogli in rubrica
2463        																	--						23: N° documento di riconoscimento
2464        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
2465        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
2466        																	--						26: Località dell'indirizzo fisico  
2467        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
2468        																	--						28: Interno del civico dell'indirizzo fisico 
2469        																	--						29: Scala del civico dell'indirizzo fisico 
2470        																	--						30: Piano nel civico dell'indirizzo fisico 
2471        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
2472        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
2473        																	--						33: Nome del comune/città dell'indirizzo fisico 
2474        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
2475        																	--						35: Nome dello stato estero dell'indirizzo fisico 
2476        																	--						45: Zona dell'indirizzo fisico 
2477        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
2478        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
2479        																	--						48: non utilizzato
2480        																	--					    49: Tipo di toponimo dell'indirizzo fisico 
2481        																	--						50: Indirizzo e-mail
2482        																	--						51: (valori 1/0) Se 1 indica se il soggetto (qualora esibente) è anche mittente
2483        																	--						52: Tipo di documento di riconoscimento
2484        																	--						53: N.ro di telefono
2485        																	--						54: (valori U/E) Indica se soggetto incaricato del ritiro documentazione per conto di: U = ufficio interno, E = richiedente esterno
2486        																	--	#Append_#@AltriSoggettiEsterni Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2487        																	--	#DesOgg				Oggetto / descrizione del documento
2488        																	--	#ParoleChiave                 Parole chiave per cui è utile ricercare il documento 
2489        																	--	#CodSupportoOrig            	Codice del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
2490        																	--	#SupportoOriginale			Descrizione del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
2491        																	--	#FlgTipoCartaceo            	Indica se il documento cartaceo è: originale unico (OU), originale non unico (ONU), copia (C)
2492        																	--	#FlgDigitalizzazione         	Indica se il documento, originariamente cartaceo, è stato digitalizzato (2) o se ne è richiesta la digitalizzazione (1)
2493        																	--	#CISuCartaceo                 Codice (ad esempio un codice a barre) riportato sul documento cartaceo per identificarlo (da usarsi in fase di digitalizzazione per associare l'immagine al documento corretto)
2494        																	--	#NroPagineCartaceo          	N.ro di pagine del documento cartaceo
2495        																	--	#DtStesura  	            Data di redazione del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
2496        																	--	#LuogoStesura			Luogo di redazione del documento (descrittivo)
2497        																	--	#@Estensori                   Lista degli estensori (interni) del documento (sono utenti censiti nel sistema)
2498        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2499        																	--						1: Identificativo (quello interno al sistema) dell'utente estensore
2500        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente estensore
2501        																	--						3: Descrizione dell'utente estensore
2502        																	--						4: Username dell'utente estensore (quella interna)
2503        																	--	#Append_#@Estensori		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
2504        																	--	#@UffProduttori               Lista degli uffici che hanno prodotto il documento (UO censite nel sistema)
2505        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2506        																	--						1: Identificativo della UO
2507        																	--						2: Nri livello della UO (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2508        																	--						3: Denominazione della UO (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2509        																	--	#Append_#@UffProduttori		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
2510        																	--	#LivRiservatezza             	Livello di riservatezza del documento (n.ro intero da 0 ad un valore dato dal parametro di configurazione MAX_LIV_RISERVATEZZA)
2511        																	--	#DtTermineRiservatezza			Data in cui cessa di valere la riservatezza indicata il #LivRiservatezza (nel formato indicato nel parametro di config. FMT_STD_DATA)
2512        																	--	#FlgVisibInChiaroRistrettaA		Indica, qualora sia settato un livello di riservatezza, a chi è ristretta la visibilità di tutti i dati e file del documento:
2513        																	--									C  =	assegnatari per competenza (i.e. i soggetti ¿ UO, postazioni, utenti ¿ a cui il documento è stato assegnato per competenza e che non l'hanno a loro volta smistato o riassegnato a qualcun altro);
2514        																	--									CE =	coloro a cui il documento è stato assegnato per competenza (anche se successivamente l'hanno a loro volta smistato o riassegnato a qualcun altro);
2515        																	--									CC =	coloro a cui il documento è stato assegnato per competenza o conoscenza.
2516        																	--	#FlgDatiPersonali           	Se valorizzato (valore fisso 1) indica che il documento contiene dati personali
2517        																	--	#FlgDatiSensibili           	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibili
2518        																	--	#FlgDatiSensibilissimi      	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibilissimi
2519        																	--	#FlgDatiGiudiziari          	Se valorizzato (valore fisso 1) indica che il documento contiene dati giudiziari
2520        																	--	#FlgEsercDirPrivacy        	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato i diritti di cui al codice sulla privacy
2521        																	--	#FlgBloccoTrattamento       	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato il blocco del trattamento dei dati personali
2522        																	--	#DtTermineBloccoTratt         Termine (data) posto al blocco del trattamento dei dati personali di cui al campo precedente (nel formato dato dal parametro di conf. FMT_STD_DATA)
2523        																	--	#FlgLimitAccesso            	Indica se l'accesso al documento dall'esterno è precluso temporaneamente (1) o permanentemente (2)
2524        																	--	#DtTermineDiffAccesso      	Termine (data) fino a cui l'accesso al documento dall'esterno è differito (nel formato dato dal parametro di conf. FMT_STD_DATA)
2525        																	--	#IdUserTitolareTratt       	Identificativo (quello interno al sistema) dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2526        																	--	#CIEstUserTitolareTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2527        																	--	#DesUserTitolareTratt       	Descrizione dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2528        																	--	#IdUserRespTratt       		Identificativo (quello interno al sistema) dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2529        																	--	#CIEstUserRespTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2530        																	--	#DesUserRespTratt       	Descrizione dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2531        																	--	#@IncaricatiTrattamento       Lista degli incaricati del trattamento dei dati personali, sensibili ecc. contenuti nel documento. Devono essere utenti censiti nel sistema
2532        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2533        																	--						1: Identificativo (quello interno al sistema) dell'utente incaricato
2534        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente incaricato
2535        																	--						3: Descrizione dell'utente incaricato
2536        																	--	#Append_#@IncaricatiTrattamento Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
2537        																	--	#RestrizioniAccesso 	  	Restrizioni all'accesso al documento (parti da oscuare ecc.)
2538        																	--	#RestrizioniRiprod           	Restrizioni alla riproduzione del documento
2539        																	--	#FlgCartaceoEliminato       	Se valorizzato (valore fisso 1) indica che il cartaceo del documento è stato eliminato
2540        																	--	#DtElimCartaceo             	Data di eliminazione del cartaceo del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
2541        																	--	#IdUserElimCart            	Identificativo (quello interno al sistema) dell'utente che ha eliminato il cartaceo
2542        																	--	#CIEstUserElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha eliminato il cartaceo
2543        																	--	#DesUserElimCart       		Descrizione dell'utente che ha eliminato il cartaceo
2544        																	--	#IdUserAutElimCart        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato l'eliminazione del cartaceo
2545        																	--	#CIEstUserAutElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato l'eliminazione del cartaceo
2546        																	--	#DesUserAutElimCart       	Descrizione dell'utente che ha autorizzato l'eliminazione del cartaceo
2547        																	--	#ProvCIDoc                  	Codice identificativo del documento in un eventuale sistema di provenienza
2548        																	--	#ContainerHandler			Tipo di contenitore (file-system, Hummingbird, ecc) in cui dovranno essere collocate eventuali nuove versioni elettroniche del documento
2549        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui dovranno essere collocate eventuali nuove versioni elettroniche del documento
2550        																	--	#FlgInvioInConserv		Indicatore di invio in conservazione
2551        																	--	#FlgInvioInConservUrgente	Livello di urgenza dell'invio in conservazione (numero intero positivo)
2552        																	--	#TsInvioInConservazione	Data e ora di invio in conservazione
2553        																	--  #StatoConservazione 		Stato del processo di conservazione. Valori ammessi: inviato, accettato, rifiutato, conservato
2554        																	--  #ErrMsgInvioInConservazione	Errore dell'invio al sistema di conservazione
2555        																	--  #IdInConservazione		Id. assegnato al documento dal sistema di conservazione
2556        																	--	#CanaleInvioDest	Codice del canale di invio dell'unità documentaria al destinatario/cliente. Va sepcificato il codice come da dizionario di sistema
2557        																	--  #@AttiRichiesti 	Lista delle pratiche/fascicoli richiesti tramite l'UD (nel caso di UD di richiesta accesso atti in archivio)
2558        																	--						I folder/pratiche che non risultano già esistenti vengono creati
2559        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2560        																		-- 1)   Tipo di identificativo dell¿atto/pratica: PG (Prot. Gen.) , PS (Protocollo di settore)
2561        																		-- 2)   N° di protocollo
2562        																		-- 3)   Registro del protocollo di settore
2563        																		-- 4)   Anno di protocollo
2564        																		-- 5)   Sub del nro di protocollo
2565        																		-- 6)	Stato scansione: N (Non ancora scansionata), P (Parzialmente scansionata), C (Completamente scansionata)
2566        																		-- 7)	ID_FOLDER del folder corrispondente alla pratica
2567        																		-- 8)	Stato: con valori non pervenuto in Cittadella, presente in Cittadella, prelevato e ancora da restituire
2568        																		-- 9)	Unità di Carico (UDC) in cui si trova la pratica
2569        																		-- 10)	Denominazione ufficio che ha effettuato il prelievo
2570        																		-- 11)	Cod. dell¿ufficio che ha effettuato il prelievo
2571        																		-- 12)	ID_UO che ha effettuato il prelievo
2572        																		-- 13)	Cognome responsabile prelievo
2573        																		-- 14)	Nome responsabile prelievo
2574        																		-- 15)	Username responsabile prelievo
2575        																		-- 16)	ID_USER responsabile prelievo
2576        																		-- 17)	Data prelievo (GG/MM/AAAA)
2577        																		-- 18)	Note uff. richiedente
2578        																		-- 19)	Note dell'archivio	
2579        																		-- 20)  Classifica del fascicolo (anche storica, campo di testo libero)	
2580        																		-- 22)  Competenza di Urbanistica
2581        																		-- 23)  Cartaceo reperibile
2582        																		-- 24)  Archivio in cui si trova il cartaceo
2583        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Doc: qualsiasi attributo dinamico specificabile per il documento (nel dominio di lavoro)			
2584        			URIXmlOut			OUT		NOCOPY CLOB,				-- Lista con gli URI delle versioni elettroniche il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
2585        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
2586        																	-- 1:	Identificativo del documento cui è relativa la versione
2587        																	-- 2:	N.ro progressivo della versione
2588        																	-- 3: URI della versione
2589        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
2590        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
2591        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
2592        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
2593        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
2594        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
2595        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
2596        
2597        	/************** Funzione per aggiornare i dati di una versione elettronica di un documento ed eventualmente anche i metadati del documento e della relativa unità documentaria 		***********/
2598        	/************** In caso di aggiornamento dei metadati del documento permette di aggiornare anche qual è l'unità doc. di appartenenza (salvo che sia il doc. primario): 				***********/
2599        	/************** in caso di variata unità doc. di appartenenza i metadati specificati per l'unità documentaria aggiornano la nuova unità documentaria di appartenenza				***********/	
2600        	function UpdVerDoc(
2601        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
2602        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
2603        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento cui è relativa la versione 
2604        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione da aggiornare
2605        																	-- ATTENZIONE: se in input è NULL significa che si vuole aggiornare l'ultima versione valida e visibile all'utente di lavoro
2606        																	-- In output, in caso di successo, restituisce il n.ro della versione aggiornata
2607        			AttributiXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi della versione, del documento e dell'unità documentaria (conforme allo schema SezioneCache.xsd)
2608        																	-- Per tutti gli attributi vale quanto segue:
2609        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti in DB:
2610        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente in DB per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo in DB va rimosso
2611        																	--			per gli attributi con valore lista i valori nell'XML si aggiungono o sostituiscono quelli già presenti in DB a seconda rispettivamente che nell'XML sia presente o meno un attributo #Append_<Nome attributo>; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti in DB vanno rimossi
2612        																	-- 		gli attributi presenti in DB per cui non c'è corrispondente nell'XML restano invariati
2613        																	-- Gli attributi dell'unità documentaria sono:
2614        																	--	#@RegistrazioniDate		Lista di registrazioni/numerazioni date all'unità documentaria.
2615        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2616        																	--						1: (obblig.) Categoria di registrazione/numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
2617        																	--						2: Sigla di registrazione/numerazione
2618        																	--						3: (obblig. se non si indicano data e ora di registrazione) Anno di registrazione/numerazione
2619        																	--						4: (obblig.) N.ro di registrazione/numerazione
2620        																	--						5: Data e ora di registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
2621        																	--						6: Identificativo dell'utente che ha effettuato la registrazione/numerazione
2622        																	--						7: Codice che identifica l'utente che ha effettuato la registrazione/numerazione nell'applicazione esterna da cui ci si connette 
2623        																	--						8: Denominazione dell'utente che ha effettuato la registrazione/numerazione
2624        																	--						9: Identificativo della UO presso cui è stata effettuata la registrazione/numerazione
2625        																	--						10: Denominazione della UO presso cui è stata effettuata la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2626        																	--						11: N.ri livello della UO presso cui è stata effettuata la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2627        																	--						12: Codice che identifica la registrazione nel sistema in cui è stata data
2628        																	--						13: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
2629        																	--						14:(valori 1/NULL) Se 1 significa che la registrazione/numerazione è annullata
2630        																	--						15: Data e ora di annullamento della registrazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
2631        																	--						16: Identificativo dell'unità documentaria che rappresenta l'atto di autorizzazione all'annullamento della data registrazione/numerazione 
2632        																	--						17: Estremi dell'atto di autorizzazione annullamento (alternativo al precedente e gestito solo se quello non è valorizzato)
2633        																	--						18: Motivazioni dell'annullamento della data registrazione/numerazione
2634        																	--						19: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata richiesta dal sistema documentale
2635        																	--						20: Identificativo dell'utente che ha annullato la registrazione
2636        																	--						21: Codice che identifica l'utente che ha annullato la registrazione nell'applicazione esterna da cui ci si connette
2637        																	--						22: Denominazione dell'utente che ha annullato la registrazione
2638        																	--						23: Eventuale sub o appendice del n.ro di registrazione
2639        																	--	#Append_#@RegistrazioniDate	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2640        																	--	#@NumerazioniDaDare		Lista con gli estremi della/e numerazioni da dare all'unità documentaria.
2641        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2642        																	--						1: (obblig.) Sigla di numerazione
2643        																	--						2: Anno di numerazione (se non specificato si intende l'anno corrente)
2644        																	--						3: (facolt.) Categoria della numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; I = Altro tipo di numerazione
2645        																	--									 Se non specificata si intende pari a I
2646        																	--						4: Identificativo della UO che effettua la registrazione/numerazione
2647        																	--						5: Denominazione della UO che effettua la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2648        																	--						6: N.ri livello della UO che effettua la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2649        																	--						7: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
2650        																	--						In caso di unità doc. già esistente, se la data numerazione per il dato anno già c'era, viene mantenuta quella preesistente senza dare errore
2651        																	--	ATTENZIONE: le numerazioni da dare sono sempre aggiunte - append - alle eventuali numerazioni già generate per la data UD
2652        																	--	#NomeUD				Nome dell'unità documentaria (quello con cui viene presentata e riconosciuta nella GUI).
2653        																	--	#IdLibrary				Id. della libreria di appartenenza dell'unità documentaria
2654        																	--	#NomeLibrary			Nome della libreria di appartenenza dell'unità documentaria
2655        																	--	#@ClassFascTitolario		Lista delle classificazioni e/o fascicolazioni basate sul piano di classificazione. Se i fascicoli non esistono viene dato errore.
2656        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2657        																	--						1: Identificativo della classificazione
2658        																	--						2: N.ri livello della classificazione (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore previsto per i livelli di classificazione nel dominio di lavoro) 
2659        																	--						3: Descrizione della classificazione (può essere quella semplice o la concatenazione con separatore "|" delle descrizioni delle calssificazioni superiori + quella della classificazione)
2660        																	--						4: Anno di apertura del fascicolo (obblig. se si intende specificare un fascicolo)
2661        																	--						5: N.ro progressivo del fascicolo (obblig. se si intende specificare un fascicolo)
2662        																	--						6: N.ro di sotto-fascicolo
2663        																	--						7: N.ro di inserto del sotto-fascicolo
2664        																	--						8: N.ro secondario (numerazione alternativa) del fascicolo
2665        																	--						9: Codice che indica il ruolo dell'unità documentraia nel fascicolo (valori da dizionario)
2666        																	--						10: Descrizione del ruolo dell'unità documentria nel fascicolo (valori da dizionario)
2667        																	--						11: Motivi (descrittivi) della relazione dell'unità documentria col fascicolo 
2668        																	--						12: Id. folder del fascicolo o sottofascicolo
2669        																	--	#Append_#@ClassFascTitolario	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2670        																	--	#@FolderCustom			Lista con i folder (esclusi i fascicoli basati sul piano di classificazione: dunque i fascicoli non di titolario, le serie, ecc.) in cui deve essere collocata l'unità documentaria. Se i folder non esistono viene dato errore.
2671        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2672        																	--						1: Identificativo del folder
2673        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder (i vari livelli del percorso vanno separati con / o \)
2674        																	--						3: Codice che indica il ruolo dell'unità documentraia nel folder (valori da dizionario)
2675        																	--						4: Descrizione del ruolo dell'unità documentria nel folder (valori da dizionario)
2676        																	--						5: Motivi (descrittivi) della relazione dell'unità documentria col folder 
2677        																	--	#Append_#@FolderCustom		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2678        																	--	#@Workspaces			Lista con i dati degli eventuali workspace in cui collocare l'unità documentaria. I workspace devono essere già esistenti
2679        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2680        																	--						1: Identificativo del workspace
2681        																	--						2: Nome del workspace	
2682        																	--						3: Motivi (descrittivi) della relazione dell'unità documentria col workspace
2683        																	--	#Append_#@Workspaces		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2684        																	--	#@ACL					Lista con i permessi assentiti o negati sull'unità documentaria e i suoi documenti
2685        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2686        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
2687        																	--							Valori possibili:
2688        																	--							SP	= Soggetto produttore  
2689        																	-- 							AOO	= AOO 
2690        																	-- 							UT 	= Utente
2691        																	--							SV	= Scrivania virtuale
2692        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2693        																	--							G	= Gruppo
2694        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2695        																	--						2: Identificativo del destinatario del permesso
2696        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
2697        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2698        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2699        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2700        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2701        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2702        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2703        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
2704        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2705        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2706        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
2707        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
2708        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
2709        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
2710        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
2711        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
2712        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
2713        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
2714        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
2715        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2716        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2717        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2718        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2719        																	--						18:(valori 1/0/NULL) Indica se la visualizzazione dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2720        																	--						19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2721        																	--						20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2722        																	--						21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2723        																	--						22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2724        																	--						23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2725        																	--						24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
2726        																	--						25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file dell'unità documentaria è relativo alle sole versioni pubblicate
2727        																	--	#Append_#@ACL			Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2728        																	--	#FlgEreditaPermessi		Valori 1/0/NULL. Indica se l'unità documentaria può ereditare i permessi da un folder o workspace di appartenenza
2729        																	--	#PathNomeFolderEreditaPerm	Percorso e nome del folder da cui l'unità documentaria deve ereditare i permessi (se folder di titolario il nome è dato da anno di apertura + livelli classificazione + n.ro progr. di fascicolo [+ n.ro di sottofascicolo] [+n.ro di inserto])
2730        																	--	#IdFolderEreditaPerm		Id. del folder da cui l'unità documentaria deve ereditare i permessi
2731        																	--	#NomeWorkspaceEreditaPerm	Nome del workspace da cui l'unità documentaria deve ereditare i permessi (altrenativo all'attributo precedente)	
2732        																	--	#IdWorkspaceEreditaPerm		Id. del workspace da cui l'unità documentaria deve ereditare i permessi
2733        																	--	#@AltriSoggettiInt		Lista con i soggetti interni che hanno ruoli rispetto all'unità documentaria diversi da quelli - produttori, destinatari, estensori - già gestiti in apposite variabili 
2734        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2735        																	--						1: (obblig.) Indicatore del tipo di soggetto
2736        																	--							Valori possibili:
2737        																	-- 							UT 	= Utente
2738        																	--							SV	= Scrivania virtuale
2739        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2740        																	--							G	= Gruppo
2741        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2742        																	--						2: Identificativo del soggetto
2743        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2744        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2745        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2746        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2747        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2748        																	--						3: Denominazione/nome del soggetto (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2749        																	--						4: Identificativo della UO cui appartiene la scrivania
2750        																	--						5: Nri livello della UO o a cui appartiene la scrivania (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2751        																	--						6: Denominazione della UO cui appartiene la scrivania (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2752        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente o quello che occupa la scrivania 
2753        																	--						8: Denominazione dell'utente che occupa la scrivania 
2754        																	--						9: (valore 1) Indica, nel caso di UO, se sono ricomprese anche tutte le sue sotto-UO
2755        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo 
2756        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo  (alternativo alla colonna 10)
2757        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente "soggetto" o di quello che occupa la scrivania "soggetto" 
2758        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo (alternativo alla colonna 10)
2759        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente soggetto o che occupa la scrivania soggetto 
2760        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto"
2761        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2762        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2763        																	--						16:(valore 1) Indica che il ruolo amministrativo "soggetto" si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2764        																	--						17: Codice del ruolo del soggetto rispetto all'unità documentaria (valori codificati in apposita disctionary entry)
2765        																	--						18: Ruolo del soggetto rispetto all'unità documentaria (valori in apposita disctionary entry)
2766        																	--	#Append_#@AltriSoggettiInt	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
2767        																	--	#CodRuoliAltriSoggIntInAppend	E' la lista dei codici dei ruoli che sono in append e non in sostituzione (separati da |*| se più di uno). Se questa variabile non è valorizzata ed è presente #Append_#@AltriSoggettiInt significa che l'append vale per tutti i ruoli. 	
2768        																	--	#CodRuoliAltriSoggIntToDel	E' la lista dei codici dei ruoli i cui soggetti - quelli che hanno il dato ruolo - sono da cancellare del tutto(separati da |*| se più di uno).  	
2769        																	--	#@InCaricoA				Indica a chi (non destinatario) mettere in carico copia dell'unità documentaria
2770        																	--						Chi ha in carico può essere specificato/variato solo se il documento non è ancora inviato
2771        																	--						Chi ha in carico può essere solo l'utente di lavoro o una UO/scrivania cui è collegato da appartenenza o delega o per cui può lavorare
2772        																	--						E' una lista mono-riga; la riga può contenere le seguenti colonne:
2773        																	--						1: (obblig.) Indicatore del tipo di soggetto
2774        																	--							Valori possibili:
2775        																	-- 							UT 	= Utente
2776        																	--							SV	= Scrivania virtuale
2777        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2778        																	--						2: Identificativo del destinatario della copia
2779        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2780        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2781        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2782        																	--						3: Denominazione/nome del soggetto(se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2783        																	--						4: Identificativo della UO cui appartiene la scrivania che rappresenta il soggetto
2784        																	--						5: Nri livello della UO che rappresenta il soggetto o a cui appartiene la scrivania che rappresenta il soggetto (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2785        																	--						6: Denominazione della UO cui appartiene la scrivania che rappresenta il soggetto (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2786        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che rappresenta il soggetto o quello che occupa la scrivania che rappresenta il soggetto
2787        																	--						8: Denominazione dell'utente che occupa la scrivania che rappresenta il soggetto
2788        																	--						9: <Non utilizzata>
2789        																	--						10: <Non utilizzata>
2790        																	--						11: Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto
2791        																	--						12: Se colonna 1 =UT o SV: N.ro di matricola dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto  
2792        																	--						13: <Non utilizzata>
2793        																	--						14: <Non utilizzata>
2794        																	--						15: <Non utilizzata>
2795        																	--						16: <Non utilizzata>
2796        																	--						Se si vuole togliere chi ha in carico la copia basta settare a vuota la lista di questo attributo
2797        																	--  #ConfermaAssegnazione.IdUser		Id. dell'utente che deve confermare le assegnazioni
2798        																	--  #ConfermaAssegnazione.CIEstUser		Codice che identifica l'utente che deve confermare le assegnazioni nell'applicazione esterna da cui ci si connette
2799        																	--  #ConfermaAssegnazione.DesUser		Cognome e nome dell'utente che deve confermare le assegnazioni
2800        																	--  #ConfermaAssegnazione.Username		Username (interna ad Auriga) dell'utente che deve confermare le assegnazioni
2801        																	--	#@Assegnatari		Indica a chi - destinatario o meno, e comunque un soggetto interno - assegnare l'unità documentaria 
2802        																	--						Può essere specificato/variato solo se il documento NON è assegnato o se è assegnato all'utenza di lavoro o UO/Scrivania cui è collegato
2803        																	-- 						Ogni assegnatario è un tag "Riga" con le seguenti colonne:
2804        																	--						1: (obblig.) Indicatore del tipo di assegnatario
2805        																	--							Valori possibili:
2806        																	-- 							UT 	= Utente
2807        																	--							SV	= Scrivania virtuale
2808        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2809        																	--							G	= Gruppo
2810        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2811        																	--						2: Identificativo dell'assegnatario
2812        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2813        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2814        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2815        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2816        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2817        																	--						3: Denominazione/nome dell'assegnatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2818        																	--						4: Identificativo della UO cui appartiene la scrivania assegnataria
2819        																	--						5: Nri livello della UO assegnataria o a cui appartiene la scrivania assegnataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2820        																	--						6: Denominazione della UO cui appartiene la scrivania assegnataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2821        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente assegnatario o quello che occupa la scrivania assegnataria
2822        																	--						8: Denominazione dell'utente che occupa la scrivania assegnataria
2823        																	--						9: (valore 1) Indica che l'assegnatario, se UO, sono anche tutte le sue sotto-UO
2824        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo assegnatario
2825        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
2826        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente assegnatario o che occupa la scrivania assegnataria 
2827        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
2828        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente assegnatario o che occupa la scrivania assegnataria 
2829        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario
2830        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2831        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2832        																	--						16:(valore 1) Indica che il ruolo amministrativo assegnatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2833        																	--						17: Codice del ruolo dell'assegnatario (valori codificati in apposita disctionary entry)
2834        																	--						18: Ruolo dell'assegnatario (valori in apposita disctionary entry)
2835        																	--						19: Flag che indica la modalità di accesso da dare all'assegnatario sull'unità documentaria (ovvero indica le opzioni di accesso che avrà l'assegnatario nell'ACL dell'UD dopo l'invio, salvo ne avesse già di più ampie)
2836        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
2837        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa in carico per il dato assegnatario 
2838        																	--						21: N.ro di giorni, a partire dalla decorrenza dell'assegnazione, trascorsi i quali senza che sia avvenuta la presa in carico, ci deve essere la notifica di mancata presa in carico da parte del dato assegnatario
2839        																	--						22: Cod. motivo assegnazione al dato assegnatario
2840        																	--						23: Cod. priorità assegnazione al dato assegnatario
2841        																	--						24: (flag 1/0) Se 1 significa che al dato assegnatario va assegnato anche tutto il fascicolo di appartenenza (se 1 solo) 
2842        																	--						25: (flag 1/0) Se 1 significa che al dato assegnatario vanno assegnati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
2843        																	--						26: (flag 1/0) Se 1 significa che va mentenuta una copia presso chi assegna
2844        																	--						27: Messaggio a corredo dell'assegnazione al dato assegnatario
2845        																	--						28: Id. UO del punto di protocollo a cui assegnare se l'assegnazione non può essere direttamente all'assegnatario indicato e se questo è associato a più punti di protocollo
2846        																	--  #CodMotivoAssegn	Cod. del motivo dell'assegnazione agli assegnatari (da dizionario)
2847        																	--	#MotivoAssegn		Motivo dell'assegnazione agli assegnatari (da dizionario)
2848        																	--	#@InvioDestCC		Indica a chi, soggetto interno, inviare per conoscenza l'unità documentaria 
2849        																	-- 						Ogni destinatario di invio per conoscenza è un tag "Riga" con le seguenti colonne:
2850        																	--						1: (obblig.) Indicatore del tipo di destinastario
2851        																	--							Valori possibili:
2852        																	-- 							UT 	= Utente
2853        																	--							SV	= Scrivania virtuale
2854        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2855        																	--							G	= Gruppo
2856        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2857        																	--							R@	= Soggetti interni che hanno un certo ruolo rispetto al documento / folder
2858        																	--						2: Identificativo del destinatario
2859        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2860        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2861        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2862        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2863        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2864        																	--							è un COD_NATURA_REL di DMT_REL_SOGG_INT_DOC/DMT_REL_SOGG_INT_FOLDER che indica il codice del ruolo rispetto al documento / folder se colonna 1 = R@. Può avere i valori particolari: #CON_ACCESSO (= tutti coloro che hanno accesso anche in sola visualizzazione) e #CON_ACCESSO_IN_MODIFICA (= tutti coloro che hanno accesso anche in modifica dei metadati e/o file)
2865        																	--						3: Denominazione/nome del destinatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|"). Se colonna 1 = R@ è la descrizione del ruolo rispetto al documento / folder
2866        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria
2867        																	--						5: Nri livello della UO destinataria o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2868        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2869        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario o quello che occupa la scrivania destinataria
2870        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria
2871        																	--						9: (valore 1) Indica che il destinatario, se UO, sono anche tutte le sue sotto-UO
2872        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario
2873        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
2874        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario o che occupa la scrivania destinataria 
2875        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
2876        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario o che occupa la scrivania destinataria 
2877        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario
2878        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2879        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2880        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2881        																	--						17: Codice del ruolo del destinatario (valori codificati in apposita disctionary entry)
2882        																	--						18: Ruolo del destinatario (valori in apposita disctionary entry)
2883        																	--						19: Flag che indica la modalità di accesso da dare al destinatario sull'oggetto inviato (ovvero indica le opzioni di accesso che avrà il destinatario nell'ACL dell'oggetto dopo l'invio, salvo ne avesse già di più ampie)
2884        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
2885        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa visione per il dato destinatario (anche se non è stata richiesta per tutti i destinatari questa notifica)
2886        																	--						21: N.ro di giorni, a partire dalla decorrenza della notifica, trascorsi i quali senza che sia avvenuta la presa visione, ci deve essere la notifica di mancata presa visione da parte del dato destinatario (anche se tale notifica non è richiesta per tutti i destinatari)
2887        																	--						22: Cod. motivo invio al dato destinatario
2888        																	--						23: Cod. priorità invio al dato destinatario
2889        																	--						24: (flag 1/0) Se 1 significa che al dato destinatario va inviato anche tutto il fascicolo di appartenenza (se 1 solo) 
2890        																	--						25: (flag 1/0) Se 1 significa che al dato destinatario vanno inviati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
2891        																	--						26: non utilizzata
2892        																	--						27: Messaggio a corredo dell'invio al dato destinatario
2893        																	--	#@RelazioniVsUD			Lista delle relazioni dell'unità documentaria con altre unità documentarie (relazioni di precedente-successivo ecc.)
2894        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2895        																	--						1: Identificativo dell'unità documentaria collegata
2896        																	--						2: Categoria di una registrazione/numerazione dell'unità documentaria collegata; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
2897        																	--						3: Sigla di una registrazione/numerazione dell'unità documentaria collegata
2898        																	--						4: Anno di una registrazione/numerazione dell'unità documentaria collegata
2899        																	--						5: N.ro di una registrazione/numerazione dell'unità documentaria collegata
2900        																	--						6: Codice della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
2901        																	--						7: Descrizione della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
2902        																	--						8: Codice del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
2903        																	--						9: Descrizione del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
2904        																	--						10: Codice del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
2905        																	--						11: Descrizione del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
2906        																	--						12: Dettagli della relazione (campo descrittivo)
2907        																	--						22: Sub del n.ro di registrazione
2908        																	--	#Append_#@RelazioniVsUD		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2909        																	--	#FlgArchivio			Indica il tipo di archivio a cui appartiene l'unità documentaria: C = Corrente; D = di Deposito; S = Storico
2910        																	--	#FlgTipoProv			Indica se unità documentaria in entrata (E), in uscita (U) o interna/tra uffici (I)
2911        																	--	#TsArrivo				Data e ora di ricezione dell'unità documentaria se in entrata (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2912        																	--	#IdUDAutRegDiff			Identificativo dell'unità documentaria che rappresenta l'autorizzazione al differimento della registrazione della corrente unità documentaria
2913        																	--	#EstremiAutRegDiff		Estremi dell'atto di autorizzazione al differimento della registrazione della corrente unità documentaria (alternativo al campo precedente, qualora l'atto di aut. al differimento non sia un'unità doc. a sistema)
2914        																	--	#MotiviRegDiff			Motivi del differimento di registrazione della corrente unità documentaria
2915        																	--	#TsTerminXRegDiff			Data e ora che costituiscono un termine rilevante per la ricezione dell'unità documentaria (ad esempio: termine presentazione domande a concorso o offerte di gara) e che a causa del differimento è precedente alla data di registrazione ma non a quella effettiva di ricezione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2916        																	--	#DtDocRicevuto			Data di registrazione del documento ricevuto se unità doc. in entrata (ad esempio la data del Protocollo mittente)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2917        																	--	#AnnoDocRicevuto			Anno di registrazione del documento ricevuto se unità doc. in entrata (ad esempio l'anno del Protocollo mittente)
2918        																	--	#EstremiRegDocRicevuto		Estremi di registrazione del documento ricevuto se unità doc. in entrata (ad esempio anno e numero del Protocollo mittente)
2919        																	--	#RifDocRicevuto			Altri riferimenti del documento ricevuto se unità doc. in entrata
2920        																	--	#CodMezzoTrasm			Codice che indica il mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionario
2921        																	--	#DesMezzoTrasm			Descrizione del mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionaro
2922        																	--	#DtRaccomandata			Data di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è la data di raccomandata a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2923        																	--	#NroRaccomandata			Nro di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è il n.ro di raccomandata a tutti i destinatari per cui non sia diversamente specificato)
2924        																	--	#NroListaRaccomandata	Nro della lista di appartenenza della raccomandata (se la trasmissione è tramite raccomandata)
2925        																	--	#DtNotifica				Data di notifica (per unità doc. in uscita è la data di notifica a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2926        																	--	#NroNotifica			Nro di notifica (per unità doc. in uscita è il n.ro di notifica a tutti i destinatari per cui non sia diversamente specificato)
2927        																	--	#IndirizzoProv.CITopon	 	Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2928        																	--	#IndirizzoProv.DesIndirizzo 	Via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria
2929        																	--	#IndirizzoProv.Frazione 	Frazione dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria) 
2930        																	--	#IndirizzoProv.Zona			Zona dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2931        																	--	#IndirizzoProv.Complemento	Complemento (i.e. altri dati) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2932        																	--	#IndirizzoProv.Civico 		N.ro civico (senza eventuale esponente o altre appendici) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2933        																	--	#IndirizzoProv.AppendiciCivico 		Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2934        																	--	#IndirizzoProv.Interno 		Interno del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2935        																	--	#IndirizzoProv.Scala 		Scala del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2936        																	--	#IndirizzoProv.Piano 		Piano nel civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2937        																	--	#IndirizzoProv.CAP 		Codice Avviamento Postale dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2938        																	--	#IndirizzoProv.CodIstatCom 	Codice istat del comune (se italiano) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2939        																	--	#IndirizzoProv.NomeComCitta 	Nome del comune/città dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2940        																	--	#IndirizzoProv.CodIstatStato 	Codice istat dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2941        																	--	#IndirizzoProv.NomeStato 	Nome dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2942        																	--	#EmailProv.Id				Id. (PK in T_EMAIL_MGO) della mail in arrivo che ha dato luogo all'unità documentaria 
2943        																	--	#EmailProv.Indirizzo		Indirizzo e-mail di provenienza (se unità documentaria in entrata tramite posta elettronica) 
2944        																	--	#EmailProv.FlgCasellaIstituz	Indicatore che l'indirizzo e-mail di provenienza è una casella istituzionale di un'AOO. Valore fisso 1.
2945        																	--	#EmailProv.FlgDichIPA		Indicatore che l'indirizzo e-mail di provenienza è dichiarato all'Indice PA. Valore fisso 1.
2946        																	--	#EmailProv.FlgPEC			Indicatore che l'indirizzo e-mail di provenienza è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
2947        																	--	#EmailProv.GestorePEC		Estremi del gestore della casella e-mail di provenienza se è di Posta Elettronica Certificata.
2948        																	--	#IdUORicezione			Identificativo della UO che ha ricevuto l'unità documentaria in entrata
2949        																	--	#LivelliUORicezione		Nri livello della UO che ha ricevuto l'unità documentaria in entrata (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
2950        																	--	#DesUORicezione			Denominazione della UO che ha ricevuto l'unità documentaria in entrata (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2951        																	--	#IdUserRicezione			Identificativo (quello interno al sistema) dell'utente che ha ricevuto l'unità documentaria in entrata
2952        																	--	#CIEstUserRicezione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha ricevuto l'unità documentaria in entrata
2953        																	--	#DesUserRicezione			Descrizione dell'utente che ha ricevuto l'unità documentaria in entrata
2954        																	--	#FlgInteroperabilita		Se valorizzato (valore fisso 1) indica che l'unità documentaria è entrata o uscita tramite interoperabilità tra Protocolli Informatici
2955        																	--	#IdUserCtrlAmmissib		Identificativo (quello interno al sistema) dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
2956        																	--	#CIEstUserCtrlAmmissib		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
2957        																	--	#DesUserCtrlAmmissib		Descrizione dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
2958        																	--	#TsSpedizione			Data e ora di spedizione dell'unità documentaria se in uscita (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2959        																	--	#IdUserSpedizione			Identificativo (quello interno al sistema) dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
2960        																	--	#CIEstUserSpedizione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
2961        																	--	#DesUserSpedizione		Descrizione dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
2962        																	--	#IdUOSpedizione			Identificativo della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)
2963        																	--	#LivelliUOSpedizione		Nri livello della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
2964        																	--	#DesUOSpedizione			Denominazione della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2965        																	--	#NroAllegati			N.ro di allegati      																	
2966        																	--	#LivEvidenza                  Livello di evidenza assegnato all'unità documentaria (il massimo valore possibile è dato dal parametro di configurazione MAX_LIV_EVIDENZA)
2967        																	--	#FlgInteresseCessato		Se pari a 1 indica che è cessato l'interesse sull'unità documentaria, se 0 o NULL che l'interesse è attivo
2968        																	--	#CollocazioneFisica.IdTopografico	Id. del luogo - censito nel topografico - in cui è collocata l'unità documentaria
2969        																	--  #CollocazioneFisica.Descrizione		Descrizione libera della collocazione fisica dell'unità documentaria
2970        																	--	#FlgConservPerm			Se valorizzato (valore fisso 1) indica che l'unità documentaria deve essere conservata illimitatamente		
2971        																	--	#PeriodoConserv               Periodo minimo di conservazione (espresso in anni) dell'unità documentaria (se non specificato può essere ereditato da quelli definiti per la tipologia del doc. primario o la/le classificazione o il tipo del/dei fascicolo di appartenenza o il tipo del/i procedimenti di afferenza)
2972        																	--	#CodSupportoConserv		Codice del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
2973        																	--	#DesSupportoConserv		Descrizione del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
2974        																	--	#DtScarto                     Data di scarto archivistico (vale a dire esculsione dal processo di conservazione) dell'unità documentaria (nel formato dato dal parametro di conf. FMT_STD_DATA)
2975        																	--	#IdUserScarto           	Identificativo (quello interno al sistema) dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
2976        																	--	#CIEstUserScarto			Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato lo scarto archivistico dell'unità documentaria	
2977        																	--	#DesUserScarto			Descrizione dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
2978        																	--	#IdUserAutScarto           	Identificativo (quello interno al sistema) dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
2979        																	--	#CIEstUserAutScarto		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato lo scarto archivistico dell'unità documentaria	
2980        																	--	#DesUserAutScarto			Descrizione dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
2981        																	--	#CodStato				Codice dello stato dell'unità documentaria 
2982        																	--	#CodStatoDett			Codice dello stato di dettaglio dell'unità documentaria		
2983        																	--	#DesStato				Descrizione dello stato dell'unità documentaria
2984        																	--	#DesStatoDett			Descrizione dello stato di dettaglio dell'unità documentaria
2985        																	--	#NoteUD				Annotazioni dell'unità documentaria
2986        																	--	#ProvCIUD				Codice identificativo dell'unità documentaria in un eventuale sistema di provenienza
2987        																	--  #MotiviModificaDatiRegistrazione Motivo per cui si modificano i dati dell'unità documentaria - se registrata su registro ufficiale quali quelli di protocollo e repertorio - che figurano nel registro di protocollo/repertorio
2988        																	--	#CanaleInvioDest	Codice del canale di invio dell'unità documentaria al destinatario/cliente. Va sepcificato il codice come da dizionario di sistema
2989        																	--  #ProcessToStart.IdBPMProcessDef 	Id. del flusso BPM (comprensivo di versione) con il quale avviare un processo legato al folder aperto dall'unità documentaria
2990        																	--										se il folder ha già un processo associato la variabile viene ignorata
2991        																	--  #ProcessToStart.IdBPMProcessInst	Id. dell'istanza di processo BPM con la quale avviare un processo legato al folder aperto dall'unità documentaria
2992        																	--										se il folder ha già un processo associato la variabile viene ignorata
2993        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ud: qualsiasi attributo dinamico specificabile per un'unità documentaria (nel dominio di lavoro)									
2994        																	-- E gli attributi del documento sono:
2995        																	--	#IdUD					Id. dell'unità documentaria di appartenenza
2996        																	--	#CodCategoriaRegUD		Codice di una categoria di registrazione dell'unità documentaria di appartenenza 
2997        																	--	#SiglaRegUD				Sigla di registrazione/numerazione dell'unità documentaria di appartenenza
2998        																	--	#AnnoRegUD				Anno di registrazione/numerazione dell'unità documentaria di appartenenza
2999        																	--	#NroRegUD				N.ro di registrazione/numerazione dell'unità documentaria di appartenenza
3000        																	--	#CodNaturaRelVsUD			Codice della natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
3001        																	--						Si può variare solo se non è il documento primario dell'unità doc. a cui è già associato
3002        																	--	#DesNaturaRelVsUD			Natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
3003        																	--						Si può variare solo se non è il documento primario dell'unità doc. a cui è già associato
3004        																	--	#DettagliRelVsUD			Dettagli della relazione del documento con l'unità documentaria.
3005        																	--						Da specificare solo se l'unità documentaria è preesistente (e quindi il documento non è il primario)
3006        																	--	#IdDocType				Identificativo del tipo del documento
3007        																	--	#NomeDocType			Nome del tipo del documento
3008        																	--	#ProvCIDocType			Codice identificativo del tipo documento nel sistema di provenienza (PROV_CI_DOC_TYPE)
3009        																	--	#@MittentiEsterni			Lista con i dati dei mittenti esterni.
3010        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
3011        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3012        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
3013        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
3014        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
3015        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3016        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
3017        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza 
3018        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
3019        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
3020        																	--						5: Nome (se persona fisica)
3021        																	--						6: Codice fiscale
3022        																	--						7: Partita IVA
3023        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
3024        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
3025        																	--						10: Codice ISTAT del comune di nascita/istituzione
3026        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
3027        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
3028        																	--						13: Nome dello stato estero di nascita/istituzione
3029        																	--						14: Codice ISTAT dello stato di cittadinanza
3030        																	--						15: Nome dello stato di cittadinanza
3031        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
3032        																	--						17: Cod. rapido assegnatogli in rubrica
3033        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
3034        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
3035        																	--						26: Località dell'indirizzo fisico  
3036        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
3037        																	--						28: Interno del civico dell'indirizzo fisico 
3038        																	--						29: Scala del civico dell'indirizzo fisico 
3039        																	--						30: Piano nel civico dell'indirizzo fisico 
3040        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
3041        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
3042        																	--						33: Nome del comune/città dell'indirizzo fisico 
3043        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
3044        																	--						35: Nome dello stato estero dell'indirizzo fisico 
3045        																	--						43: N.ro che indica la posizione del mittente tra tutti i destinatari interni ed esterni del documento 
3046        																	--						44: Titolo di studio/professionale
3047        																	--						45: Zona dell'indirizzo fisico 
3048        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
3049        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
3050        																	--						48: non utilizzato
3051        																	--					    49: Tipo di toponimo dell'indirizzo fisico di invio al destinatario
3052        																	--						50: Indirizzo e-mail
3053        																	--						51: N.ro di telefono
3054        																	--						52: Userid del mittente
3055        																	--	#Append_#@MittentiEsterni	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
3056        																	--	#@DestinatariEsterni		Lista con i dati dei destinatari (in realtà possono essere esterni o interni)
3057        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
3058        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3059        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
3060        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
3061        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
3062        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3063        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
3064        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza
3065        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
3066        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
3067        																	--						5: Nome (se persona fisica)
3068        																	--						6: Codice fiscale
3069        																	--						7: Partita IVA
3070        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
3071        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
3072        																	--						10: Codice ISTAT del comune di nascita/istituzione
3073        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
3074        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
3075        																	--						13: Nome dello stato estero di nascita/istituzione
3076        																	--						14: Codice ISTAT dello stato di cittadinanza
3077        																	--						15: Nome dello stato di cittadinanza
3078        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
3079        																	--						17: Codice che indica il mezzo di trasmissione dell'unità documentaria al destinataro. Valori in dizionario
3080        																	--						18: Descrizione del mezzo di trasmissione dell'unità documentaria al destinatario. Valori in dizionaro
3081        																	--						19: Data e ora di spedizione/invio al destinatario (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
3082        																	--						20: Data di raccomandata (se la trasmissione è tramite raccomandata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
3083        																	--						21: Nro di raccomandata al destinatario (se la trasmissione è tramite raccomandata)
3084        																	--						22: Data di notifica al destinatario (nel formato dato dal parametro di conf. FMT_STD_DATA)
3085        																	--						23: Nro di notifica al destinatario
3086        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3087        																	--						25: Via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3088        																	--						26: Località dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
3089        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3090        																	--						28: Interno del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3091        																	--						29: Scala del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3092        																	--						30: Piano nel civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3093        																	--						31: Codice Avviamento Postale dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3094        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3095        																	--						33: Nome del comune/città dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3096        																	--						34: Codice istat dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3097        																	--						35: Nome dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3098        																	--						36: Indirizzo e-mail del destinatario (se invio tramite posta elettronica) 
3099        																	--						37: Indicatore che l'indirizzo e-mail del destinatario è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
3100        																	--						38: Estremi del gestore della casella e-mail del destinatario se è di Posta Elettronica Certificata.
3101        																	--						39: Indicatore di destinatario per conoscenza. Valore fisso 1. 
3102        																	--						40: Indicatore che l'indirizzo e-mail del destinatario è dichiarato all'Indice PA. Valore fisso 1.
3103        																	--						41: Indicatore che l'indirizzo e-mail del destinatario è una casella istituzionale di un'AOO. Valore fisso 1.
3104        																	--						42: Nro fax del destinatario (se invio tramite fax) 
3105        																	--						43: N.ro che indica la posizione del destinatario tra tutti i destinatari interni ed esterni del documento 
3106        																	--						44: Titolo di studio/professionale
3107        																	--						45: Zona dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
3108        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
3109        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3110        																	--						48: Cod. rapido assegnatogli in rubrica
3111        																	--					    49: Tipo di toponimo dell'indirizzo fisico di invio al destinatario
3112        																	--	#Append_#@DestinatariEsterni	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
3113        																	--	#@GruppiDestinatari	Lista con i gruppi/liste di distribuzione di destinatari
3114        																	--						ATTENZIONE: devono essere gruppi/liste di distribuzione censite nella rubrica del sistema
3115        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3116        																	--								tutti gli altri campi (colonne dalla 3 alla 15) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
3117        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
3118        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
3119        																	--						Ciscuna riga della lista è un gruppo/lista di distribuzione e può contenere le seguenti colonne:
3120        																	--						1: Identificativo (ID_GRUPPO) del gruppo/lista di distribuzione
3121        																	--						2: Nome del gruppo/lista di distribuzione
3122        																	--						3: Codice rapido del gruppo/lista di distribuzione
3123        																	--						4: Indicatore di destinatario per conoscenza (i.e. tutti i membri del gruppo sono destinatari x conoscenza). Valore fisso 1. 
3124        																	--	#@AltriSoggettiEsterni		Lista con i dati di altri soggetti esterni (firmatari, conraenti ecc) in relazione con il documento
3125        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
3126        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3127        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
3128        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
3129        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
3130        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3131        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
3132        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza 
3133        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
3134        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
3135        																	--						5: Nome (se persona fisica)
3136        																	--						6: Codice fiscale
3137        																	--						7: Partita IVA
3138        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
3139        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
3140        																	--						10: Codice ISTAT del comune di nascita/istituzione
3141        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
3142        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
3143        																	--						13: Nome dello stato estero di nascita/istituzione
3144        																	--						14: Codice ISTAT dello stato di cittadinanza
3145        																	--						15: Nome dello stato di cittadinanza
3146        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
3147        																	--						17: (obblig. se campo successivo non è valorizzato) Codice della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
3148        																	--						18: (obblig. se campo precedente non è valorizzato) Descrizione della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
3149        																	--						19: Dettagli sulla natura della relazione tra soggetto e documento
3150        																	--						20: Titolo di studio/professionale
3151        																	--						21: Cod. rapido assegnatogli in rubrica
3152        																	--						23: N° documento di riconoscimento
3153        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
3154        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
3155        																	--						26: Località dell'indirizzo fisico  
3156        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
3157        																	--						28: Interno del civico dell'indirizzo fisico 
3158        																	--						29: Scala del civico dell'indirizzo fisico 
3159        																	--						30: Piano nel civico dell'indirizzo fisico 
3160        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
3161        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
3162        																	--						33: Nome del comune/città dell'indirizzo fisico 
3163        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
3164        																	--						35: Nome dello stato estero dell'indirizzo fisico 
3165        																	--						45: Zona dell'indirizzo fisico 
3166        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
3167        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
3168        																	--						48: non utilizzato
3169        																	--					    49: Tipo di toponimo dell'indirizzo fisico 
3170        																	--						50: Indirizzo e-mail
3171        																	--						51: (valori 1/0) Se 1 indica se il soggetto (qualora esibente) è anche mittente
3172        																	--						52: Tipo di documento di riconoscimento
3173        																	--						53: N.ro di telefono
3174        																	--						54: (valori U/E) Indica se soggetto incaricato del ritiro documentazione per conto di: U = ufficio interno, E = richiedente esterno
3175        																	--	#Append_#@AltriSoggettiEsterni Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
3176        																	--	#DesOgg				Oggetto / descrizione del documento
3177        																	--	#ParoleChiave                 Parole chiave per cui è utile ricercare il documento 
3178        																	--	#CodSupportoOrig            	Codice del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
3179        																	--	#SupportoOriginale			Descrizione del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
3180        																	--	#FlgTipoCartaceo            	Indica se il documento cartaceo è: originale unico (OU), originale non unico (ONU), copia (C)
3181        																	--	#FlgDigitalizzazione         	Indica se il documento, originariamente cartaceo, è stato digitalizzato (2) o se ne è richiesta la digitalizzazione (1)
3182        																	--	#CISuCartaceo                 Codice (ad esempio un codice a barre) riportato sul documento cartaceo per identificarlo (da usarsi in fase di digitalizzazione per associare l'immagine al documento corretto)
3183        																	--	#NroPagineCartaceo          	N.ro di pagine del documento cartaceo
3184        																	--	#DtStesura  	            Data di redazione del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
3185        																	--	#LuogoStesura			Luogo di redazione del documento (descrittivo)
3186        																	--	#@Estensori                   Lista degli estensori (interni) del documento (sono utenti censiti nel sistema)
3187        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3188        																	--						1: Identificativo (quello interno al sistema) dell'utente estensore
3189        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente estensore
3190        																	--						3: Descrizione dell'utente estensore
3191        																	--						4: Username dell'utente estensore (quella interna)
3192        																	--	#Append_#@Estensori		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
3193        																	--	#@UffProduttori               Lista degli uffici che hanno prodotto il documento (UO censite nel sistema)
3194        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3195        																	--						1: Identificativo della UO
3196        																	--						2: Nri livello della UO (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3197        																	--						3: Denominazione della UO (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3198        																	--	#Append_#@UffProduttori		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
3199        																	--	#LivRiservatezza             	Livello di riservatezza del documento (n.ro intero da 0 ad un valore dato dal parametro di configurazione MAX_LIV_RISERVATEZZA)
3200        																	--	#DtTermineRiservatezza			Data in cui cessa di valere la riservatezza indicata il #LivRiservatezza (nel formato indicato nel parametro di config. FMT_STD_DATA)
3201        																	--	#FlgVisibInChiaroRistrettaA		Indica, qualora sia settato un livello di riservatezza, a chi è ristretta la visibilità di tutti i dati e file del documento:
3202        																	--									C  =	assegnatari per competenza (i.e. i soggetti ¿ UO, postazioni, utenti ¿ a cui il documento è stato assegnato per competenza e che non l'hanno a loro volta smistato o riassegnato a qualcun altro);
3203        																	--									CE =	coloro a cui il documento è stato assegnato per competenza (anche se successivamente l'hanno a loro volta smistato o riassegnato a qualcun altro);
3204        																	--									CC =	coloro a cui il documento è stato assegnato per competenza o conoscenza.
3205        																	--	#FlgDatiPersonali           	Se valorizzato (valore fisso 1) indica che il documento contiene dati personali
3206        																	--	#FlgDatiSensibili           	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibili
3207        																	--	#FlgDatiSensibilissimi      	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibilissimi
3208        																	--	#FlgDatiGiudiziari          	Se valorizzato (valore fisso 1) indica che il documento contiene dati giudiziari
3209        																	--	#FlgEsercDirPrivacy        	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato i diritti di cui al codice sulla privacy
3210        																	--	#FlgBloccoTrattamento       	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato il blocco del trattamento dei dati personali
3211        																	--	#DtTermineBloccoTratt         Termine (data) posto al blocco del trattamento dei dati personali di cui al campo precedente (nel formato dato dal parametro di conf. FMT_STD_DATA)
3212        																	--	#FlgLimitAccesso            	Indica se l'accesso al documento dall'esterno è precluso temporaneamente (1) o permanentemente (2)
3213        																	--	#DtTermineDiffAccesso      	Termine (data) fino a cui l'accesso al documento dall'esterno è differito (nel formato dato dal parametro di conf. FMT_STD_DATA)
3214        																	--	#IdUserTitolareTratt       	Identificativo (quello interno al sistema) dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3215        																	--	#CIEstUserTitolareTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3216        																	--	#DesUserTitolareTratt       	Descrizione dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3217        																	--	#IdUserRespTratt       		Identificativo (quello interno al sistema) dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3218        																	--	#CIEstUserRespTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3219        																	--	#DesUserRespTratt       	Descrizione dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3220        																	--	#@IncaricatiTrattamento       Lista degli incaricati del trattamento dei dati personali, sensibili ecc. contenuti nel documento. Devono essere utenti censiti nel sistema
3221        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3222        																	--						1: Identificativo (quello interno al sistema) dell'utente incaricato
3223        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente incaricato
3224        																	--						3: Descrizione dell'utente incaricato
3225        																	--	#Append_#@IncaricatiTrattamento Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
3226        																	--	#RestrizioniAccesso 	  	Restrizioni all'accesso al documento (parti da oscuare ecc.)
3227        																	--	#RestrizioniRiprod           	Restrizioni alla riproduzione del documento
3228        																	--	#FlgCartaceoEliminato       	Se valorizzato (valore fisso 1) indica che il cartaceo del documento è stato eliminato
3229        																	--	#DtElimCartaceo             	Data di eliminazione del cartaceo del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
3230        																	--	#IdUserElimCart            	Identificativo (quello interno al sistema) dell'utente che ha eliminato il cartaceo
3231        																	--	#CIEstUserElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha eliminato il cartaceo
3232        																	--	#DesUserElimCart       		Descrizione dell'utente che ha eliminato il cartaceo
3233        																	--	#IdUserAutElimCart        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato l'eliminazione del cartaceo
3234        																	--	#CIEstUserAutElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato l'eliminazione del cartaceo
3235        																	--	#DesUserAutElimCart       	Descrizione dell'utente che ha autorizzato l'eliminazione del cartaceo
3236        																	--	#ProvCIDoc                  	Codice identificativo del documento in un eventuale sistema di provenienza
3237        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Doc: qualsiasi attributo dinamico specificabile per il documento (nel dominio di lavoro)
3238        																	-- E quelli relativi alla versione elettronica:		
3239        																	--	#DisplayFilename_Ver 		Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
3240        																	--	#URI_Ver					Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
3241        																	--	#Impronta_Ver			Impronta (SHA1) del file corrispondente alla versione
3242        																	--	#Algoritmo_Impronta_Ver	Algoritmo con cui è stata calcolata l'impronta (SHA-1, SHA-256, MD5 ecc)
3243        																	--	#Encoding_Impronta_Ver	Encoding con cui è stata calcolata l'impronta: hex = esadecimale, base64 = in base 64
3244        																	--	#Dimensione_Ver			Dimensione in bytes della versione
3245        																	--	#FlgFirmata_Ver			(valori 1/0/NULL) Se 1 significa che la versione elettronica è firmata digitalmente, se 0 o NULL che non è firmata
3246        																	--	#Mimetype_Ver			Mimetype del file della versione (se è firmato con busta p7m, m7m o tsd è il formato del file "sbustato)
3247        																	--	#Cod_Ver				Codice identificativo della versione elettronica
3248        																	--	#NroProgrVerBckVerDi_Ver		N.ro progressivo dell'eventuale versione di cui è una back-version
3249        																	--	#Note_Ver	 			Note versione elettronica del documento
3250        																	--	#FlgPubblicata_Ver 		(valori 1/0/NULL) Se 1 indica che la versione è pubblicata 
3251        																	--	#IdFormatoEl_Ver 			Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
3252        																	--	#NomeFormatoEl_Ver			Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
3253        																	--	#FlgDaScansione_Ver 			(valori 1/0/NULL) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
3254        																	--	#DtScansione_Ver 			Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
3255        																	--	#IdUserScansione_Ver 			Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
3256        																	--	#CIEstUserScansione_Ver		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha scansionato l'immagine corrispondente alla versione
3257        																	--	#DesUserScansione_Ver 		Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
3258        																	--	#SpecificheScansione_Ver 		Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
3259        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ver: qualsiasi attributo dinamico specificabile su una versione											
3260        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
3261        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
3262        																	-- 1:	Identificativo del documento cui è relativa la versione
3263        																	-- 2:	N.ro progressivo della versione
3264        																	-- 3: URI della versione
3265        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
3266        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
3267        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
3268        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
3269        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
3270        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
3271        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
3272        
3273        	/************* Funzione attraverso cui creare un nuovo folder (anche una libreria) collocandolo in uno o più punti della repository documentale 	*******/
3274        	/************* Il folder può anche essere un fascicolo basato sul piano di classificazione. In tal caso viene collocato					*******/
3275        	/************* comunque (anche se non esplicitamente indicato) nel folder dell'anno di apertura e della classificazione, e se					*******/
3276        	/************* questi già non esistono nella repository vi vengono creati al momento											*******/
3277        	/************* Diversamente tutti gli altri folder in cui deve essere collocato devono essere già esistenti								*******/
3278        	function AddFolder(
3279        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
3280        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
3281        			AttributiXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi del folder (conforme allo schema SezioneCache.xsd)
3282        																	-- Gli attributi possono essere:
3283        																	--	#FlgFascTitolario			Valore 1/0. Se 1 indica che il folder è un fascicolo basato sul piano di classificazione
3284        																	-- 	#FlgSottoFascInserto	Indica se il fascicolo basato sul piano di clssificazione è un sotto-fascicolo o un inserto (i.e. parte di un sotto-fascicolo)
3285        																	--							Valori ammessi: S = Sottofascicolo, I = Inserto
3286        																	--	#IdFolderType			Identificativo del tipo di folder.
3287        																	--	#NomeFolderType			Nome del tipo di folder.
3288        																	--	#IdProcessFrom			Id. del processo/procedimento che ha dato luogo al folder
3289        																	--							Se non già associato il nuovo folder viene associato al procedimento e dal procedimento vengono ricavati nome, folder appartenenza, oggetto se non valorizzati nelle apposite variabili
3290        																	--	#NomeFolder				Nome del folder (quello con cui viene presentato e riconosciuto nella GUI). 
3291        																	--							Obblig. e gestito solo se non è un fascicolo che rappresenta una classifica (ovvero con folder type che è "classifica")
3292        																	--							Se la tipologia del folder prevede un template per il nome, il nome viene composto in automatico ignorando questo input
3293        																	--	#IdLibrary				Id. della libreria di appartenenza
3294        																	--	#NomeLibrary			Nome della libreria di appartenenza
3295        																	--	#TsApertura				Data e ora di apertura del folder (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
3296        																	--						Se non specificato si intende pari a data e ora correnti
3297        																	--	#IdClassificazione		Identificativo della classificazione del fascicolo
3298        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3299        																	--	#NriLivClassificazione		N.ri livello della classificazione (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore previsto per i livelli di classificazione nel dominio di lavoro) 
3300        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3301        																	--	#DesClassificazione		Descrizione della classificazione (può essere quella semplice o la concatenazione con separatore "|" delle descrizioni delle calssificazioni superiori + quella della classificazione)
3302        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3303        																	--	#AnnoAperturaFascApp	Anno di apertura del fascicolo di appartenenza (del sottofascicolo o inserto)
3304        																	--						Gestito solo per sottofascicoli e inserti di fascicoli basati sul piano di calssificazione
3305        																	--	#NroFasc			N.ro progressivo del fascicolo
3306        																	--						Obblig. e gestito solo per fascicoli basati sul piano di classificazione
3307        																	--	#NroSottofasc		N.ro di sotto-fascicolo
3308        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3309        																	--	#NroInserto			N.ro di inserto del sotto-fascicolo
3310        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3311        																	--	#NroSecondario			N.ro secondario/alternativo dato al fascicolo
3312        																	--	#PathToCreate		Percorso in cui va collocato il folder. Se il percorso non esite o esiste in parte viene creato quel che manca
3313        																	--	#@FolderAppartenenza		Lista dei folder, già esistenti, in cui si colloca (nel caso di fascicolo di titolario il fascicolo di appartenenza che rappresenta anno apertura + classificazione + eventuale fascicolo padre + eventuale sottofascicolo padre può non essere specificato) 
3314        																	--						Deve essere specificato almeno un record se il folder non è uno di quelli basati sul piano di classificazione.
3315        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3316        																	--						1: Identificativo del folder di appartenenza
3317        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder di appartenenza(i vari livelli del percorso vanno separati con / o \)
3318        																	--						3: Motivi per cui è collocato nel folder
3319        																	--						Se nessuno dei primi due campi è specificato si intende che il folder va collocato direttamente nella libreria di appartenenza
3320        																	--	#DesOgg				Descrizione dei contenuti / oggetto del folder
3321        																	--	#ParoleChiave                 Parole chiave per cui è utile ricercare il documento 
3322        																	--	#IdUserApertura			Identificativo dell'utente che ha aperto il folder (se diverso da quello di lavoro) 
3323        																	--	#CIEstUserApertura		Codice che identifica l'utente che ha aperto il folder nell'applicazione esterna da cui ci si connette (se diverso da quello di lavoro)
3324        																	--	#DesUserApertura		Denominazione dell'utente che ha aperto il folder (se diverso da quello di lavoro)
3325        																	--	#UsernameApertura		Username dell'utente che ha aperto il folder (se diverso da quello di lavoro)
3326        																	--	#IdUOApertura			Identificativo della UO che ha aperto il folder
3327        																	--	#DesUOApertura			Denominazione della UO che ha aperto il folder (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3328        																	--	#NriLivUOApertura		N.ri livello della UO che ha aperto il folder (tutti; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3329        																	--	#IdUOResponsabile		Identificativo della UO responsabile o della UO di appartenenza della scrivania responsabile
3330        																	--	#DesUOResponsabile		Denominazione della UO responsabile o della UO di appartenenza della scrivania responsabile (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3331        																	--	#NriLivUOResponsabile	N.ri livello della UO responsabile o della UO di appartenenza della scrivania responsabile (tutti; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3332        																	--	#IdScrivResponsabile	Id. della scrivania responsabile del folder
3333        																	--	#CIEstUserResponsabile	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che occupa la scrivania responsabile del folder
3334        																	--	#DesUserResponsabile	Denominazione dell'utente che occupa la scrivania responsabile del folder
3335        																	--	#UsernameResponsabile 	Username (credenziali locali) dell'utente che occupa la scrivania responsabile del folder
3336        																	--	#TsChiusura				Data e ora di chiusura del folder (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
3337        																	--	#IdUserChiusura			Identificativo dell'utente che ha chiuso il folder (se diverso da quello di lavoro) 
3338        																	--	#CIEstUserChiusura		Codice che identifica l'utente che ha chiuso il folder nell'applicazione esterna da cui ci si connette (se diverso da quello di lavoro)
3339        																	--	#DesUserChiusura		Denominazione dell'utente che ha chiuso il folder (se diverso da quello di lavoro)
3340        																	--	#UsernameChiusura		Username dell'utente che ha chiuso il folder (se diverso da quello di lavoro)
3341        																	--	#FlgArchivio			Indica il tipo di archivio a cui appartiene il folder: C = Corrente; D = di Deposito; S = Storico
3342        																	--	#DtVersDeposito               Data di versamento in archivio di deposito (nel formato dato dal parametro di conf. FMT_STD_DATA)
3343        																	--	#IdUserVersDeposito           Identificativo (quello interno al sistema) dell'utente che ha effettuato il versamento in archivio di deposito
3344        																	--	#CIEstUserVersDeposito		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato il versamento in archivio di deposito	
3345        																	--	#DesUserVersDeposito		Descrizione dell'utente che ha effettuato il versamento in archivio di deposito
3346        																	--	#IdUserAutVersDeposito        Identificativo (quello interno al sistema) dell'utente che ha autorizzato il versamento in archivio di deposito
3347        																	--	#CIEstUserAutVersDeposito	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato il versamento in archivio di deposito	
3348        																	--	#DesUserAutVersDeposito		Descrizione dell'utente che ha autorizzato il versamento in archivio di deposito
3349        																	--	#DtVersStorico			Data di versamento in archivio storico (nel formato dato dal parametro di conf. FMT_STD_DATA)
3350        																	--	#IdUserVersStorico           	Identificativo (quello interno al sistema) dell'utente che ha effettuato il versamento in archivio storico
3351        																	--	#CIEstUserVersStorico		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato il versamento in archivio storico	
3352        																	--	#DesUserVersStorico		Descrizione dell'utente che ha effettuato il versamento in archivio storico
3353        																	--	#IdUserAutVersStorico        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato il versamento in archivio storico
3354        																	--	#CIEstUserAutVersStorico	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato il versamento in archivio storico	
3355        																	--	#DesUserAutVersStorico		Descrizione dell'utente che ha autorizzato il versamento in archivio storico
3356        																	--	#@InCaricoA				Indica a chi (non destinatario) mettere in carico il folder
3357        																	--						Chi ha in carico può essere specificato/variato solo se il folder non è ancora inviato
3358        																	--						Chi ha in carico può essere solo l'utente di lavoro o una UO/scrivania cui è collegato da appartenenza o delega o per cui può lavorare
3359        																	--						E' una lista mono-riga; la riga può contenere le seguenti colonne:
3360        																	--						1: (obblig.) Indicatore del tipo di soggetto
3361        																	--							Valori possibili:
3362        																	-- 							UT 	= Utente
3363        																	--							SV	= Scrivania virtuale
3364        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3365        																	--						2: Identificativo del destinatario della copia
3366        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3367        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3368        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3369        																	--						3: Denominazione/nome del soggetto(se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3370        																	--						4: Identificativo della UO cui appartiene la scrivania che rappresenta il soggetto
3371        																	--						5: Nri livello della UO che rappresenta il soggetto o a cui appartiene la scrivania che rappresenta il soggetto (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3372        																	--						6: Denominazione della UO cui appartiene la scrivania che rappresenta il soggetto (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3373        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che rappresenta il soggetto o quello che occupa la scrivania che rappresenta il soggetto
3374        																	--						8: Denominazione dell'utente che occupa la scrivania che rappresenta il soggetto
3375        																	--						9: <Non utilizzata>
3376        																	--						10: <Non utilizzata>
3377        																	--						11: Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto
3378        																	--						12: Se colonna 1 =UT o SV: N.ro di matricola dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto  
3379        																	--						13: <Non utilizzata>
3380        																	--						14: <Non utilizzata>
3381        																	--						15: <Non utilizzata>
3382        																	--						16: <Non utilizzata>
3383        																	--						Se si vuole togliere chi ha in carico il folder basta settare a vuota la lista di questo attributo
3384        																	--	#@Assegnatari		Indica a chi - un soggetto interno - assegnare il folder
3385        																	-- 						E' una lista mono-riga; l'unico tag "Riga" contiene le seguenti colonne:
3386        																	--						1: (obblig.) Indicatore del tipo di assegnatario
3387        																	--							Valori possibili:
3388        																	-- 							UT 	= Utente
3389        																	--							SV	= Scrivania virtuale
3390        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3391        																	--						2: Identificativo dell'assegnatario
3392        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3393        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3394        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3395        																	--						3: Denominazione/nome dell'assegnatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3396        																	--						4: Identificativo della UO cui appartiene la scrivania assegnataria
3397        																	--						5: Nri livello della UO assegnataria o a cui appartiene la scrivania assegnataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3398        																	--						6: Denominazione della UO cui appartiene la scrivania assegnataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3399        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente assegnatario o quello che occupa la scrivania assegnataria
3400        																	--						8: Denominazione dell'utente che occupa la scrivania assegnataria
3401        																	--						9: <Non utilizzata>
3402        																	--						10: <Non utilizzata>
3403        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
3404        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente assegnatario o che occupa la scrivania assegnataria 
3405        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
3406        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente assegnatario o che occupa la scrivania assegnataria 
3407        																	--						13: <Non utilizzata>
3408        																	--						14: <Non utilizzata>
3409        																	--						15: <Non utilizzata>
3410        																	--						16: <Non utilizzata>
3411        																	--						17: <Non utilizzata>
3412        																	--						18: <Non utilizzata>
3413        																	--						19: Flag che indica la modalità di accesso da dare all'assegnatario sul folder (ovvero indica le opzioni di accesso che avrà l'assegnatario nell'ACL del folder dopo l'invio, salvo ne avesse già di più ampie)
3414        																	--						    Valori possibili: FC = Full control; M = Modifica metadati; MM = Modifica soli metadati; V = Sola visualizzazione
3415        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa in carico per il dato assegnatario 
3416        																	--						21: N.ro di giorni, a partire dalla decorrenza dell'assegnazione, trascorsi i quali senza che sia avvenuta la presa in carico, ci deve essere la notifica di mancata presa in carico da parte del dato assegnatario
3417        																	--  #CodMotivoAssegn	Cod. del motivo dell'assegnazione agli assegnatari (da dizionario)
3418        																	--	#MotivoAssegn		Motivo dell'assegnazione agli assegnatari (da dizionario)
3419        																	--	#@InvioDestCC		Indica a chi, soggetto interno, inviare per conoscenza il folder 
3420        																	-- 						Ogni destinatario di invio per conoscenza è un tag "Riga" con le seguenti colonne:
3421        																	--						1: (obblig.) Indicatore del tipo di destinastario
3422        																	--							Valori possibili:
3423        																	-- 							UT 	= Utente
3424        																	--							SV	= Scrivania virtuale
3425        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3426        																	--							G	= Gruppo
3427        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
3428        																	--							R@	= Soggetti interni che hanno un certo ruolo rispetto al documento / folder
3429        																	--						2: Identificativo del destinatario
3430        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3431        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
3432        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3433        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3434        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
3435        																	--							è un COD_NATURA_REL di DMT_REL_SOGG_INT_DOC/DMT_REL_SOGG_INT_FOLDER che indica il codice del ruolo rispetto al documento / folder se colonna 1 = R@. Può avere i valori particolari: #CON_ACCESSO (= tutti coloro che hanno accesso anche in sola visualizzazione) e #CON_ACCESSO_IN_MODIFICA (= tutti coloro che hanno accesso anche in modifica dei metadati e/o file)
3436        																	--						3: Denominazione/nome del destinatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|"). Se colonna 1 = R@ è la descrizione del ruolo rispetto al documento / folder
3437        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria
3438        																	--						5: Nri livello della UO destinataria o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3439        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3440        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario o quello che occupa la scrivania destinataria
3441        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria
3442        																	--						9: (valore 1) Indica che il destinatario, se UO, sono anche tutte le sue sotto-UO
3443        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario
3444        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
3445        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario o che occupa la scrivania destinataria 
3446        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
3447        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario o che occupa la scrivania destinataria 
3448        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario
3449        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3450        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3451        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
3452        																	--						17: Codice del ruolo del destinatario (valori codificati in apposita disctionary entry)
3453        																	--						18: Ruolo del destinatario (valori in apposita disctionary entry)
3454        																	--						19: Flag che indica la modalità di accesso da dare al destinatario sull'oggetto inviato (ovvero indica le opzioni di accesso che avrà il destinatario nell'ACL dell'oggetto dopo l'invio, salvo ne avesse già di più ampie)
3455        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
3456        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa visione per il dato destinatario (anche se non è stata richiesta per tutti i destinatari questa notifica)
3457        																	--						21: N.ro di giorni, a partire dalla decorrenza della notifica, trascorsi i quali senza che sia avvenuta la presa visione, ci deve essere la notifica di mancata presa visione da parte del dato destinatario (anche se tale notifica non è richiesta per tutti i destinatari)
3458        																	--	#@ACL					Lista con i permessi assentiti o negati sul folder
3459        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3460        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
3461        																	--							Valori possibili:
3462        																	--							SP	= Soggetto produttore  
3463        																	-- 							AOO	= AOO 
3464        																	-- 							UT 	= Utente
3465        																	--							SV	= Scrivania virtuale
3466        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3467        																	--							G	= Gruppo
3468        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
3469        																	--						2: Identificativo del destinatario del permesso
3470        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
3471        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3472        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
3473        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3474        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3475        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
3476        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3477        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
3478        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3479        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3480        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
3481        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
3482        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
3483        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
3484        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
3485        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
3486        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
3487        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
3488        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
3489        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3490        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3491        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
3492        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3493        																	--						18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3494        																	--						19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3495        																	--						20:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3496        																	--						21:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3497        																	--						22:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
3498        																	--						23:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3499        																	--						24:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3500        																	--	#FlgEreditaPermessi		Valori 1/0/NULL. Indica se il folder può ereditare i permessi da un folder di appartenenza
3501        																	--	#PathNomeFolderEreditaPerm	Percorso e nome del folder da cui deve ereditare i permessi
3502        																	--	#IdFolderEreditaPerm		Id. del folder da cui deve ereditare i permessi
3503        																	--	#FlgPropagaPermessi		Valori 1/0/NULL. Indica se il folder può propagare i permessi agli oggetti che contiene	
3504        																	--	#@SoggettiEsterni			Lista con i dati dei soggetti esterni in relazione con il folder
3505        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
3506        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3507        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul folder)
3508        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul folder vengono riportati come nel tag
3509        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al folder
3510        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3511        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
3512        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza
3513        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
3514        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
3515        																	--						5: Nome (se persona fisica)
3516        																	--						6: Codice fiscale
3517        																	--						7: Partita IVA
3518        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
3519        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
3520        																	--						10: Codice ISTAT del comune di nascita/istituzione
3521        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
3522        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
3523        																	--						13: Nome dello stato estero di nascita/istituzione
3524        																	--						14: Codice ISTAT dello stato di cittadinanza
3525        																	--						15: Nome dello stato di cittadinanza
3526        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
3527        																	--						17: (obblig. se campo successivo non è valorizzato) Codice della natura della relazione del soggetto con il folder. Valori da dizionario.
3528        																	--						18: (obblig. se campo precedente non è valorizzato) Descrizione della natura della relazione del soggetto con il folder. Valori da dizionario.
3529        																	--						19: Dettagli sulla natura della relazione tra soggetto e folder
3530        																	--						20: Titolo di studio/professionale
3531        																	--						21: Cod. rapido assegnatogli in rubrica
3532        																	--	#@RelazioniVsFolder		Lista delle relazioni - salvo quelle di appartenenza - con altri folder (relazioni di precedente-successivo ecc.)
3533        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3534        																	--						1: Identificativo del folder collegato
3535        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder collegato(i vari livelli del percorso vanno separati con / o \)
3536        																	--						3: Anno di apertura del folder collegato (se folder basato sul titolario)
3537        																	--						4: Livelli della classificazione del folder collegato (se folder basato sul titolario)
3538        																	--						5: N.ro progressivo di fascicolo del folder collegato (se folder basato sul titolario)
3539        																	--						   seguito da / e eventuale n.ro di sottofascicolo se trattasi di sottofascicolo
3540        																	--						   seguito da / e eventuale n.ro di inserto se trattasi di inserto
3541        																	--						6: Codice della categoria/natura generale della relazione tra i 2 folder (valori da dizionario)
3542        																	--						7: Descrizione della categoria/natura generale della relazione tra i 2 folder (valori da dizionario)
3543        																	--						8: Codice del ruolo che svolge nella relazione il folder da creare/aggiornare (valori da dizionario)
3544        																	--						9: Descrizione del ruolo che svolge nella relazione il folder da creare/aggiornare (valori da dizionario)
3545        																	--						10: Codice del ruolo che svolge nella relazione il folder collegato a quello da creare/aggiornare (valori da dizionario)
3546        																	--						11: Descrizione del ruolo che svolge nella relazione il folder collegato a quello da creare/aggiornare (valori da dizionario)
3547        																	--						12: Dettagli della relazione (campo descrittivo)
3548        																	--	#LivRiservatezza             	Livello di riservatezza del folder (n.ro intero da 0 ad un valore dato dal parametro di configurazione MAX_LIV_RISERVATEZZA)
3549        																	--	#DtTermineRiservatezza			Data in cui cessa di valere la riservatezza indicata il #LivRiservatezza (nel formato indicato nel parametro di config. FMT_STD_DATA)
3550        																	--	#FlgVisibInChiaroRistrettaA		Indica, qualora sia settato un livello di riservatezza, a chi è ristretta la visibilità di tutti i dati del folder:
3551        																	--									RC  =	soggetto responsabile del fascicolo e chi lo ha in carico (generalmente coincidono);
3552        																	--									RCE = 	soggetto responsabile del fascicolo e chi lo ha o lo ha avuto in carico
3553        																	--									RCC =	soggetto responsabile del fascicolo, chi lo ha o lo ha avuto in carico e coloro ai quali il fascicolo è stato inviato per conoscenza
3554        																	--	#LivEvidenza                  Livello di evidenza assegnato al folder (il massimo valore possibile è dato dal parametro di configurazione MAX_LIV_EVIDENZA)
3555        																	--	#FlgInteresseCessato		Se pari a 1 indica che è cessato l'interesse sul folder, se 0 o NULL che l'interesse è attivo
3556        																	--	#CollocazioneFisica.IdTopografico	Id. del luogo - censito nel topografico - in cui è collocato il folder/fascicolo
3557        																	--  #CollocazioneFisica.Descrizione		Descrizione libera della collocazione fisica del folder fascicolo
3558        																	--	#FlgSenzaProced			Se valorizzato (valore fisso 1) indica che si tratta di folder senza procedimento associato
3559        																	--	#FlgConservPerm			Se valorizzato (valore fisso 1) indica che il folder deve essere conservato illimitatamente		
3560        																	--	#PeriodoConserv               Periodo minimo di conservazione (espresso in anni) del folder (se non specificato può essere ereditato da quelli definiti per la tipologia del folder o la classificazione o il tipo del procedimento collegato)
3561        																	--	#CodSupportoConserv		Codice del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) del folder. Valori da dizionario
3562        																	--	#DesSupportoConserv		Descrizione del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) del folder. Valori da dizionario
3563        																	--	#FlgCartaceoEliminato       	Se valorizzato (valore fisso 1) indica che il cartaceo del folder è stato eliminato
3564        																	--	#DtElimCartaceo             	Data di eliminazione del cartaceo del del folder (nel formato dato dal parametro di conf. FMT_STD_DATA)
3565        																	--	#IdUserElimCart            	Identificativo (quello interno al sistema) dell'utente che ha eliminato il cartaceo
3566        																	--	#CIEstUserElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha eliminato il cartaceo
3567        																	--	#DesUserElimCart       		Descrizione dell'utente che ha eliminato il cartaceo
3568        																	--	#IdUserAutElimCart        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato l'eliminazione del cartaceo
3569        																	--	#CIEstUserAutElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato l'eliminazione del cartaceo
3570        																	--	#DesUserAutElimCart       	Descrizione dell'utente che ha autorizzato l'eliminazione del cartaceo
3571        																	--	#DtScarto                     Data di scarto archivistico (vale a dire esculsione dal processo di conservazione) del folder (nel formato dato dal parametro di conf. FMT_STD_DATA)
3572        																	--	#IdUserScarto           	Identificativo (quello interno al sistema) dell'utente che ha effettuato lo scarto archivistico del folder
3573        																	--	#CIEstUserScarto			Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato lo scarto archivistico del folder	
3574        																	--	#DesUserScarto			Descrizione dell'utente che ha effettuato lo scarto archivistico del folder
3575        																	--	#IdUserAutScarto           	Identificativo (quello interno al sistema) dell'utente che ha autorizzato lo scarto archivistico del folder
3576        																	--	#CIEstUserAutScarto		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato lo scarto archivistico del folder	
3577        																	--	#DesUserAutScarto			Descrizione dell'utente che ha autorizzato lo scarto archivistico del folder
3578        																	--	#Note					Annotazioni sul folder
3579        																	--	#CodStato				Codice dello stato del folder 
3580        																	--	#CodStatoDett			Codice dello stato di dettaglio del folder		
3581        																	--	#DesStato				Descrizione dello stato del folder
3582        																	--	#DesStatoDett			Descrizione dello stato di dettaglio del folder
3583        																	--	#ProvCIFolder			Codice che identifica il folder nel sistema di provenienza
3584        																	--	#OrderByValue			Valore da usare per l'ordinamento del folder
3585        																	--	#ContainerHandler			Tipo di contenitore (Hummingbird, ecc) in cui deve essere rappresentato il folder
3586        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui deve essere rappresentato il folder
3587        																	--	#IstruttoreProc.Tipo 	Tipo di chi va designato come "istruttore" del procedimento collegato al folder: ha valori LD (Lista di distribuzione/gruppo) e UT (singolo operatore censito a sistema)
3588        																	--  #IstruttoreProc.Id		Id. - ID_GRUPPO o ID_USER - di chi va designato come "istruttore" del procedimento collegato al folder
3589        
3590        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>: qualsiasi attributo dinamico specificabile per il folder											
3591        			IdFolderOut			OUT		DMT_FOLDER.ID_FOLDER%type,				-- Id. del folder creato												
3592        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
3593        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
3594        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
3595        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
3596        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
3597        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
3598        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
3599        
3600        	/************* Funzione attraverso cui aggiornare i dati (non il contenuto) di un folder (anche una libreria)	*******/
3601        	/************* Il folder può anche essere un fascicolo basato sul piano di classificazione				*******/
3602        	function UpdFolder(
3603        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
3604        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
3605        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Identificativo del folder da aggiornare
3606        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria di appartenenza del folder
3607        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- Nome della libreria di appartenenza del folder 
3608        			FolderPathIn		IN		VARCHAR2 DEFAULT NULL,					-- Un percorso + nome del folder da aggiornare (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
3609        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
3610        			AttributiXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi del folder (conforme allo schema SezioneCache.xsd)
3611        																	-- Per tutti gli attributi vale quanto segue:
3612        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti in DB:
3613        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente in DB per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo in DB va rimosso
3614        																	--			per gli attributi con valore lista i valori nell'XML si aggiungono o sostituiscono quelli già presenti in DB a seconda rispettivamente che nell'XML sia presente o meno un attributo #Append_<Nome attributo>; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti in DB vanno rimossi
3615        																	-- 		gli attributi presenti in DB per cui non c'è corrispondente nell'XML restano invariati
3616        																	-- Gli attributi possono essere:
3617        																	--	#IdFolderType			Identificativo del tipo di folder.
3618        																	--	#NomeFolderType			Nome del tipo di folder.
3619        																	--	#NomeFolder				Nome del folder (quello con cui viene presentato e riconosciuto nella GUI). 
3620        																	--							Obblig. e gestito solo se non è un fascicolo che rappresenta una classifica (ovvero con folder type che è "classifica")
3621        																	--							Se la tipologia del folder prevede un template per il nome, il nome viene composto in automatico ignorando questo input
3622        																	--	#IdLibrary				Id. della libreria di appartenenza
3623        																	--	#NomeLibrary			Nome della libreria di appartenenza
3624        																	--	#TsApertura				Data e ora di apertura del folder (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
3625        																	--						Se non specificato si intende pari a data e ora correnti
3626        																	--	#IdClassificazione		Identificativo della classificazione del fascicolo
3627        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3628        																	--	#NriLivClassificazione		N.ri livello della classificazione (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore previsto per i livelli di classificazione nel dominio di lavoro) 
3629        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3630        																	--	#DesClassificazione		Descrizione della classificazione (può essere quella semplice o la concatenazione con separatore "|" delle descrizioni delle calssificazioni superiori + quella della classificazione)
3631        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3632        																	--	#AnnoAperturaFascApp	Anno di apertura del fascicolo di appartenenza (del sottofascicolo o inserto)
3633        																	--						Gestito solo per sottofascicoli e inserti di fascicoli basati sul piano di calssificazione
3634        																	--	#NroFasc				N.ro progressivo del fascicolo
3635        																	--						Obblig. e gestito solo per fascicoli basati sul piano di classificazione
3636        																	--	#NroSottofasc			N.ro di sotto-fascicolo
3637        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3638        																	--	#NroInserto				N.ro di inserto del sotto-fascicolo
3639        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3640        																	--	#NroSecondario			N.ro secondario/alternativo dato al fascicolo
3641        																	--	#@FolderAppartenenza		Lista dei folder, già esistenti, in cui si colloca (nel caso di fascicolo di titolario il fascicolo di appartenenza che rappresenta anno apertura + classificazione + eventuale fascicolo padre + eventuale sottofascicolo padre può non essere specificato) 
3642        																	--						Deve essere specificato almeno un record se il folder non è uno di quelli basati sul piano di classificazione.
3643        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3644        																	--						1: Identificativo del folder di appartenenza
3645        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder di appartenenza(i vari livelli del percorso vanno separati con / o \)
3646        																	--						3: Motivi per cui è collocato nel folder
3647        																	--						Se nessuno dei primi due campi è specificato si intende che il folder va collocato direttamente nella libreria di appartenenza
3648        																	--	#Append_#@FolderAppartenenza	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
3649        																	--	#DesOgg				Descrizione dei contenuti / oggetto del folder
3650        																	--	#ParoleChiave                 Parole chiave per cui è utile ricercare il documento 
3651        																	--	#IdUserApertura			Identificativo dell'utente che ha aperto il folder (se diverso da quello di lavoro) 
3652        																	--	#CIEstUserApertura		Codice che identifica l'utente che ha aperto il folder nell'applicazione esterna da cui ci si connette (se diverso da quello di lavoro)
3653        																	--	#DesUserApertura		Denominazione dell'utente che ha aperto il folder (se diverso da quello di lavoro)
3654        																	--	#UsernameApertura		Username dell'utente che ha aperto il folder (se diverso da quello di lavoro)
3655        																	--	#IdUOApertura			Identificativo della UO che ha aperto il folder
3656        																	--	#DesUOApertura			Denominazione della UO che ha aperto il folder (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3657        																	--	#NriLivUOApertura		N.ri livello della UO che ha aperto il folder (tutti; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3658        																	--	#IdUOResponsabile		Identificativo della UO responsabile o della UO di appartenenza della scrivania responsabile
3659        																	--	#DesUOResponsabile		Denominazione della UO responsabile o della UO di appartenenza della scrivania responsabile (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3660        																	--	#NriLivUOResponsabile	N.ri livello della UO responsabile o della UO di appartenenza della scrivania responsabile (tutti; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3661        																	--	#IdScrivResponsabile	Id. della scrivania responsabile del folder
3662        																	--	#CIEstUserResponsabile	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che occupa la scrivania responsabile del folder
3663        																	--	#DesUserResponsabile	Denominazione dell'utente che occupa la scrivania responsabile del folder
3664        																	--	#UsernameResponsabile 	Username (credenziali locali) dell'utente che occupa la scrivania responsabile del folder
3665        																	--	#TsChiusura				Data e ora di chiusura del folder (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
3666        																	--	#IdUserChiusura			Identificativo dell'utente che ha chiuso il folder (se diverso da quello di lavoro) 
3667        																	--	#CIEstUserChiusura		Codice che identifica l'utente che ha chiuso il folder nell'applicazione esterna da cui ci si connette (se diverso da quello di lavoro)
3668        																	--	#DesUserChiusura		Denominazione dell'utente che ha chiuso il folder (se diverso da quello di lavoro)
3669        																	--	#UsernameChiusura		Username dell'utente che ha chiuso il folder (se diverso da quello di lavoro)
3670        																	--	#FlgArchivio			Indica il tipo di archivio a cui appartiene il folder: C = Corrente; D = di Deposito; S = Storico
3671        																	--	#DtVersDeposito               Data di versamento in archivio di deposito (nel formato dato dal parametro di conf. FMT_STD_DATA)
3672        																	--	#IdUserVersDeposito           Identificativo (quello interno al sistema) dell'utente che ha effettuato il versamento in archivio di deposito
3673        																	--	#CIEstUserVersDeposito		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato il versamento in archivio di deposito	
3674        																	--	#DesUserVersDeposito		Descrizione dell'utente che ha effettuato il versamento in archivio di deposito
3675        																	--	#IdUserAutVersDeposito        Identificativo (quello interno al sistema) dell'utente che ha autorizzato il versamento in archivio di deposito
3676        																	--	#CIEstUserAutVersDeposito	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato il versamento in archivio di deposito	
3677        																	--	#DesUserAutVersDeposito		Descrizione dell'utente che ha autorizzato il versamento in archivio di deposito
3678        																	--	#DtVersStorico			Data di versamento in archivio storico (nel formato dato dal parametro di conf. FMT_STD_DATA)
3679        																	--	#IdUserVersStorico           	Identificativo (quello interno al sistema) dell'utente che ha effettuato il versamento in archivio storico
3680        																	--	#CIEstUserVersStorico		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato il versamento in archivio storico	
3681        																	--	#DesUserVersStorico		Descrizione dell'utente che ha effettuato il versamento in archivio storico
3682        																	--	#IdUserAutVersStorico        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato il versamento in archivio storico
3683        																	--	#CIEstUserAutVersStorico	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato il versamento in archivio storico	
3684        																	--	#DesUserAutVersStorico		Descrizione dell'utente che ha autorizzato il versamento in archivio storico
3685        																	--	#@InCaricoA				Indica a chi (non destinatario) mettere in carico il folder
3686        																	--						Chi ha in carico può essere specificato/variato solo se il folder non è ancora inviato
3687        																	--						Chi ha in carico può essere solo l'utente di lavoro o una UO/scrivania cui è collegato da appartenenza o delega o per cui può lavorare
3688        																	--						E' una lista mono-riga; la riga può contenere le seguenti colonne:
3689        																	--						1: (obblig.) Indicatore del tipo di soggetto
3690        																	--							Valori possibili:
3691        																	-- 							UT 	= Utente
3692        																	--							SV	= Scrivania virtuale
3693        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3694        																	--						2: Identificativo del destinatario della copia
3695        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3696        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3697        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3698        																	--						3: Denominazione/nome del soggetto(se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3699        																	--						4: Identificativo della UO cui appartiene la scrivania che rappresenta il soggetto
3700        																	--						5: Nri livello della UO che rappresenta il soggetto o a cui appartiene la scrivania che rappresenta il soggetto (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3701        																	--						6: Denominazione della UO cui appartiene la scrivania che rappresenta il soggetto (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3702        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che rappresenta il soggetto o quello che occupa la scrivania che rappresenta il soggetto
3703        																	--						8: Denominazione dell'utente che occupa la scrivania che rappresenta il soggetto
3704        																	--						9: <Non utilizzata>
3705        																	--						10: <Non utilizzata>
3706        																	--						11: Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto
3707        																	--						12: Se colonna 1 =UT o SV: N.ro di matricola dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto  
3708        																	--						13: <Non utilizzata>
3709        																	--						14: <Non utilizzata>
3710        																	--						15: <Non utilizzata>
3711        																	--						16: <Non utilizzata>
3712        																	--						Se si vuole togliere chi ha in carico il folder basta settare a vuota la lista di questo attributo
3713        																	--	#@Assegnatari		Indica a chi - un soggetto interno - assegnare il folder
3714        																	--						Si può specificare solo se il folder non è assegnato o se è assegnato all'utenza di lavoro o a una UO/scrivania per cui tale utenza può lavorare
3715        																	-- 						E' una lista mono-riga; l'unico tag "Riga" contiene le seguenti colonne:
3716        																	--						1: (obblig.) Indicatore del tipo di assegnatario
3717        																	--							Valori possibili:
3718        																	-- 							UT 	= Utente
3719        																	--							SV	= Scrivania virtuale
3720        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3721        																	--						2: Identificativo dell'assegnatario
3722        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3723        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3724        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3725        																	--						3: Denominazione/nome dell'assegnatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3726        																	--						4: Identificativo della UO cui appartiene la scrivania assegnataria
3727        																	--						5: Nri livello della UO assegnataria o a cui appartiene la scrivania assegnataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3728        																	--						6: Denominazione della UO cui appartiene la scrivania assegnataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3729        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente assegnatario o quello che occupa la scrivania assegnataria
3730        																	--						8: Denominazione dell'utente che occupa la scrivania assegnataria
3731        																	--						9: <Non utilizzata>
3732        																	--						10: <Non utilizzata>
3733        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
3734        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente assegnatario o che occupa la scrivania assegnataria 
3735        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
3736        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente assegnatario o che occupa la scrivania assegnataria 
3737        																	--						13: <Non utilizzata>
3738        																	--						14: <Non utilizzata>
3739        																	--						15: <Non utilizzata>
3740        																	--						16: <Non utilizzata>
3741        																	--						17: <Non utilizzata>
3742        																	--						18: <Non utilizzata>
3743        																	--						19: Flag che indica la modalità di accesso da dare all'assegnatario sul folder (ovvero indica le opzioni di accesso che avrà l'assegnatario nell'ACL del folder dopo l'invio, salvo ne avesse già di più ampie)
3744        																	--						    Valori possibili: FC = Full control; M = Modifica metadati; MM = Modifica soli metadati; V = Sola visualizzazione
3745        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa in carico per il dato assegnatario 
3746        																	--						21: N.ro di giorni, a partire dalla decorrenza dell'assegnazione, trascorsi i quali senza che sia avvenuta la presa in carico, ci deve essere la notifica di mancata presa in carico da parte del dato assegnatario
3747        																	--  #CodMotivoAssegn	Cod. del motivo dell'assegnazione agli assegnatari (da dizionario)
3748        																	--	#MotivoAssegn		Motivo dell'assegnazione agli assegnatari (da dizionario)
3749        																	--	#@InvioDestCC		Indica a chi, soggetto interno, inviare per conoscenza il folder 
3750        																	-- 						Ogni destinatario di invio per conoscenza è un tag "Riga" con le seguenti colonne:
3751        																	--						1: (obblig.) Indicatore del tipo di destinastario
3752        																	--							Valori possibili:
3753        																	-- 							UT 	= Utente
3754        																	--							SV	= Scrivania virtuale
3755        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3756        																	--							G	= Gruppo
3757        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
3758        																	--							R@	= Soggetti interni che hanno un certo ruolo rispetto al documento / folder
3759        																	--						2: Identificativo del destinatario
3760        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3761        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
3762        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3763        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3764        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
3765        																	--							è un COD_NATURA_REL di DMT_REL_SOGG_INT_DOC/DMT_REL_SOGG_INT_FOLDER che indica il codice del ruolo rispetto al documento / folder se colonna 1 = R@. Può avere i valori particolari: #CON_ACCESSO (= tutti coloro che hanno accesso anche in sola visualizzazione) e #CON_ACCESSO_IN_MODIFICA (= tutti coloro che hanno accesso anche in modifica dei metadati e/o file)
3766        																	--						3: Denominazione/nome del destinatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|"). Se colonna 1 = R@ è la descrizione del ruolo rispetto al documento / folder
3767        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria
3768        																	--						5: Nri livello della UO destinataria o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3769        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3770        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario o quello che occupa la scrivania destinataria
3771        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria
3772        																	--						9: (valore 1) Indica che il destinatario, se UO, sono anche tutte le sue sotto-UO
3773        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario
3774        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
3775        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario o che occupa la scrivania destinataria 
3776        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
3777        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario o che occupa la scrivania destinataria 
3778        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario
3779        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3780        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3781        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
3782        																	--						17: Codice del ruolo del destinatario (valori codificati in apposita disctionary entry)
3783        																	--						18: Ruolo del destinatario (valori in apposita disctionary entry)
3784        																	--						19: Flag che indica la modalità di accesso da dare al destinatario sull'oggetto inviato (ovvero indica le opzioni di accesso che avrà il destinatario nell'ACL dell'oggetto dopo l'invio, salvo ne avesse già di più ampie)
3785        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
3786        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa visione per il dato destinatario (anche se non è stata richiesta per tutti i destinatari questa notifica)
3787        																	--						21: N.ro di giorni, a partire dalla decorrenza della notifica, trascorsi i quali senza che sia avvenuta la presa visione, ci deve essere la notifica di mancata presa visione da parte del dato destinatario (anche se tale notifica non è richiesta per tutti i destinatari)
3788        																	--	#@ACL					Lista con i permessi assentiti o negati sul folder
3789        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3790        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
3791        																	--							Valori possibili:
3792        																	--							SP	= Soggetto produttore  
3793        																	-- 							AOO	= AOO 
3794        																	-- 							UT 	= Utente
3795        																	--							SV	= Scrivania virtuale
3796        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3797        																	--							G	= Gruppo
3798        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
3799        																	--						2: Identificativo del destinatario del permesso
3800        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
3801        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3802        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
3803        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3804        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3805        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
3806        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3807        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
3808        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3809        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3810        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
3811        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
3812        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
3813        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
3814        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
3815        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
3816        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
3817        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
3818        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
3819        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3820        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3821        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
3822        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3823        																	--						18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3824        																	--						19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3825        																	--						20:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3826        																	--						21:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3827        																	--						22:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
3828        																	--						23:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3829        																	--						24:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3830        																	--	#Append_#@ACL			Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
3831        																	--	#FlgEreditaPermessi		Valori 1/0/NULL. Indica se il folder può ereditare i permessi da un folder di appartenenza
3832        																	--	#PathNomeFolderEreditaPerm	Percorso e nome del folder da cui deve ereditare i permessi
3833        																	--	#IdFolderEreditaPerm		Id. del folder da cui deve ereditare i permessi
3834        																	--	#FlgPropagaPermessi		Valori 1/0/NULL. Indica se il folder può propagare i permessi agli oggetti che contiene	
3835        																	--	#@SoggettiEsterni			Lista con i dati dei soggetti esterni in relazione con il folder
3836        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
3837        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3838        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul folder)
3839        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul folder vengono riportati come nel tag
3840        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al folder
3841        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3842        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
3843        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza 
3844        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
3845        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
3846        																	--						5: Nome (se persona fisica)
3847        																	--						6: Codice fiscale
3848        																	--						7: Partita IVA
3849        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
3850        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
3851        																	--						10: Codice ISTAT del comune di nascita/istituzione
3852        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
3853        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
3854        																	--						13: Nome dello stato estero di nascita/istituzione
3855        																	--						14: Codice ISTAT dello stato di cittadinanza
3856        																	--						15: Nome dello stato di cittadinanza
3857        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
3858        																	--						17: (obblig. se campo successivo non è valorizzato) Codice della natura della relazione del soggetto con il folder. Valori da dizionario.
3859        																	--						18: (obblig. se campo precedente non è valorizzato) Descrizione della natura della relazione del soggetto con il folder. Valori da dizionario.
3860        																	--						19: Dettagli sulla natura della relazione tra soggetto e folder
3861        																	--						20: Titolo di studio/professionale
3862        																	--						21: Cod. rapido assegnatogli in rubrica
3863        																	--	#Append_#@SoggettiEsterni 	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
3864        																	--	#@RelazioniVsFolder		Lista delle relazioni - salvo quelle di appartenenza - con altri folder (relazioni di precedente-successivo ecc.)
3865        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3866        																	--						1: Identificativo del folder collegato
3867        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder collegato(i vari livelli del percorso vanno separati con / o \)
3868        																	--						3: Anno di apertura del folder collegato (se folder basato sul titolario)
3869        																	--						4: Livelli della classificazione del folder collegato (se folder basato sul titolario)
3870        																	--						5: N.ro progressivo di fascicolo del folder collegato (se folder basato sul titolario)
3871        																	--						   seguito da / e eventuale n.ro di sottofascicolo se trattasi di sottofascicolo
3872        																	--						   seguito da / e eventuale n.ro di inserto se trattasi di inserto
3873        																	--						6: Codice della categoria/natura generale della relazione tra i 2 folder (valori da dizionario)
3874        																	--						7: Descrizione della categoria/natura generale della relazione tra i 2 folder (valori da dizionario)
3875        																	--						8: Codice del ruolo che svolge nella relazione il folder da creare/aggiornare (valori da dizionario)
3876        																	--						9: Descrizione del ruolo che svolge nella relazione il folder da creare/aggiornare (valori da dizionario)
3877        																	--						10: Codice del ruolo che svolge nella relazione il folder collegato a quello da creare/aggiornare (valori da dizionario)
3878        																	--						11: Descrizione del ruolo che svolge nella relazione il folder collegato a quello da creare/aggiornare (valori da dizionario)
3879        																	--						12: Dettagli della relazione (campo descrittivo)
3880        																	--	#Append_#@RelazioniVsFolder	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
3881        																	--	#LivRiservatezza             	Livello di riservatezza del folder (n.ro intero da 0 ad un valore dato dal parametro di configurazione MAX_LIV_RISERVATEZZA)
3882        																	--	#DtTermineRiservatezza			Data in cui cessa di valere la riservatezza indicata il #LivRiservatezza (nel formato indicato nel parametro di config. FMT_STD_DATA)
3883        																	--	#FlgVisibInChiaroRistrettaA		Indica, qualora sia settato un livello di riservatezza, a chi è ristretta la visibilità di tutti i dati del folder:
3884        																	--									RC  =	soggetto responsabile del fascicolo e chi lo ha in carico (generalmente coincidono);
3885        																	--									RCE = 	soggetto responsabile del fascicolo e chi lo ha o lo ha avuto in carico
3886        																	--									RCC =	soggetto responsabile del fascicolo, chi lo ha o lo ha avuto in carico e coloro ai quali il fascicolo è stato inviato per conoscenza
3887        																	--	#PropagaRiservatezzaContenuti	(valori 1/0/NULL) Se 1 significa che la riservatezza va applicata a tutti i dcontenuti - UD e sub-folder - del folder
3888        																	--	#LivEvidenza                  Livello di evidenza assegnato al folder (il massimo valore possibile è dato dal parametro di configurazione MAX_LIV_EVIDENZA)
3889        																	--	#FlgInteresseCessato		Se pari a 1 indica che è cessato l'interesse sul folder, se 0 o NULL che l'interesse è attivo
3890        																	--	#CollocazioneFisica.IdTopografico	Id. del luogo - censito nel topografico - in cui è collocato il folder/fascicolo
3891        																	--  #CollocazioneFisica.Descrizione		Descrizione libera della collocazione fisica del folder fascicolo
3892        																	--	#FlgSenzaProced			Se valorizzato (valore fisso 1) indica che si tratta di folder senza procedimento associato
3893        																	--	#FlgConservPerm			Se valorizzato (valore fisso 1) indica che il folder deve essere conservato illimitatamente		
3894        																	--	#PeriodoConserv               Periodo minimo di conservazione (espresso in anni) del folder (se non specificato può essere ereditato da quelli definiti per la tipologia del folder o la classificazione o il tipo del procedimento collegato)
3895        																	--	#CodSupportoConserv		Codice del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) del folder. Valori da dizionario
3896        																	--	#DesSupportoConserv		Descrizione del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) del folder. Valori da dizionario
3897        																	--	#FlgCartaceoEliminato       	Se valorizzato (valore fisso 1) indica che il cartaceo del folder è stato eliminato
3898        																	--	#DtElimCartaceo             	Data di eliminazione del cartaceo del del folder (nel formato dato dal parametro di conf. FMT_STD_DATA)
3899        																	--	#IdUserElimCart            	Identificativo (quello interno al sistema) dell'utente che ha eliminato il cartaceo
3900        																	--	#CIEstUserElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha eliminato il cartaceo
3901        																	--	#DesUserElimCart       		Descrizione dell'utente che ha eliminato il cartaceo
3902        																	--	#IdUserAutElimCart        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato l'eliminazione del cartaceo
3903        																	--	#CIEstUserAutElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato l'eliminazione del cartaceo
3904        																	--	#DesUserAutElimCart       	Descrizione dell'utente che ha autorizzato l'eliminazione del cartaceo
3905        																	--	#DtScarto                     Data di scarto archivistico (vale a dire esculsione dal processo di conservazione) del folder (nel formato dato dal parametro di conf. FMT_STD_DATA)
3906        																	--	#IdUserScarto           	Identificativo (quello interno al sistema) dell'utente che ha effettuato lo scarto archivistico del folder
3907        																	--	#CIEstUserScarto			Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato lo scarto archivistico del folder	
3908        																	--	#DesUserScarto			Descrizione dell'utente che ha effettuato lo scarto archivistico del folder
3909        																	--	#IdUserAutScarto           	Identificativo (quello interno al sistema) dell'utente che ha autorizzato lo scarto archivistico del folder
3910        																	--	#CIEstUserAutScarto		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato lo scarto archivistico del folder	
3911        																	--	#DesUserAutScarto			Descrizione dell'utente che ha autorizzato lo scarto archivistico del folder
3912        																	--	#Note					Annotazioni sul folder
3913        																	--	#CodStato				Codice dello stato del folder 
3914        																	--	#CodStatoDett			Codice dello stato di dettaglio del folder		
3915        																	--	#DesStato				Descrizione dello stato del folder
3916        																	--	#DesStatoDett			Descrizione dello stato di dettaglio del folder
3917        																	--	#ProvCIFolder			Codice che identifica il folder nel sistema di provenienza
3918        																	--	#OrderByValue			Valore da usare per l'ordinamento del folder
3919        																	--	#ContainerHandler			Tipo di contenitore (Hummingbird, ecc) in cui deve essere rappresentato il folder
3920        																	--						Se non viene specificato e se viene specificata un'URI (#URI) questo attributo viene settato pari al tipo di contenitore ricavato dall'URI
3921        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui deve essere rappresentato il folder
3922        																	--						Se non viene specificato e se viene specificata un'URI (#URI) questo attributo viene settato pari all'alias di contenitore ricavato dall'URI
3923        																	--	#URI					Riferimento univoco per individuare il folder nell'eventuale container in cui è rappresentato (contiene tipo e alias del contenitore in cui è rappresentato più un id. univoco all'interno del contenitore stesso)
3924        																	--	#IstruttoreProc.Tipo 	Tipo di chi va designato come "istruttore" del procedimento collegato al folder: ha valori LD (Lista di distribuzione/gruppo) e UT (singolo operatore censito a sistema)
3925        																	--  #IstruttoreProc.Id		Id. - ID_GRUPPO o ID_USER - di chi va designato come "istruttore" del procedimento collegato al folder																	
3926        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>: qualsiasi attributo dinamico specificabile per il folder											
3927        			URIxAggContainerOut	OUT		VARCHAR2,							-- URI del folder sul container.
3928        																	-- ATTENZIONE: è valorizzato solo se l'update determina la necessità di aggiornare il folder sul container
3929        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
3930        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
3931        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
3932        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
3933        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
3934        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
3935        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
3936        
3937        	/************* Funzione attraverso cui creare un nuovo workspace nella repository *******/
3938        	function AddWorkspace(
3939        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
3940        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
3941        			AttributiXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi del workspace (conforme allo schema SezioneCache.xsd)
3942        																	-- Gli attributi possono essere:
3943        																	--	#NomeWorkspace			(obblig.) Nome del workspace (quello con cui viene presentato e riconosciuto nella GUI). 
3944        																	--	#DesWorkspace			Desscrizione/dettagli sul workspace
3945        																	--	#@ACL					Lista con i permessi assentiti o negati sul workspace
3946        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3947        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
3948        																	--							Valori possibili:
3949        																	--							SP	= Soggetto produttore  
3950        																	-- 							AOO	= AOO 
3951        																	-- 							UT 	= Utente
3952        																	--							SV	= Scrivania virtuale
3953        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3954        																	--							G	= Gruppo
3955        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
3956        																	--						2: Identificativo del destinatario del permesso
3957        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
3958        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3959        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
3960        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3961        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3962        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
3963        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3964        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
3965        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3966        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3967        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
3968        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
3969        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
3970        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
3971        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
3972        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
3973        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
3974        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
3975        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
3976        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3977        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3978        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
3979        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3980        																	--						18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3981        																	--						19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3982        																	--						20:(valori 1/0/NULL) Indica se l'eliminazione del workspace è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3983        																	--						21:(valori 1/0/NULL) Indica se il ripristino del workspace eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
3984        																	--						22:(valori 1/0/NULL) Indica se la modifica del contenuto è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3985        																	--	#FlgPropagaPermessi		Valori 1/0/NULL. Indica se il workspace può propagare i permessi agli oggetti che contiene	
3986        																	--	#Note					Annotazioni sul workspace
3987        																	--	#ProvCIWorkspace			Codice che identifica il workspace nel sistema di provenienza
3988        																	--	#ContainerHandler			Tipo di contenitore (Hummingbird, ecc) in cui deve essere rappresentato il workspace
3989        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui deve essere rappresentato il workspace
3990        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>: qualsiasi attributo dinamico specificabile per un workspace											
3991        			IdWorkspaceOut		OUT		DMT_WORKSPACES.ID_WORKSPACE%type,			-- Id. del workspace creato												
3992        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
3993        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
3994        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
3995        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
3996        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
3997        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
3998        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
3999        
4000        	/************* Funzione attraverso cui modificare i dati (non il contenuto) di un workspace nella repository *******/
4001        	function UpdWorkspace(
4002        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4003        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4004        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type DEFAULT NULL,	-- Id. del workspace da aggiornare
4005        			NomeWorkspaceIn		IN		DMT_WORKSPACES.NOME_WORKSPACE%type DEFAULT NULL,-- Attuale nome del workspace 												
4006        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4007        			AttributiXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi del workspace (conforme allo schema SezioneCache.xsd)
4008        																	-- Per tutti gli attributi vale quanto segue:
4009        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti in DB:
4010        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente in DB per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo in DB va rimosso
4011        																	--			per gli attributi con valore lista i valori nell'XML si aggiungono o sostituiscono quelli già presenti in DB a seconda rispettivamente che nell'XML sia presente o meno un attributo #Append_<Nome attributo>; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti in DB vanno rimossi
4012        																	-- 		gli attributi presenti in DB per cui non c'è corrispondente nell'XML restano invariati
4013        																	-- Gli attributi possono essere:
4014        																	--	#NomeWorkspace			(obblig.) Nome del workspace (quello con cui viene presentato e riconosciuto nella GUI). 
4015        																	--	#DesWorkspace			Desscrizione/dettagli sul workspace
4016        																	--	#@ACL					Lista con i permessi assentiti o negati sul workspace
4017        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
4018        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
4019        																	--							Valori possibili:
4020        																	--							SP	= Soggetto produttore  
4021        																	-- 							AOO	= AOO 
4022        																	-- 							UT 	= Utente
4023        																	--							SV	= Scrivania virtuale
4024        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
4025        																	--							G	= Gruppo
4026        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
4027        																	--						2: Identificativo del destinatario del permesso
4028        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
4029        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
4030        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
4031        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
4032        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
4033        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
4034        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
4035        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
4036        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
4037        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
4038        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
4039        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
4040        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
4041        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
4042        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
4043        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
4044        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
4045        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
4046        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
4047        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
4048        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
4049        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
4050        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4051        																	--						18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4052        																	--						19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4053        																	--						20:(valori 1/0/NULL) Indica se l'eliminazione del workspace è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4054        																	--						21:(valori 1/0/NULL) Indica se il ripristino del workspace eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
4055        																	--						22:(valori 1/0/NULL) Indica se la modifica del contenuto è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4056        																	--	#Append_#@ACL			Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
4057        																	--	#FlgPropagaPermessi		Valori 1/0/NULL. Indica se il workspace può propagare i permessi agli oggetti che contiene	
4058        																	--	#Note					Annotazioni sul workspace
4059        																	--	#ProvCIWorkspace			Codice che identifica il workspace nel sistema di provenienza
4060        																	--	#ContainerHandler			Tipo di contenitore (Hummingbird, ecc) in cui deve essere rappresentato il workspace
4061        																	--						Se non viene specificato e se viene specificata un'URI (#URI) questo attributo viene settato pari al tipo di contenitore ricavato dall'URI
4062        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui deve essere rappresentato il workspace
4063        																	--						Se non viene specificato e se viene specificata un'URI (#URI) questo attributo viene settato pari all'alias di contenitore ricavato dall'URI
4064        																	--	#URI					Riferimento univoco per individuare il workspace nell'eventuale container in cui è rappresentato (contiene tipo e alias del contenitore in cui è rappresentato più un id. univoco all'interno del contenitore stesso)
4065        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>: qualsiasi attributo dinamico specificabile per un workspace											
4066        			URIxAggContainerOut	OUT		VARCHAR2,							-- URI del workspace sul container.
4067        																	-- ATTENZIONE: è valorizzato solo se l'update determina la necessità di aggiornare il workspace sul container
4068        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4069        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4070        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4071        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4072        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4073        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4074        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4075        
4076        	/******** funzione per effettuare la cancellazione fisica o logica di un'unità documentaria o un documento o una sua versione 			******/
4077        	function Del_UD_Doc_Ver(
4078        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4079        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4080        			FlgTipoTargetIn		IN		VARCHAR2,							-- (obblig., valori U/D/V) Indica cosa si intende cancellare/annullare. Valori ammessi:
4081        																	-- U	= Unità documentaria
4082        																	-- D	= Documento
4083        																	-- V	= Versione elettronica di documento
4084        			IdUDDocIn			IN		INTEGER,							-- (obblig.) Identificativo dell'unità documentaria (se FlgTipoTargetIn=U) o del documento (se FlgTipoTargetIn=D o V) 
4085        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione da cancellare/annullare (considerato e gestito solo se FlgTipoTargetIn=V) 
4086        																			-- Se -1 vengono annullate tutte le versioni ancora valide
4087        																	-- ATTENZIONE: se in input è NULL significa che si vuole cancellare/annullare l'ultima versione valida e visibile all'utente di lavoro
4088        																	-- In output, in caso di successo, restituisce il n.ro della versione da cancellare/annullare
4089        			FlgCancFisicaIn		IN 		PLS_INTEGER,						-- (valori 1/0/NULL): Se 1 si richiede la cancellazione fisica; se 0 o NULL l'annullamento logico 
4090        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche coinvolte dall'operazione (xml conforme a schema LISTA_STD.xsd)
4091        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
4092        																	-- 1:	Identificativo del documento cui è relativa la versione
4093        																	-- 2:	N.ro progressivo della versione
4094        																	-- 3: URI della versione
4095        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4096        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4097        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4098        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4099        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4100        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4101        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4102        
4103        	/******** funzione per effettuare il ripristino di un'unità documentaria o un documento o una sua versione logicamente annullati	********/
4104        	function Recover_UD_Doc_Ver(
4105        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4106        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4107        			FlgTipoTargetIn		IN		VARCHAR2,							-- (obblig., valori U/D/V) Indica cosa si intende ripristinare. Valori ammessi:
4108        																	-- U	= Unità documentaria
4109        																	-- D	= Documento
4110        																	-- V	= Versione elettronica di documento
4111        			IdUDDocIn			IN		INTEGER,							-- (obblig.) Identificativo dell'unità documentaria (se FlgTipoTargetIn=U) o del documento (se FlgTipoTargetIn=D o V) 
4112        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione da ripristinare (considerato e gestito solo se FlgTipoTargetIn=V) 
4113        																	-- ATTENZIONE: se in input è NULL significa che si vuole ripristinare l'ultima versione annullata che sia visibile all'utente di lavoro
4114        																	-- In output, in caso di successo, restituisce il n.ro della versione ripristinata
4115        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche coinvolte dall'operazione (xml conforme a schema LISTA_STD.xsd)
4116        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
4117        																	-- 1:	Identificativo del documento cui è relativa la versione
4118        																	-- 2:	N.ro progressivo della versione
4119        																	-- 3: URI della versione
4120        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4121        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4122        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4123        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4124        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4125        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4126        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4127        
4128        	/******** Funzione per cancellare fisicamente o annullare logicamente un folder (anche una libreria) 					******/
4129        	/******** La cancellazione fisica è consentita solo se il folder è vuoto, quella logica solo se non contiene oggetti validi	******/ 
4130        	function DelFolder(
4131        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4132        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4133        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Identificativo del folder da cancellare
4134        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria di appartenenza del folder
4135        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- Nome della libreria di appartenenza del folder 
4136        			FolderPathIn		IN		VARCHAR2 DEFAULT NULL,					-- Un percorso + nome del folder  (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
4137        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4138        			FlgCancFisicaIn		IN 		PLS_INTEGER,						-- (valori 1/0/NULL): Se 1 si richiede la cancellazione fisica; se 0 o NULL l'annullamento logico 
4139        			URIOut			OUT		VARCHAR2,							-- URI per individuare il folder nel container in cui si trova
4140        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4141        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4142        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4143        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4144        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4145        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4146        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4147        
4148        	/******** Funzione per ripristinare un folder (anche una libreria) logicamente annullato 	********/
4149        	function RecoverFolder(
4150        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4151        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4152        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Identificativo del folder da ripristinare
4153        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria di appartenenza del folder
4154        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- Nome della libreria di appartenenza del folder 
4155        			FolderPathIn		IN		VARCHAR2 DEFAULT NULL,					-- Un percorso + nome del folder  (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
4156        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4157        			URIOut			OUT		VARCHAR2,							-- URI per individuare il folder nel container in cui si trova
4158        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4159        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4160        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4161        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4162        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4163        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4164        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4165        
4166        	/******** Funzione per cancellare fisicamente o annullare logicamente un workspace 				 					******/
4167        	/******** La cancellazione fisica è consentita solo se il workspace è vuoto, quella logica solo se non contiene oggetti validi	******/ 
4168        	function DelWorkspace(
4169        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4170        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4171        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type DEFAULT NULL,	-- Identificativo del workspace da cancellare
4172        			NomeWorkspaceIn		IN		DMT_WORKSPACES.NOME_WORKSPACE%type DEFAULT NULL, -- Nome del workspace 
4173        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4174        			FlgCancFisicaIn		IN 		PLS_INTEGER,						-- (valori 1/0/NULL): Se 1 si richiede la cancellazione fisica; se 0 o NULL l'annullamento logico 
4175        			URIOut			OUT		VARCHAR2,							-- URI per individuare il workspace nel container in cui si trova
4176        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4177        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4178        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4179        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4180        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4181        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4182        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4183        
4184        	/******** Funzione per ripristinare un workspace logicamente annullato	******/
4185        	function RecoverWorkspace(
4186        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4187        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4188        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type DEFAULT NULL,	-- Identificativo del workspace da ripristinare
4189        			NomeWorkspaceIn		IN		DMT_WORKSPACES.NOME_WORKSPACE%type DEFAULT NULL,-- Nome del workspace 
4190        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4191        			URIOut			OUT		VARCHAR2,							-- URI per individuare il workspace nel container in cui si trova
4192        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4193        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4194        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4195        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4196        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4197        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4198        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4199        
4200        	/*****************funzione per togliere da un folder o workspace un dato folder o unità documentaria che già vi si trova **************/
4201        	function TogliDa(
4202        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4203        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4204        			FlgTpObjInnerIn		IN		VARCHAR2,							-- (obblig. salvo se FlgTpObjOuterIn=W nel qual caso si intende pari a U) Indica il tipo di oggetto che si vuole togliere dal contenitore folder/workspace indicato
4205        																	-- Valori ammessi: 
4206        																	--	F	=	Folder 
4207        																	-- 	U	=	Unità documentaria 
4208        			IdObjInnerIn		IN		INTEGER,							-- Identificativo (ID_UD o ID_FOLDER) dell'oggetto che si vuole togliere dal contenitore folder/workspace indicato
4209        			NomeObjInnerIn		IN		VARCHAR2,							-- Nome del folder o unità doc. da togliere dal contenitore folder/workspace indicato
4210        			FlgTpObjOuterIn		IN		VARCHAR2,							-- (obblig.) Indica il tipo di oggetto da cui si vuole togliere il folder/unità doc. IdObjInnerIn
4211        																	-- Valori ammessi: 
4212        																	--	F	=	Folder 
4213        																	-- 	W	=	Workspace
4214        			IdObjOuterIn		IN		INTEGER,							-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'oggetto da cui si vuole togliere il folder/unità doc. IdObjInnerIn
4215        			PathNomeObjOuterIn	IN		VARCHAR2,							-- Se FlgTpObjOuterIn=F: Percorso + nome del folder da cui togliere (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
4216        																	-- Se FlgTpObjOuterIn=W: nome del workspace da cui togliere 
4217        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4218        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- (obblig. se NomeLibraryIn non è valorizzato e FlgTpObjOuterIn='F' e IdObjOuterIn è NULL) Id. della libreria di appartenenza del folder da cui rimuovere
4219        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- (obblig. se IdLibraryIn non è valorizzato e e FlgTpObjOuterIn='F' e IdObjOuterIn è NULL) Nome della libreria di appartenenza del folder da cui rimuovere 
4220        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive 
4221        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche di documento (se FlgTpObjInnerIn=U) o del folder (se FlgTpObjInnerIn=F) il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
4222        																	-- Ogni versione/folder è un tag Riga che contiene le seguenti colonne: 
4223        																	-- 1:	Identificativo del documento cui è relativa la versione o del folder 
4224        																	-- 2:	N.ro progressivo della versione
4225        																	-- 3: URI della versione/folder
4226        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4227        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4228        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4229        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4230        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4231        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4232        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4233        
4234        	/*****************funzione per spostare da un folder o workspace vs un'altro folder o workspace un dato folder o unità documentaria **************/
4235        	function Move(
4236        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4237        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4238        			FlgTpObjInnerIn		IN		VARCHAR2 DEFAULT NULL,					-- (obblig. salvo se FlgTpObjFromIn=W o FlgTpObjToIn=W nel qual caso si intende pari a U) Indica il tipo di oggetto che si vuole spostare dal contenitore folder/workspace indicato
4239        																	-- Valori ammessi: 
4240        																	--	F	=	Folder 
4241        																	-- 	U	=	Unità documentaria 
4242        			IdObjInnerIn		IN		INTEGER DEFAULT NULL,					-- Identificativo (ID_UD o ID_FOLDER) dell'oggetto che si vuole spostare dal contenitore folder/workspace indicato
4243        			NomeObjInnerIn		IN		VARCHAR2 DEFAULT NULL,					-- Nome del folder o unità doc. da spostare dal contenitore folder/workspace indicato
4244        			FlgTpObjFromIn		IN		VARCHAR2 DEFAULT NULL,					-- (obblig.se FlgTpObjInnerIn='U') Indica il tipo di oggetto da cui si vuole spostare il folder/unità doc. IdObjInnerIn
4245        																	-- Valori ammessi: 
4246        																	--	F	=	Folder 
4247        																	-- 	W	=	Workspace
4248        			IdObjFromIn			IN		INTEGER DEFAULT NULL,					-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'oggetto da cui si vuole spostare il folder/unità doc. IdObjInnerIn
4249        			PathNomeObjFromIn		IN		VARCHAR2 DEFAULT NULL,					-- Se FlgTpObjFromIn=F o NULL: Percorso + nome del folder da cui si vuole spostare (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
4250        																	-- Se FlgTpObjFromIn=W: nome del workspace da cui si vuole spostare
4251        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4252        			FlgTpObjToIn		IN		VARCHAR2 DEFAULT NULL,					-- (obblig.se FlgTpObjInnerIn='U') Indica il tipo di oggetto in cui si vuole spostare il folder/unità doc. IdObjInnerIn
4253        																	-- Valori ammessi: 
4254        																	--	F	=	Folder 
4255        																	-- 	W	=	Workspace
4256        			IdObjToIn			IN		INTEGER DEFAULT NULL,					-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'oggetto in cui si vuole spostare il folder/unità doc. IdObjInnerIn
4257        			PathNomeObjToIn		IN		VARCHAR2 DEFAULT NULL,					-- Se FlgTpObjToIn=F o NULL: Percorso + nome del folder in cui si vuole spostare (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
4258        																	-- Se FlgTpObjToIn=W: nome del workspace in cui si vuole spostare
4259        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4260        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria in cui si trova o verrà a trovarsi a seguito della move l'oggetto da spostare 
4261        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- Nome della libreria in cui si trova o verrà a trovarsi a seguito della move l'oggetto da spostare  
4262        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive 
4263        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche di documento (se FlgTpObjInnerIn=U) o del folder (se FlgTpObjInnerIn=F) il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
4264        																	-- Ogni versione/folder è un tag Riga che contiene le seguenti colonne: 
4265        																	-- 1:	Identificativo del documento cui è relativa la versione o del folder 
4266        																	-- 2:	N.ro progressivo della versione
4267        																	-- 3: URI della versione/folder
4268        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4269        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4270        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4271        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4272        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4273        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4274        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4275        
4276        	/******** restituisce il n.ro di folderizzazioni e/o workspace di collocazione di un'unità documentaria *******/
4277        	function ContaContenitoriUD(
4278        			IdUDIn			IN		DMT_UNITA_DOC.ID_UD%type,				-- (obbig.) Id. dell'unità doc. di cui contare le folderizzazioni
4279        			FlgTipoContenitoreIn	IN		VARCHAR2 DEFAULT NULL					-- (valori F/W) Tipo di contenitori da conteggiare:
4280        																	-- F = Solo folder
4281        																	-- W = Solo workspace
4282        																	-- NULL = Tutti
4283        			) return PLS_INTEGER;											-- N.ro di folderizzazioni e/o workspace di collocazione dell'unità doc. (NULL in caso di unità doc. inesistente)
4284        
4285        	/******** restituisce il n.ro di folderizzazioni di un folder *******/
4286        	function ContaContenitoriFolder(
4287        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type				-- (obbig.) Id. del folder di cui contare le folderizzazioni
4288        			) return PLS_INTEGER;											-- N.ro di folderizzazioni (ovvero folder di appartenenza) (NULL in caso di folder inesistente)
4289        
4290        
4291        	/******* funzione per contare quanti folder e/o documenti con un nome dato ci sono in un dato folder 								******/
4292        	/******* ATTENZIONE: il match con il nome è case insensitive e ignora i caratteri quali spazi, . ecc (ovvero usa la DMFN_PREPARE_DENOM_X_MATCH) ******/
4293        	function ContaOggOmonimiInFolder(
4294        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Id. del folder in cui fare il conteggio
4295        			NomeOggettiIn		IN		VARCHAR2,							--(obblig.) Nome degli oggetti "omonimi" da conteggiare
4296        			FlgTipoOggettoIn		IN		VARCHAR2 DEFAULT NULL					-- (valori F/U) Tipo di oggetti da conteggiare:
4297        																	-- F = Solo folder
4298        																	-- U = Solo unità documentarie
4299        																	-- NULL = Tutti
4300        			) return PLS_INTEGER;											-- N.ro di omonimi conteggiati. Solo in caso di errore restituisce NULL
4301        
4302        	/******* funzione per ricercare unità documentarie e/o folder dell'intera repository 					  ******/
4303        	/******* serve anche a ricercare tra i "Preferiti", gli "Inviati" e gli "Eliminati" dell'area di lavoro dell'utente ******/
4304        	function TrovaRepositoryObj(
4305        			CodIdConnectionTokenIn		IN	    	DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%TYPE,
4306        																	-- (obblig). Codice identificativo del token di connessione
4307        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4308        			FlgPreimpostaFiltroIn		IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1 i filtri e l'ordinamento vengono settati secondo le impostazioni dell'utente di lavoro, altrimenti restano come passati in input
4309        			MatchByIndexerIn			IN		CLOB DEFAULT NULL,				-- Lista delle unità documentarie e folder trovati dal searcher di Lucene (XML conforme a schema LISTA_STD.xsd)
4310        																	-- Ogni oggetto di Lucene trovato è un tag Riga che contiene le seguenti colonne: 
4311        																	-- 1: identificativo dell¿oggetto
4312        																	-- 2: identificativo ID_UD dell¿unità documentaria di appartenenza dell¿oggetto (se questo è un documento o una versione elettronica)
4313        																	-- 3: flag 1/0 che indica se il match dell'oggetto richiede attributi "protetti", ovvero che possono contenere dati riservati
4314        																	-- 4: score restituito da Lucene
4315        			FlgIndexerOverflowIn		IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 significa che il searcher di Lucene ha trovato un numero di oggetti superiore ad un limite massimo consentito.
4316        																	-- Nel caso il flag valga 1 l¿argomento precedente può essere vuoto o se non lo è il suo contenuto viene comunque ignorato
4317        			Flg2ndCallIn			IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 indica che si tratta della seconda chiamata alla stored che viene fatta a seguito di una ricerca sottomessa. 
4318        																	-- Può essere 1 solo se MatchByIndexerIn contiene degli oggetti.
4319        																	-- E' un flag che serve per velocizzare la ricerca: infatti quando è 1 i filtri vengono ignorati in quanto si considera che il set restituito dall'indicizzatore sia già fatto di oggetti soddisfacenti tutti i filtri; la chiamata alla stored serve solo per verificare l'accesso agli oggetti restituiti dall'indicizzatore, ordinare ed eventualmente paginare il risultato e calcolare tutti i dati degli oggetti da restituire.
4320        			FlgFmtEstremiRegIO		IN OUT	VARCHAR2,						-- Formato con cui mostrare gli estremi di registrazione/numerazione dei documenti trovati:
4321        																	-- Valori possibili:
4322        																	-- <CATEGORIA> = Descrizione della categoria di registrazione/numerazione
4323        																	-- <SIGLA> = Sigla di registrazione/numerazione
4324        																	-- <ANNO> = Anno di registrazione/numerazione
4325        																	-- <NRO> = N.ro di registrazione/numerazione
4326        																	-- <DATA> = Data di registrazione (nel formato dato dal parametro di config. FMT_STD_DATA del sogg. prod. /AOO di appartenenza dell'unità documentaria)
4327        																	-- <ORA> = Orario di registrazione (nel formato HH24:MI)
4328        																	-- Può anche essere una concatenazione dei valori precedenti (tutto ciò che è fuori dalle angle brackets si intende stringa fissa di separazione)
4329        																	-- ad es: <NRO>/<ANNO>; <SIGLA>/<ANNO>/<NRO> del <DATA>
4330        			FlgUDFolderIO			IN OUT	VARCHAR2,						-- 1° filtro di ricerca (valori F/U/NULL): indica se la ricerca va ristretta ai soli documenti (U) o alle sole cartelle (F)
4331        			CercaInFolderIO			IN OUT	DMT_FOLDER.ID_FOLDER%type,			-- 2° filtro di ricerca: id. del folder in cui effettuare la ricerca. Se non specificato si cerca in tutta la repository
4332        																	--	Può avere i valori "particolari":
4333        																	--		-9		si intende la ricerca nelle News dell'utente di lavoro (solo ciò che è nelle News in quanto inviato/notificato, non ciò che ricade in cartelle inviate/notificate)
4334        																	--		-99		si intende la ricerca nella area Work dell'utente di lavoro (solo ciò che è nella Work in quanto in carico all'utente o UO/scrivanie cui è collegato e in stato di "da completare", non ciò che ricade in cartelle che sono in carico all'utente o UO/scrivanie cui è collegato e in stato di "da completare")
4335        																	--		-999: 	si intende la ricerca nei preferiiti dell'utente di lavoro (solo i preferiti veri e propri, non ciò che ricade in cartelle che sono nei preferiti)
4336        																	--		-9999:	si intende la ricerca negli inviati dell'utente di lavoro (solo gli inviati veri e propri, non ciò che ricade in cartelle che sono negli inviati)
4337        																	--		-99991:	si intende la ricerca negli inviati per conoscenza/condivizione (i.e. notificati) dell'utente di lavoro (solo gli inviati per conoscenza/condivizione veri e propri, non ciò che ricade in cartelle che sono negli inviati)
4338        																	--		-99999:	si intende la ricerca negli eliminati dell'utente di lavoro (solo gli eliminati veri e propri, non ciò che ricade in cartelle che sono negli eliminati)
4339        																	--		-99992: si intende la ricerca nei documenti che sono stampe ed export richiesti dall'utente di lavoro
4340        																	--		-99993: si intende la ricerca nei documenti con "Assegnazioni da confermare"
4341        																	--		-99994: si intende la ricerca nei documenti/fascicoli che non sono nè assegnati, nè inviati per conoscenza nè inviati via mail
4342        			FlgCercaInSubFolderIO		IN OUT	PLS_INTEGER,					-- 3° filtro di ricerca (valori 1/0/NULL): 1 indica che la ricerca va estesa ai sub-folder del folder CercaInFolderIO 
4343        																	-- ATTENZIONE: non può essere 1 se CercaInFolderIO ha uno dei valori "particolari" (ovvero se si cerca nei preferiti, inviati o eliminati dell'utente) 
4344        																	--		   Se CercaInFolderIO non è valorizzato (ricerca in tutta la repository) solo se il flag è 0 si intende che non si debba ricercare nelle sotto-cartelle e si mostrano solo le libtrerie e i preferiti
4345        			CriteriAvanzatiIO			IN OUT	NOCOPY CLOB,		-- XML contenente nomi e valori dei filtri su unità documentarie e folder (conforme allo schema SezioneCache.xsd). 
4346        																	-- Ogni filtro è un tag "Variabile" dell'XML
4347        																	-- I filtri che sono liste hanno nomi (tag Variabile/Nome) che iniziano con @.
4348        																	-- I nomi dei filtri possibili sono:
4349        																	--	RestringiSottofascInserti		Serve a restringere la ricerca solo ai fascicoli (se =F) o solo ai sottofascicoli (se =S) o solo agli inserti (=I). Consente anche combinazioni dei valori previsti, separati da ; (ad es: F;S = fascicoli e sotto-fascicoli)
4350        																	--	RestringiNews				(utilizzabile solo quando si cerca nelle NEWS) Serve a restringere la ricerca a: I = documenti e fascicoli inviati per competenza o per inviarli a chi di competenza (i.e. invio, NON notifica); N = documenti e fascicoli con notifiche (i.e. invii per conoscenza/condivisione, osservazioni e notifiche automatiche)
4351        																	--  EscludiUOSVSubordinati		(valori 1/0) Se 1 quando si cerca nelle NEWS non vengono considerati doc. e fasc. assegnati/inviati/notificati a UO e scrivanie non direttamente collegate ma solo subordinate gerarchicamente
4352        																	--	IdAltroFolderApp			Id. di un altro folder, oltre quello specificato eventualmente in CercaInFolderIO, a cui devono appartenere i folder e/o documenti da ricercare
4353        																	--	PathAltroFolderApp		Path e nome di un altro folder, oltre quello specificato eventualmente in CercaInFolderIO, a cui devono appartenere i folder e/o documenti da ricercare
4354        																	--	FlgAppDirettaAltroFolder	(valore fisso 1; gestito solo se IdAltroFolderApp e/o PathAltroFolderApp sono valorizzati) Indica se si devono ricercare anche i documenti e/o folder che ricadono in sub-folder del folder specificato in IdAltroFolderApp e/o PathAltroFolderApp
4355        																	-- 	InteresseCessato			(valori R/I) se I(=Includi) si cercano anche i documenti e folder su cui è cessato l'interesse, se R=(Restringi) si cercano solo documnenti e folder su cui è cessato l'interesse, se non è valorizzato si cercano solo documenti e folder su cui è attivo l'interesse (FLG_INTERESSE_ATTIVO = 1)
4356        																	--	NonSoloInArchivioCorrente	(valori 1/0) Se 1 si cercano anche i documenti e folder che NON sono in archivio corrente (bensì in deppsito o storico)
4357        																	--	InclOggASoggCollegConDelega  (gestito solo se si sta cercando in "News" o "Work" dell'utente, ovvero se CercaInFolderIO=-9 o -99) Se 1 si estraggono anche documenti e folder assegnati/notificati a UO/scrivanie vs cui si ha delega, altrimenti solo quelli assegnati/notificati a UO/scrivanie di appartenenza o per cui si lavora
4358        																	--	OggettoUD				Filtro su oggetto del doc. primario (ricerca di tipo contains)
4359        																	--	NoteUD					Filtro su note dell'unità documentaria o del folder(ricerca di tipo contains)
4360        																	-- 	MittenteUD				Filtro sulla denominazione del mittente dei documenti da trovare (ricerca di tipo contains, salvo diversamente indicato in OperMittenteUD)
4361        																	--  OperMittenteUD			(considerato solo se filtro precedente valorizzato) Indica l'operatore di ricerca sul filtro precedente (se diverso da contiene); valori: inizia, uguale, finisce, contiene, like
4362        																	--	IdMittenteUDInRubrica	Filtro sull'ID del mittente dei documenti da trovare in rubrica soggetti
4363        																	--	DestinatarioUD			Filtro sulla denominazione del destinatario dei documenti da trovare (ricerca di tipo contains, salvo diversamente indicato in OperDestinatarioUD)
4364        																	--  OperDestinatarioUD		(considerato solo se filtro precedente valorizzato) Indica l'operatore di ricerca sul filtro precedente (se diverso da contiene); valori: inizia, uguale, finisce, contiene, like
4365        																	--	IdDestinatarioUDInRubrica	Filtro sull'ID del destinatario dei documenti da trovare in rubrica soggetti
4366        																	--	ClienteUD				Filtro sulla denominazione del cliente cui sono realtivi i documenti da trovare (ricerca di tipo contains, salvo diversamete indicato in OperClienteUD)
4367        																	--  OperClienteUD			(considerato solo se filtro precedente valorizzato) Indica l'operatore di ricerca sul filtro precedente (se diverso da contiene); valori: inizia, uguale, finisce, contiene, like
4368        																	-- 	CIProvClienteUD			Filtro sul codice origine del cliente cui sono relativi i documenti da trovare (ricera in like senza forzare il % finale, case-sensitive)
4369        																	--	PIVA_CF_ClienteUD		Fitro sulla partiva IVA o cod. fiscale del cliente cui sono relativi i documenti da trovare (ricerca case-insensitivi in like senza forzare il % finale)
4370        																	--	ContraenteUD			Filtro sulla denominazione del contraente cui sono realtivi i documenti-contratti da trovare (ricerca di tipo contains, salvo diversamente indicato in OperContraenteUD)
4371        																	--  OperContraenteUD		(considerato solo se filtro precedente valorizzato) Indica l'operatore di ricerca sul filtro precedente (se diverso da contiene); valori: inizia, uguale, finisce, contiene, like
4372        																	-- 	CIProvContraenteUD			Filtro sul codice origine del contraente cui sono relativi i documenti-contratti da trovare (ricera in like senza forzare il % finale, case-sensitive)
4373        																	--	PIVA_CF_ContraenteUD		Fitro sulla partiva IVA o cod. fiscale del contraente cui sono relativi i documenti-contratti da trovare (ricerca case-insensitivi in like senza forzare il % finale)
4374        																	--	NomeUD					Filtro sul nome delle unità doc da trovare (ricerca case insensitive in like senza forzare %)
4375        																	--	NomeFolder				Filtro sul nome dei fascicoli da trovare (ricerca di tipo contains)
4376        																	--  OperNomeFolder			(considerato solo se filtro precedente valorizzato) Indica l'operatore di ricerca sul filtro precedente (se diverso da contiene); valori: inizia, uguale, finisce, contiene, like
4377        																	--  IdClassificazione		Id. della classificazione dei documenti e/o fascicoli da ricercare. 
4378        																	--  LivelliClassificazione	Livelli della classificazione dei documenti e/o fascicoli da ricercare. I livelli della classificazione vanno specificati così come mostrati nella GUI
4379        																	--  DesClassificazione		Descrizione della classificazione dei documenti e/o fascicoli da ricercare (ricerca esatta case-insensitive)
4380        																	-- 	FlgInclSottoClassif		(considerato solo se uno dei 3 filtri precedenti valorizzato) Se 1 vengono ricercati anche documenti e/o fascicoli con sotto-classificazioni della classificazione indicata attraverso IdClassificazione o LivelliClassificazione o DesClassificazione
4381        																	--  AnnoFascDa				Inizio intervallo di ricerca su anno fascicolo classificato
4382        																	--  AnnoFascA				Fine intervallo di ricerca su anno fascicolo classificato
4383        																	--  NumProgrFascDa			Inizio intervallo di ricerca su N° progressivo fascicolo classificato
4384        																	--  NumProgrFascA			Fine intervallo di ricerca su N° progressivo fascicolo classificato
4385        																	--  NumSottofascDa			Inizio intervallo di ricerca su N° sotto-fascicolo classificato
4386        																	--  NumSottofascA			Fine intervallo di ricerca su N° sotto-fascicolo classificato
4387        																	--  NumInsertoDa			Inizio intervallo di ricerca su N° inserto di sotto-fascicolo classificato
4388        																	--  NumInsertoA				Fine intervallo di ricerca su N° inserto di sotto-fascicolo classificato
4389        																	--	NroSecondarioFasc		N.ro secondario/alternativo dato al fascicolo. Ricerca case-insensitive in like senza forzare % finale
4390        																	--	@AssegnatiA				Lista di coloro a cui sono attualmente assegnati documenti e folder da ricercare (solo gli assegnatari che hanno ricevuto il documento o anche quelli che lo hanno in carico in assenza di assegnazione)
4391        																	--							Ogni riga della lista contiene le colonne:
4392        																	--								1: Sigla del tipo di assegnatario (UT = Utente, UO = Unità operativa, SV = Scrivania)
4393        																	--								2: Id. dell'assegnatario (ID_USER, ID_UO, ID_SCRIVANIA)
4394        																	--								3: Flag 1/0 di inclusione sotto-UO della UO indicata in colonna 2
4395        																	--								4: Flag 1/0 di inclusione scrivanie della UO indicata in colonna 2
4396        																	--	InclAssSenzaInvio		(valori 1/0/NULL) Se 1 indica che il filtro @AssegnatiA ricerca anche su chi ha il documento/fascicolo in carico senza che gli sia stato assegnato, altrimenti considera solo gli assegnatari a cui è stato inviato il documento/folder 
4397        																	--	@InConoscenzaA			Lista di coloro a cui sono stati inviati in conoscenza/per condivisione i documenti e folder da ricercare
4398        																	--							Ogni riga della lista contiene le colonne:
4399        																	--								1: Sigla del tipo di destinatario in conoscenza/per condivisione (UT = Utente, UO = Unità operativa, SV = Scrivania, G=Gruppo, R= Ruolo amministrativo)
4400        																	--								2: Id. del destinatario in conoscenza/per condivisione (ID_USER, ID_UO, ID_SCRIVANIA, ID_GRUPPO, ID_RUOLO_AMM)
4401        																	--								3: Flag 1/0 di inclusione sotto-UO della UO indicata in colonna 2
4402        																	--								4: Flag 1/0 di inclusione scrivanie della UO indicata in colonna 2
4403        																	--								5: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo indicato in colonna 2
4404        																	--								6: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo indicato in colonna 2
4405        																	--								7: Identificativo della UO in cui si espleta il ruolo amministrativo indicato in colonna 2 o dalla quale risalire alla/e UO del livello/tipo indicati nelle colonne 5 e 6 (UO in cui si espleta il ruolo amministrativo indicato in colonna 2)
4406        																	--	@ConNotificheAutoA		Lista di coloro che hanno notifiche automatiche sui documenti e folder da ricercare
4407        																	--							Ogni riga della lista contiene le colonne:
4408        																	--								1: Sigla del tipo di destinatario della notifica (UT = Utente, UO = Unità operativa, SV = Scrivania, G=Gruppo, R= Ruolo amministrativo)
4409        																	--								2: Id. del destinatario della notifica (ID_USER, ID_UO, ID_SCRIVANIA, ID_GRUPPO, ID_RUOLO_AMM)
4410        																	--								3: Flag 1/0 di inclusione sotto-UO della UO indicata in colonna 2
4411        																	--								4: Flag 1/0 di inclusione scrivanie della UO indicata in colonna 2
4412        																	--								5: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo indicato in colonna 2
4413        																	--								6: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo indicato in colonna 2
4414        																	--								7: Identificativo della UO in cui si espleta il ruolo amministrativo indicato in colonna 2 o dalla quale risalire alla/e UO del livello/tipo indicati nelle colonne 5 e 6 (UO in cui si espleta il ruolo amministrativo indicato in colonna 2)
4415        																	--	@InviatiA				Filtro utilizzabile solo quando si cerca nelle sezioni degli inviati (per competenza e/o per conoscenza). 
4416        																	--							Lista di coloro a cui sono stati assegnati/smistati e/o inviati in conoscenza/per condivisione i documenti e folder da ricercare
4417        																	--							Ogni riga della lista contiene le colonne:
4418        																	--								1: Sigla del tipo di destinatario  (UT = Utente, UO = Unità operativa, SV = Scrivania, G=Gruppo, R= Ruolo amministrativo)
4419        																	--								2: Id. del destinatario (ID_USER, ID_UO, ID_SCRIVANIA, ID_GRUPPO, ID_RUOLO_AMM)
4420        																	--								3: Flag 1/0 di inclusione sotto-UO della UO indicata in colonna 2
4421        																	--								4: Flag 1/0 di inclusione scrivanie della UO indicata in colonna 2
4422        																	--								5: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo indicato in colonna 2
4423        																	--								6: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo indicato in colonna 2
4424        																	--								7: Identificativo della UO in cui si espleta il ruolo amministrativo indicato in colonna 2 o dalla quale risalire alla/e UO del livello/tipo indicati nelle colonne 5 e 6 (UO in cui si espleta il ruolo amministrativo indicato in colonna 2)
4425        																	--	StatoPresaInCarico		(valori 1/0) Serve a restringere la ricerca ai soli documenti e fascicoli da prendere in carico (0) o già presi in carico (1)
4426        																	--  PresaInCaricoDal		(gestito solo se si sta cercando nei "ricevuti per competenza" dell'utente, ovvero se CercaInFolderIO=-9) Inizio intervallo di ricerca sulla data di presa in carico (nel formato del parametro di config. FMT_STD_DATA)
4427        																	--  PresaInCaricoAl			(gestito solo se si sta cercando nei "ricevuti per competenza" dell'utente, ovvero se CercaInFolderIO=-9) Fine intervallo di ricerca sulla data di presa in carico (nel formato del parametro di config. FMT_STD_DATA)
4428        																	--	DataAssegnSmistDa		(gestito solo se si sta cercando nelle "News" dell'utente, ovvero se CercaInFolderIO=-9) Inizio intervallo di ricerca sulla data di decorrenza ultimo invio (nel formato del parametro di config. FMT_STD_DATA)
4429        																	--	DataAssegnSmistA		(gestito solo se si sta cercando nelle "News" dell'utente, ovvero se CercaInFolderIO=-9) Fine intervallo di ricerca sulla data di decorrenza ultimo invio (nel formato del parametro di config. FMT_STD_DATA)
4430        																	--	TipoAssegnazione		(valori P/UO/A; gestito solo se si sta cercando nelle "News" dell'utente, ovvero se CercaInFolderIO=-9) Se P la ricerca viene ristretta a doc. e folder assegnati all'utente o sue scrivanie, se UO viene ristretta a doc. e folder assegnati ad UO, se A viene ristretta a doc. e folder assegnati ad altri utenti (e loro scrivanie)
4431        																	--	DataNotificaDa			(gestito solo se si sta cercando nelle "News" dell'utente, ovvero se CercaInFolderIO=-9) Inizio intervallo di ricerca sulla data di decorrenza ultima invio per conoscenza/notifica(nel formato del parametro di config. FMT_STD_DATA)
4432        																	--	DataNotificaA			(gestito solo se si sta cercando nelle "News" dell'utente, ovvero se CercaInFolderIO=-9) Fine intervallo di ricerca sulla data di decorrenza ultimo invio per conoscenza/notifica (nel formato del parametro di config. FMT_STD_DATA)
4433        																	--	TipoNotifica			(valori P/UO/A; gestito solo se si sta cercando nelle "News" dell'utente, ovvero se CercaInFolderIO=-9) Se P la ricerca viene ristretta a doc. e folder inviati per conoscenza/notificati all'utente o sue scrivanie, se UO viene ristretta a doc. e folder inviati per conoscenza/notificati ad UO, se A viene ristretta a doc. e folder inviati per conoscenza/notificati ad altri utenti (e loro scrivanie)
4434        																	--	DataInvioDa				(gestito solo se si sta cercando negli "Inviati" dell'utente, ovvero se CercaInFolderIO in (-9999, -99991)) Inizio intervallo di ricerca sulla data di invio (nel formato del parametro di config. FMT_STD_DATA)
4435        																	--	DatInvioA				(gestito solo se si sta cercando negli "Inviati" dell'utente, ovvero se CercaInFolderIO in (-9999, -99991)) Fine intervallo di ricerca sulla data di invio (nel formato del parametro di config. FMT_STD_DATA)
4436        																	--	DestinatarioInvio			(gestito solo se si sta cercando negli "Inviati" dell'utente, ovvero se CercaInFolderIO in (-9999, -99991)) Stringa contenuta nel nome del destinatario dell'invio (ricerca case-insensitive in like)
4437        																	-- 	DataEliminazioneDa		(gestito solo se si sta cercando negli "Eliminati" dell'utente, ovvero se CercaInFolderIO=-99999) Inizio intervallo di ricerca sulla data di eliminazione (nel formato del parametro di config. FMT_STD_DATA)
4438        																	-- 	DataEliminazioneA			(gestito solo se si sta cercando negli "Eliminati" dell'utente, ovvero se CercaInFolderIO=-99999) Fine intervallo di ricerca sulla data di eliminazione (nel formato del parametro di config. FMT_STD_DATA)
4439        																	--	CISezioneEliminazioneDa		(valori B/I/C/N/W/P/NA/NCC/NNA/DFA/DFI/DAV/DPR/ADA/S o una loro concatenazione con ; come separatore; gestito solo se si sta cercando negli "Eliminati" dell'utente, ovvero se CercaInFolderIO=-99999) Restringe la ricerca ai soli eliminati da: B = Bozze; I = Inviati per competenza; C = Inviati per conoscenza/condivisione; N = News; P = Preferiti; W = Work
4440        																	--	StatoAssegnazione		(valori 1/0) Serve a restringere la ricerca ai soli documenti già assegnati (1) o ancora da assegnare (0)
4441        																	--	StatoClassificazione	(valori 1/0) Serve a restringere la ricerca ai soli documenti classificati (1) o non ancora classificati (0)
4442        																	--	StatoFascicolazione		(valori 1/0) Serve a restringere la ricerca ai soli documenti fascicolati (1) o non ancora fascicolati (0) in un fascicolo basato su piano di classificazione
4443        																	--	StatoVisione			(valori 1/0) Serve a restringere la ricerca ai soli documenti visionati (1) o non visionati (0) dall'utente
4444        																	--	SoloRecenti			(valori V/L/D) Se pari a V restringe la ricerca ai soli documenti e folder visualizzati o lavorati di recente dall'utente di lavoro, se L solo a quelli lavorati di recente dall'utente di lavoro, se D solo a quelli con file scaricati di recente dall'utente di lavoro
4445        																	--	SoloDaLeggere			(valore fisso 1) Serve a restringere la ricerca ai documenti e folder con notifiche/assegnazioni successive alla data di ultimo accesso in visualizzazione da parte dell'utente di lavoro
4446        																	--	NewsConNotificheCondivisione	(valori 1/0; gestito solo se si sta cercando nelle "News") Serve a restringere la ricerca ai soli documenti e/o folder che hanno notifiche di tipo "notifica di condivisione" (COD_TIPO_NOTIFICA = NOT_S) per l'utente di lavoro/connesso (se 1) o ad ignorare i documenti e folder che sono nelle news solo perchè vi sono notifiche di condivisione (se =0)
4447        																	--	NewsConNotificheAutomatiche	(valori 1/0; gestito solo se si sta cercando nelle "News") Serve a restringere la ricerca ai soli documenti e/o folder che hanno notifiche di tipo "alert generati in automatico dal sistema" (COD_TIPO_NOTIFICA = NOT_AS) per l'utente di lavoro/connesso (se 1) o ad ignorare i documenti e folder che sono nelle news solo perchè vi sono alert generati in automatico dal sistema  (se =0)
4448        																	--	NewsConOsservazioni		(valori 1/0; gestito solo se si sta cercando nelle "News") Serve a restringere la ricerca ai soli documenti e/o folder che hanno notifiche di tipo "osservazione" (COD_TIPO_NOTIFICA = OSS) per l'utente di lavoro/connesso (se 1) o ad ignorare i documenti e folder che sono nelle news solo perchè vi sono osservazioni (se =0)
4449        																	--	CodApplOwner			Serve a restringere la ricerca ai soli documenti e folder caricati a sistema dall'applicazione esterna qui specificata. Se è valorizzato a #BY_CONN_TKN significa l'applicazione da cui si è connessi
4450        																	--	CodIstApplOwner			Serve a restringere la ricerca ai soli documenti e folder caricati a sistema dall'istanza di applicazione esterna qui specificata. Se è valorizzato a #BY_CONN_TKN significa l'istanza di applicazione da cui si è connessi
4451        																	--	IdDocType				Identificativo del tipo dei documenti. 
4452        																	--							Vengono trovati anche i doc. ricadenti in suoi sottotipi.
4453        																	--  ProvCIDocType			Codice identificativo del tipo dei documenti nel sistema esterno da cui proviene il tipo
4454        																	--							Vengono trovati anche i doc. ricadenti in suoi sottotipi.
4455        																	--	NomeDocType				Nome del tipo dei documenti (ricerca case insensitive in like senza forzare il % finale; il tipo deve essere individuabile univocamente a partire dal nome). 
4456        																	--							Vengono trovati anche i doc. ricadenti in suoi sottotipi.
4457        																	--	FiltroSuTipoAncheXDocNonPrim	Valore fisso 1. Se presente il filtro sul tipo tiene conto anche dei documenti non primari, altrimenti è solo il tipo del doc. primario che deve matchare
4458        																	--	IdFolderType			Identificativo del tipo dei folder. 
4459        																	--						Vengono trovati anche i folder ricadenti in suoi sottotipi.
4460        																	--	NomeFolderType			Nome del tipo dei folder (ricerca case insensitive in like senza forzare il % finale; il tipo deve essere individuabile univocamente a partire dal nome). 
4461        																	--						Vengono trovati anche i folder ricadenti in suoi sottotipi.
4462        																	--	@StatiDoc				Stato/i che devono avere i documenti da ricercare
4463        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
4464        																	--						1: Codice dello stato del documento (valori da dictionary entry apposita)
4465        																	--						2: Descrizione dello stato del documento (valori da dictionary entry apposita)
4466        																	--	@StatiDettDoc			Stato/i di dettaglio che devono avere i documenti da ricercare
4467        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
4468        																	--						1: Codice dello stato di dettaglio del documento (valori da dictionary entry apposita)
4469        																	--						   può contenere anche  cod_stato|*|cod_stato_dett (o cod_stato|*|)
4470        																	--						2: Descrizione dello stato di dettaglio del documento (valori da dictionary entry apposita)
4471        																	--	@StatiFolder			Stato/i che devono avere i folder da ricercare
4472        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
4473        																	--						1: Codice dello stato del folder (valori da dictionary entry apposita)
4474        																	--						2: Descrizione dello stato del folder (valori da dictionary entry apposita)
4475        																	--	@StatiDettFolder			Stato/i di dettaglio che devono avere i folder da ricercare
4476        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
4477        																	--						1: Codice dello stato di dettaglio del folder (valori da dictionary entry apposita)
4478        																	--						   può contenere anche  cod_stato|*|cod_stato_dett (o cod_stato|*|)
4479        																	--						2: Descrizione dello stato di dettaglio del folder (valori da dictionary entry apposita)
4480        																	--	DataAggStatoDa			Inizio intervallo di ricerca sulla data di ultimo aggiornamento dello stato del documento/folder (nel formato del parametro di config. FMT_STD_DATA)
4481        																	--	DataAggStatoA			Fine intervallo di ricerca sulla data di ultimo aggiornamento dello stato del documento/folder (nel formato del parametro di config. FMT_STD_DATA)
4482        																	--	@CanaliOutput		Canale/i di trasmissione al destinatario dei documenti da ricercare
4483        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
4484        																	--						1: Codice del canale (valori da dictionary entry apposita)
4485        																	--						2: Descrizione del canale (valori da dictionary entry apposita)
4486        																	--  @StatiConservazione: stato/i di conservazione
4487        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
4488        																	--						1: Codice dello stato di conservazione con valori:
4489        																		--						non_prevista 	= non prevista conservazione 
4490        																		--						da_inviare		= da inviare in conservazione 
4491        																		--						inviato			= inviato in conservazione  
4492        																		--						accettato		= avviato processo conservazione
4493        																		--						conservato		= conservato
4494        																		--						rifiutato		= non conservabile 
4495        																	--  DataArchiviazioneDa	Inizio intervallo di ricerca sulla data di cessazione dell'interesse sui documenti/fascicoli da ricercare (nel formato dato dal parametro di config. FMT_STD_DATA)
4496        																	--  DataArchiviazioneA	Fine intervallo di ricerca sulla data di cessazione dell'interesse sui documenti/fascicoli da ricercare (nel formato dato dal parametro di config. FMT_STD_DATA)
4497        																	--  SoloRegAnnullate	Se 1 si restringe la ricerca ai documenti con resgistrazioni annullate, se 0 si escludono le registrazioni annullate
4498        																	--  @StatiRichiestaAnnullamentoReg Stato/i dell'autorizzazione della richiesta di annullamento registtrazione che devono avere i documenti da ricercare
4499        																	--						Ciscuna riga della lista contiene solo una colonna:
4500        																	--						1: Stato con uno dei valori: 
4501        																	--							autorizzata (= registrazione inserita in atto di autorizz. chiuso)
4502        																	--							autorizzazione_in_corso (= registrazione inserita in atto di autorizz. NON ancora chiuso)
4503        																	--							da_autorizzare (autorizzazione ancora da avviare, ovvero la registrazione non è ancora in un atto di autorizzazazione)
4504        																	--	RestringiAttiAutAnnReg 		Serve a restringere la ricerca solo aidocumenti che sono atti di autorizzazione all'annullamento di registrazione.
4505        																	--								Valori possibili: tutti o NULL (=tutti gli atti di aut. annullamento ref), aperti (=solo gli atti aperti), chiusi (= solo gli atti chiusi)
4506        																	--	ScadTerminiProcEntroNGG		giorni entro cui si verificherà la scadenza dei termini del/i procedimenti/processi collegati ai folder/documenti da ricercare
4507        																	--  ScadTerminiProcDaMinNGG		(in OR rispetto al filtro precedente): nro di giorni minimo da cui devono essere trascorsi i termini del/i procedimenti/processi collegati ai folder/documenti da ricercare
4508        																	--	StatoTerminiProc			(valori A/I/S/C) Serve a ricercare solo i folder/documenti i cui processi/procedimenti collegati hanno i termini aperti, interrotti, sospesi o conclusi
4509        																	--	SoloConLock				Valore fisso 1. Se presente indica che si devono ricercare solo i documenti e folder su cui vi è un lock attivo (si intende solo un lock esplicito sul documento/folder, non quello messo su un folder o workspace di appartenenza)
4510        																	--	ConLockDiUtenteLavoro		Valore fisso 1. Se presente indica che si devono ricercare solo i documenti e folder su cui vi è un lock attivo messo dall'utente di lavoro (se non valorizzato è l'utente connesso)
4511        																	--	ConLockDiUtente			(gestito solo se si filtro SoloConLock è presente) Identificativo dell'utente che deve aver messo il lock che è attivo sui documenti e folder da ricercare
4512        																	--	ConLockDaAlmenoGiorni		Serve ad inidicare il n.ro di giorni da cui ci deve essere un lock attivo sui documenti e folder da ricercare
4513        																	--	CodRuoloUtenteVsDocFolder	Codice del ruolo che l'utente di lavoro/connesso deve avere rispetto ai documenti e/o folder da ricercare
4514        																	--	RuoloUtenteVsDocFolder		Ruolo (decodifica) che l'utente di lavoro/connesso deve avere rispetto ai documenti e/o folder da ricercare
4515        																	--	FiltroSuRuoloUtenteAncheXDocNonPrim	
4516        																	--						Valore fisso 1. Se presente un filtro sul ruolo che l'utente di lavoro/connesso deve avere rispetto ai documenti da ricercare, il filtro tiene conto anche dei documenti non primari, altrimenti solo del doc. primario
4517        																	--	FlagFirmaApposta			(valori 2/1/0) Se 1 indica che l'utente di lavoro/connesso ha apposto la firma sui file su cui è richiesta (si considera solo il primario se non c'è il filtro FiltroSuRuoloUtenteAncheXDocNonPrim, altrimenti anche gli eventuali allegati), se 0 che non l'ha ancora apposta o non su tutti i file in cui è richiesta
4518        																	--							     (aggiunto il 27/01/2012) Se 2 indica che sono state apposte tutte le firme previste sia sul primario che sugli allegati
4519        																	--						Il filtro viene considerato solo se - attraverso i filtri CodRuoloUtenteVsDocFolder e RuoloUtenteVsDocFolder - si ricercano documenti che l'utente di lavoro/connesso deve firmare (vers cui ha ruolo di "Firmatario") 
4520        																	--	@Registrazioni			Filtri sulle registrazioni/numerazioni date all'unità documentaria.
4521        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
4522        																	--						1: Cod. della categoria di registrazione/numerazione; valori ammessi da dictionary entry (PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza) + #U = registrazioni ufficiali (protocollo e repertorio) + #NU =  registrazioni NON ufficiali (non a protocollo nè repertorio)
4523        																	--							Può anche essere una concatenazione di cod. categoria separati da ;
4524        																	--						2: Sigla di registrazione/numerazione
4525        																	--						3: Anno di registrazione/numerazione
4526        																	--						4: N.ro di inizio intervallo di ricerca sui n.ri di registrazione/numerazione
4527        																	--						5: N.ro di fine intervallo di ricerca sui n.ri di registrazione/numerazione
4528        																	--						6: Data di inizio intervallo di ricerca sulle date di registrazione/numerazione (nel formato del parametro di config. FMT_STD_DATA)
4529        																	--						7: Data di fine intervallo di ricerca sulle date di registrazione/numerazione (nel formato del parametro di config. FMT_STD_DATA)						
4530        																	--						8: Inizio intervallo su anno registrazione/numerazione (estremo incluso)
4531        																	--						9: Fine intervallo su anno registrazione/numerazione (estremo incluso)
4532        																	--						10: (flag 1/0) La registrazione/numerazione è stata effettuata (=1) o NON è stata effettuata (=0) dall'operatore collegato (o da quello di lavoro, IdUserLavoroIn, se specificato)
4533        																	--						11: Id. del/degli utenti che hanno effettuato la registrazione/numerazione (se più di uno vanno separati con , o ;)		
4534        																	--						12: N.ro di inizio intervallo di ricerca sui sub dei nri di registrazione/numerazione
4535        																	--						13: N.ro di fine intervallo di ricerca sui sub dei nri di registrazione/numerazione
4536        																	--	FlagTipoProvDoc			(valori E, U, I o loro combinazioni, separate da ',' o ';') Serve a restringere la ricerca ai soli documenti in entrata (E) o in uscita (U) o tra uffici/interni (I) o combinazioni di questi  
4537        																	--  PresenzaFile			Serve a restringere la ricerca alle unità documentarie: 
4538        																	--							senza_file (senza alcun file associato, nè primario, nè allegato)
4539        																	--							senza_file_primario
4540        																	--							con_file (con almeno un file, primario o allegato)
4541        																	--							con_file_primario
4542        																	--							con_file_come_allegati (c'è almeno un file relativo ad un allegato)
4543        																	--	DataArrivoDa			Inizio intervallo di ricerca sulla data di arrivo dei documenti in entrata (nel formato del parametro di config. FMT_STD_DATA)
4544        																	--	DataArrivoA				Fine intervallo di ricerca sulla data di arrivo dei documenti in entrata (nel formato del parametro di config. FMT_STD_DATA)
4545        																	--	DataStesuraDa			Inizio intervallo di ricerca sulla data di stesura dei documenti prodotti (nel formato del parametro di config. FMT_STD_DATA)
4546        																	--	DataStesuraA			Fine intervallo di ricerca sulla data di stesura dei documenti prodotti (nel formato del parametro di config. FMT_STD_DATA)
4547        																	--	DataAperturaDa			Inizio intervallo di ricerca sulla data di apertura dei folder (nel formato del parametro di config. FMT_STD_DATA)
4548        																	--	DataAperturaA			Fine intervallo di ricerca sulla data di apertura dei folder (nel formato del parametro di config. FMT_STD_DATA)
4549        																	--	SoloAperti				(valore fisso 1) Serve a restringere la ricerca ai soli folder aperti dall'utente di lavoro
4550        																	--	DataChiusuraDa			Inizio intervallo di ricerca sulla data di chiusura dei folder (nel formato del parametro di config. FMT_STD_DATA)
4551        																	--	DataChiusuraA			Fine intervallo di ricerca sulla data di chiusura dei folder (nel formato del parametro di config. FMT_STD_DATA)
4552        																	--	@UOApertura				Lista delle UO di apertura dei folder da ricercare 
4553        																	--							Ogni riga della lista contiene le colonne:
4554        																	--								1: Id. della UO
4555        																	--								2: Flag 1/0 di inclusione sotto-UO della UO indicata in colonna 1
4556        																	--	IdWorkspaceApp			Identificativo del workspace in cui devono trovarsi le unità documentarie da trovare
4557        																	--	NomeWorkspaceApp			Nome del workspace in cui devono trovarsi le unità documentarie da trovare(ricerca case insensitive in like senza forzare il % finale; il workspace deve essere individuabile univocamente a partire dal nome).
4558        																	--						Può assumere il valore particolare <BOZZE> che indica che si vogliono ricercare i documenti nelle bozze utente
4559        																	--	DisplayFilename			Display filename di una versione valida del documento (ricerca case-sensitive in like senza forzare il wildcard finale)
4560        																	--  SoloDocRicevutiViaEmailMGO (valori 1/0) serve a restringere la ricerca ai documenti ricevuti via e-mail o NON ricevuti via e-mail
4561        																	--	InviatiViaEmailMGO		(valori PEC, PEO, PECR, PEOR e loro combinazione separate da ;) serve a restringere la ricerca ai documenti inviati via mail PEC o ordinaria (=PEO) o entrambe. PECR significa documenti inviati via PEC da me, PEOR documenti inviati via mail ordinaria da me
4562        																	--	StatiInvioEmail		Serve a restringere la ricerca a documenti trasmessi via e-mail in cui la mail (almeno una se vi sono più trasmissioni via e-mail):
4563        																	--							ERROR		: ha errori in invio/accettazione/consegna
4564        																	--							WARNING		: ha avvertimenti in invio/accettazione/consegna
4565        																	--							IN_PROGRESS	: risulta ancora in corso, ovvero non vi è certezza della consegna da parte di tutti i destinatari
4566        																	--							PEC_IN_PROGRESS: l'invio effettuato da una PEC risulta ancora in corso, ovvero non vi è certezza della consegna da parte di tutti i destinatari
4567        																	--						Può essere una concatenazione dei valori precedenti separati da , o ;
4568        																	--	DtEsecAdoDal			Inizio intervallo di ricerca sulla data di adozione/escutività dei documenti (atti) (nel formato del parametro di config. FMT_STD_DATA)
4569        																	--	DtEsecAdoAl				Fine intervallo di ricerca sulla data di adozione/escutività dei documenti (atti) (nel formato del parametro di config. FMT_STD_DATA)
4570        																	--	StatoPubblicazione		Valore possibili: 
4571        																	--						IN_PUBBLICAZIONE= solo i documenti attualmente in pubblicazione all'Albo, 
4572        																	--						PUBBLICATI = solo i documenti che sono stati o sono in pubblicazione all'Albo
4573        																	--						DA_PUBBLICARE = solo i documenti da pubblicare e non ancora pubblicati all'Albo
4574        																	--	InPubblicazioneAl			Data alla quale i documenti da cercare devono essere stati in pubblicazione all'Albo (nel formato del parametro di config. FMT_STD_DATA)
4575        																	--	SoloUltimaVersione		Valore fisso 1. Se presente la ricerca full-text considera solo l'ultima versione valida di ciascun documento
4576        																	--  IdDocTypeInFolder			Id. di un tipo di documento che deve essere contenuto nei folder da ricercare
4577        																	--	CodStatoDocInFolder		(considerato solo se  IdDocTypeInFolder è valorizzato) Codice dello stato che devono avere i doc. del tipo IdDocTypeInFolder: per cercare solo folder che contengono documenti del dato tipo e nel dato stato
4578        																	--	CodStatoDettDocInFolder		(considerato solo se  IdDocTypeInFolder è valorizzato) Codice dello stato di dettaglio che devono avere i doc. del tipo IdDocTypeInFolder: per cercare solo folder che contengono documenti del dato tipo e nel dato stato
4579        																	--	FlgDocInFolderConRisposta	(considerato solo se  IdDocTypeInFolder è valorizzato) Valori ammessi 1/0/NULL. Se 1 si ricercano solo folder con documenti del dato tipo per cui c'è stata risposta/doc. successivo, se 0 solo folder con documenti del dato tipo per cui NON c'è stata risposta/doc. successivo
4580        																	--	IntegrArrivateUltimiNGG 	Serve a ricercare solo folder-pratiche nei quali delle integrazioni sono arrivate negli ultimi giorni (il n.ro di gg viene appunto specificato in questo filtro)	
4581        																	--  CriteriPersonalizzatiSoloSu Serve a restringere i criteri personalizzati a:
4582        																	--						U = Attributi custom dell'unità documentaria
4583        																	-- 						F = Attributi custom dei folder
4584        																	--						D = Attributi custom del documento principale
4585        																	--						A = Attributi custom dei documenti allegati
4586        																	--	Può essere anche una concatenazione dei valori precedenti. Ad esempio se si deve ricercare su attributi di documento primario e allegati: DA o AD
4587        																	--  @ProgrInvioFatture: lista con i n.ri progressivi di invio al SdI delle fatture da ricercare ed con gli id. dei trasmittenti in colonna 2 se si cercano fatture passive (lista con una sola colonna o 2 nel caso di ricerca fatture passive)
4588        																	--  @MezziTrasmissione: lista a 2 colonne: colonna 1 codice del mezzo di trasmissione del documento (in entrata o uscita), colonna 2 la descrizione del mezzo(per ogni mezzo una riga che può avere anche solo una delle 2 colonne valorizzata)
4589        																	--	@SupportiOrigDoc: lista a 2 colonne: colonna 1 codice del supporto originale - cartaceo, digitale, misto -  del documento (in entrata o uscita), colonna 2 la descrizione del supporto (per ogni supporto una riga che può avere anche solo una delle 2 colonne valorizzata)
4590        																	--  NroProtRicevuto: filtro sul n.ro di protocollo assegnato dal mittente al documento (per documenti in entrata) (ricerca case-insensiivi in like senza forzare il % finale)
4591        																	--  DtProtRicevutoDal: estremo inferiore dell'intervallo di ricerca sulla data del protocollo assegnato dal mittente al documento (per documenti in entrata) (nel formato dato dal parametro di config. FMT_STD_DATA)
4592        																	--  DtProtRicevutoAl: estremo superiore dell'intervallo di ricerca sulla data del protocollo assegnato dal mittente al documento (per documenti in entrata) (nel formato dato dal parametro di config. FMT_STD_DATA)											
4593        																	--  @UOProponente: filtro sulla UO proponente di un documento di proposta atto. Lista formata da una solo colonna con l'ID_UO del/dei proponenti
4594        																	--  @UORegistrazione: filtro sulla UO di registrazione di un documento. Lista formata da una solo colonna con l'ID_UO
4595        																	--	@UtenteAvvioAtto: filtro su chi ha avviato/istruito un documento di proposta atto. Lista formata da una solo colonna con l'ID_USER del/degli utenti
4596        																	--	@UtentiAdozioneAtto: filtro su chi è responsabile/adottante di un documento di proposta atto. Lista formata da una solo colonna con l'ID_USER del/degli utenti
4597        																	--  DtFirmaAttoDal: inizio dell'intervallo di ricerca sulla data di firma di un atto (per atti pregressi)(nel formato dato dal parametro FMT_STD_DATA)
4598        																	--	DtFirmaAttoAl: fine dell'intervallo di ricerca sulla data di firma di un atto (per atti pregressi)(nel formato dato dal parametro FMT_STD_DATA)
4599        																	--  NroRichiestaStampaExpDa: inizio dell'intervallo di ricerca sul N° di richiesta (ID_JOB) di export/stampa che ha dato luogo al documento
4600        																	--	NroRichiestaStampaExpA: fine dell'intervallo di ricerca sul N° di richiesta (ID_JOB) di export/stampa che ha dato luogo al documento
4601        																	--  DtRichiestaStampaExpDa: inizio dell'intervallo di ricerca sulla data di richiesta di export/stampa che ha dato luogo al documento (nel formato dato dal parametro FMT_STD_DATA)
4602        																	--  DtRichiestaStampaExpA: fine dell'intervallo di ricerca sulla data di richiesta di export/stampa che ha dato luogo al documento (nel formato dato dal parametro FMT_STD_DATA)
4603        																	--  EstremiAttoAutAnn: Estremi dell'atto di autorizzazione annullamento di Protocollo in cui sono inserite le unità documentarie da ricercare (nel formato stabilito per l'atto aut. ann.)
4604        																	--  CapofilaFasc: estremi del capofila del fascicolo da ricercare (nel formato stabilito per il capofila). E' una ricerca esatta
4605        																	--  ProtocolloCapofila: come filtro precedente, ma ricerca anche i documenti contenuti nel fascicolo di cui è indicato il capofila in questo filtro(nel formato stabilito per il capofila). E' una ricerca esatta
4606        																	--  IdIndirizzoInVario: id. toponomastico di indirizzo di quelli associati ai documenti (sia indirizzi dei nominativi che indirizzo nelle ALTRE_UBICAZIONI). Ricerca esatta
4607        																	--  Indirizzo: stringa contenuta in indirizzo di quelli associati ai documenti (sia indirizzi dei nominativi che indirizzo nelle ALTRE_UBICAZIONI). Ricerca case-insensitive in like senza forzare %
4608        																	--	CodStatoRichAccessoAtti : filtro di ricerca sul codice dello stato delle richieste accesso agli atti a cui restringere la ricerca. Può essere una concatenazione di più stati separati da ; o ,
4609        																	--	RichPrenotabiliDaAgendaDigitale: se 1 vengono mostrate solo le richieste di accesso atti prenotabili da Agenda Digitale e solo in attesa che l'appuntamento sia fissato da Agenda, se 0 vengono mostrate solo le richieste non ancora prenotabili da Agenda
4610        																	--  VerificaArchivioCompletata: valori 1/0. Serve per le ricerche sulle richieste accesso agli atti, per restringere la ricerca a quelle in cui la verifica dell'archivio è completata (1) o da completare )(0)
4611        																	--  UDC	: filtro case insensitive in like (senza forzare %) sull'id. dell'Unità di Carico/Conservazione in cui devono trovarsi gli atti oggetto delle richieste accesso atti da trovare
4612        																	--  IdProvenienza: filtro case insensitive in like (senza forzare %) sull'id. di provenienza dell'unità documentaria/folder
4613        																	--  IdPdVUltimoInvio: filtro esatto sull'Id. dell'ultimo Pacchetto di Versamento con cui l'unità documentaria/folder è stato inviato in conservazione
4614        																	--  DataInvioConservazioneDa: estremo inferiore dell'intervallo di ricerca sulla data di invio in conservazione (nel formato dato dal parametro FMT_STD_DATA)
4615        																	--  DataInvioConservazioneA: estremo superiore dell'intervallo di ricerca sulla data di invio in conservazione (nel formato dato dal parametro FMT_STD_DATA)
4616        																	--  DataAcquisizioneInConservazioneDa: estremo inferiore dell'intervallo di ricerca sulla data di accettazione in conservazione (nel formato dato dal parametro FMT_STD_DATA)
4617        																	--  DataAcquisizioneInConservazioneA: estremo superiore dell'intervallo di ricerca sulla data di accettazione in conservazione (nel formato dato dal parametro FMT_STD_DATA)
4618        																	--  DataInizioConservazioneDa: estremo inferiore dell'intervallo di ricerca sulla data di inizio della conservazione a norma, ovvero di decorrenza del tempo di conservazione (nel formato dato dal parametro FMT_STD_DATA)
4619        																	--  DataInizioConservazioneA: estremo superiore dell'intervallo di ricerca sulla data di inizio della conservazione a norma, ovvero di decorrenza del tempo di conservazione (nel formato dato dal parametro FMT_STD_DATA)
4620        																	--  IdInConservazione: filtro case insensitive in like (senza forzare %) sull'id. assegnato all'unità documentaria/folder dal Sistema di Conservazione
4621        																	--  DtTermineConservazioneDa: estremo inferiore dell'intervallo di ricerca sul termine stabilito della conservazione a norma (nel formato dato dal parametro FMT_STD_DATA)
4622        																	--  DtTermineConservazioneA: estremo superiore dell'intervallo di ricerca sul termine stabilito della conservazione a norma (nel formato dato dal parametro FMT_STD_DATA)
4623        																	--  DtScartoDa: estremo inferiore dell'intervallo di ricerca sulla data di scarto (nel formato dato dal parametro FMT_STD_DATA)
4624        																	--  DtScartoA: estremo superiore dell'intervallo di ricerca sulla data di scarto (nel formato dato dal parametro FMT_STD_DATA)
4625        																	--  FlgProlungatoTempoConservazione (valori 1/0): se 1 si restringe la ricerca alla documentazione per cui è stato prolungato il termine di conservazione, se 0 si esclude dalla ricerca la documentazione per cui è stato prolungato il termine di conservazione
4626        																	--	FlgRichiestaEsibizioneAlConservatore (valori 1/0): se 1 si restringe la ricerca alla documentazione per cui è stata richiesta esibizione a norma dal sistema di conservazione, se 0 si esclude dalla ricerca la documentazione per cui è stata richiesta esibizione a norma dal sistema di conservazione
4627        																	--  DtUltimoEventoDa: (solo per DiGiDoc) estremo inferiore dell'intervallo di ricerca sulla data di ultimo evento (nel formato dato dal parametro FMT_STD_DATA)
4628        																	--  DtUltimoEventoA: (solo per DiGiDoc) estremo superiore dell'intervallo di ricerca sulla data di ultimo evento (nel formato dato dal parametro FMT_STD_DATA)
4629        																	--  SalesOrganization: (solo per DiGiDoc) Id. della UO che corrisponde alla Sales Organization assegnataria del documento
4630        																	--  DistributionChannel: (solo per DiGiDoc) Id. della UO che corrisponde al Distribution Channel (o Cluster) assegnatario del documento
4631        																	--  LottoIngestionDoc: (solo per DiGiDoc) Estremi del lotto con cui è stato acquisito il documento (ricerca case-sensitive in like senza forzare % finale)
4632        																	--  PostSollecito: (solo per DiGiDoc, valori SI/NO/1/2) Indica se è stato inviato o meno sollecito di pagamento della fattura via posta, o se 1° o 2° sollecito
4633        																	--  ArchiviatoFileTimbrato: (valori SI/NO) Indica se è stato archiviato (=1) o no (=0) il file con apposto il timbro recante la segnatura di protocollo/registrazione
4634        																	--  DtRaccomandataDal	Inizio intervallo di ricerca sulla data della raccomandata con cui è arrivato il documento (nel formato dato dal parametro di config. FMT_STD_DATA)
4635        																	--  DtRaccomandataAl	Fine intervallo di ricerca sulla data della raccomandata con cui è arrivato il documento (nel formato dato dal parametro di config. FMT_STD_DATA)
4636        																	--  NroRaccomandata		N.ro della raccomandata con cui è arrivato il documento (ricerca case-insensitive in like senza forzare % finale)
4637        			CriteriPersonalizzatiIO		IN OUT 	NOCOPY CLOB,		-- Criteri di ricerca sugli attributi custom di documenti e folder (XML conforme a schema LISTA_STD.xsd). Se più di uno vengono applicati in AND.
4638        																	-- Ogni criterio è un tag Riga che può contenere le seguenti colonne:
4639        																	--	1) Nome (ATTR_NAME) dell'attributo cui è relativo il criterio
4640        																	--	2) (obblig.) Operatore logico. Valori possibili:
4641        																	--		"uguale" (ricerca esatta) 
4642        																	--		"simile a (case-sensitive)" (ricerca case-sensitive in like)
4643        																	--		"simile a (case-insensitive)" (ricerca case-insensitive in like e che ignora i caratteri quali spazi, ., ecc)
4644        																	--		"maggiore" (se attributo numerico o data)
4645        																	--		"maggiore o uguale" (se attributo numerico o data)
4646        																	--		"minore" (se attributo numerico o data)
4647        																	--		"minore o uguale" (se attributo numerico o data)
4648        																	--		"tra" (se attributo numerico o data)
4649        																	--		"non valorizzato"
4650        																	--		"valorizzato"
4651        																	--		"spuntato" (se attributo di tipo casella di spunta)
4652        																	--		"non spuntato" (se attributo di tipo casella di spunta)
4653        																	--	3) 1° valore di confronto (obblig. e gestito solo se l'operatore non ha uno dei seguenti valori: valorizzato, non valorizzato, spuntato, non spuntato) (se l'attributo è numerico deve avere la virgola come separatore dei decimali, se è di tipo data deve essere in uno dei formato dati dai parametri di conf. FMT_STD_DATA e FMT_STD_TIMESTAMP)
4654        																	--	4) 2° valore di confronto (obblig. e gestito solo se l'operatore è "tra") (se l'attributo è numerico deve avere la virgola come separatore dei decimali, se è di tipo data deve essere in uno dei formato dati dai parametri di conf. FMT_STD_DATA e FMT_STD_TIMESTAMP)
4655        																	--	5) Label dell''attributo cui è relativo il criterio (se sotto-attributo di complesso <label del complesso> - <label del sotto-attributo>
4656        			------------- inizio argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
4657        			ColOrderByIO			IN OUT	VARCHAR2,						-- Indica il/i numeri della/e colonna dell'XML (CLOB ResultOut) di output per cui ordinare i record nell'XML stesso (si può ordinare solo per le colonne da 1 a 17 e per le colonne da 35 a 37 e 43 e 45 e 48 e 49 e 55, 60, 61, 71, 72, 74, 89, 201, 202, 203). Se l'ordinamento è per più colonne queste vanno separate con "," (es: 2; 2,3)
4658        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul tipo di ordinamento una qualche preimpostazione di sistema/utente ecc.
4659        																	-- se non valorizzato (neppure in output) la lista di record restituita non è ordinata
4660        			FlgDescOrderByIO  		IN OUT	VARCHAR2,						-- E' una stringa di 1 o 0/NULL, tanti quanti le colonne di ordinamento, separati da ",": 1 significa che l'ordinamento per la data colonna deve essere discendente anzichè ascendente (es: 1; 1,0; 1, )
4661        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul verso di ordinamento una qualche preimpostazione di sistema/utente ecc.			
4662        			FlgSenzaPaginazioneIn 		IN 		PLS_INTEGER DEFAULT NULL,            	-- (valori 1/0/NULL) Se 1 l'estrazione non è paginata, altrimenti sì
4663        			NroPaginaIO      			IN OUT	PLS_INTEGER,                  		-- E' il numero della pagina da estrarre; se NULL e l'estrazione è paginata viene estratta la prima pagina
4664           			BachSizeIO				IN OUT	PLS_INTEGER,					-- Indica il massimo n.ro di record da estrarre se l'estrazione non è paginata (FlgSenzaPaginazioneIn=1)  
4665        																	-- Indica la dimensione (n.ro di record) della pagina se l'estrazione è paginata (FlgSenzaPaginazioneIn 0 o NULL) e in tal caso se non è valorizzato la dimensione della pagina è quella settata per l'utente di lavoro o è pari al valore del parametro STD_PAGE_NUM_ROW del dominio di lavoro				
4666        			OverFlowLimitIn			IN		PLS_INTEGER DEFAULT NULL,			-- E' il n.ro di record soddisfacenti la ricerca superato il quale la funzione deve restituire errore di overflow
4667        			FlgSenzaTotIn			IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 significa che non è richiesto come output il totale dei record soddisfacenti la ricerca (se la ricerca è paginata per la prima pagina il totale viene calcolato comunque, per le successive no)
4668        			NroTotRecOut			OUT		PLS_INTEGER,					-- E' il n.ro di record complessivi trovati (valorizzato solo se FlgSenzaTotIn è 0 o NULL o se si estrae la prima pagina)
4669             			NroRecInPaginaOut 		OUT   	PLS_INTEGER,                     		-- E' il numero di record nella pagina (valorizzato solo se l'estrazione è paginata, ovvero se FlgSenzaPaginazioneIn 0 o NULL)
4670        			------------- fine argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
4671        			FlgBatchSearchIn			IN		PLS_INTEGER,					-- (valori 1/0/NULL) Se 1 significa che la stored è utilizzata da un processo batch, altrimenti da un processo online.
4672        																	-- Serve affinchè in caso l'input OverFlowLimitIn non sia valorizzato vengano applicati i limiti di overflow per processo batch o online che sono parametri di configurazione del sistema. 
4673        			ColToReturnIn			IN		VARCHAR2 DEFAULT NULL,				-- Stringa con i n.ri delle colonne dell'XML di output ResultOut che si vuole siano presenti.
4674        																	-- Se la stringa è vuota saranno presenti tutte le colonne.
4675        																	-- Le colonne 1 e 2 saranno presenti comunque.
4676        																	-- I n.ri delle varie colonne vanno separati con , o ; e se si vuole indicare un intervallo di colonne gli estremi dell'intervallo vanno separati con - (es: "1-5;7;10" significa colonne da 1 a 5 più le colonne 7 e 10)
4677        																	-- In questa stringa si possono mettere anche dei nomi (ATTR_NAME) di attributi dinamici semplici che si vuole siano restituiti nell'output; essi verranno restituiti nelle colonne da 101 a 200 del ResultOut (es: "1-5; DATA_ADOZIONE; NRO_PAGINE" significa colonne da 1 a 5 più gli attributi dinamici DATA_ADOZIONE e NRO_PAGINE che sarranno restituiti come colonne 101 e 102 dell'output ResultOut). 
4678        			ResultOut				OUT		NOCOPY CLOB, 					-- Lista delle unità documentarie e folder trovati (XML conforme a schema LISTA_STD.xsd)
4679        																	-- Ogni oggetto della repository trovato è un tag Riga che può contenere le seguenti colonne: 
4680        																	-- 1:  Flag F/U che indica se si tratta di unità documentaria o folder
4681        																	-- 2:	 Identificativo dell¿unità documentaria o folder (ID_UD o ID_FOLDER)
4682        																	-- 3:  Nome dell'unità documentaria o folder
4683        																	-- 4:  Estremi di registrazione/numerazione dell'unità documentaria (se ne ha più di una viene presa la prima registrazione/numerazione presente andando nel seguente ordine: Protocollo Generale, Protocollo interno, Protocollo Particolare, Repertorio, Registrazione d'Emergenza, Altra numerazione esterna al sistema, Numerazione interna al sistema)
4684        																	-- 	 o estremi del fascicolo archivistico (anno, classificazione, n.ro progr, n.ro sottofasc. e n.ro inserto)
4685        																	-- 5:  N.ro secondario del folder
4686        																	-- 6:  ORDER_BY_VALUE del folder o estremi di registrazione dell'UD
4687        																	-- 7:  Data di apertura del folder (nel formato dato dal parametro di config. FMT_STD_DATA) 
4688        																	-- 8:  Estremi di registrazione a Prot. Gen. dell'unità documentaria (nel formato richiesto con FlgFmtEstremiRegIO) 
4689        																	-- 9:  Data e ora di registrazione a Prot. Gen. dell'unità documentaria (nel formato dato dal parametro di config. FMT_STD_TIMESTMP)  
4690        																	-- 10: Estremi di registrazione a Repertorio dell'unità documentaria (nel formato richiesto con FlgFmtEstremiRegIO)
4691        																	-- 11: Data e ora di registrazione a Repertorio dell'unità documentaria(nel formato dato dal parametro di config. FMT_STD_TIMESTMP)
4692        																	-- 12: Estremi di registrazione a Prot. Particolare dell'unità documentaria (nel formato richiesto con FlgFmtEstremiRegIO) 
4693        																	-- 13: Data e ora di registrazione a Prot. Particolare dell'unità documentaria (nel formato dato dal parametro di config. FMT_STD_TIMESTMP)  
4694        																	-- 14: Estremi di altra numerazione dell'unità documentaria che non sia nè un protocollo nè un repertorio (nel formato richiesto con FlgFmtEstremiRegIO)
4695        																	-- 15: Data e ora di numerazione dell'unità documentariache non sia nè un protocollo nè un repertorio (nel formato dato dal parametro di config. FMT_STD_TIMESTMP)
4696        																	-- 16: Data di chiusura del folder
4697        																	-- 17: Livello di evidenza dell'unità documentaria / folder
4698        																	-- 18: Descrizione/oggetto del documento primario / folder (se è richiesta colonna 99 per i folder NON è valorizzata)
4699        																	-- 19: Nominativi esterni legati al documento primario / folder
4700        																	-- 20: Tipo di provenienza dell'unità documentaria: E = in Entrata, U = in Uscita, I = tra uffici
4701        																	-- 21: N.ro ultima versione elettronica del doc. primario che è valida visibile all'utente. Se NULL significa che non c'è vers. elettronica valida visibile all'utente di lavoro.
4702        																	-- 22: Nome con cui mostrare il file di ultima versione elettronica del doc. primario che è valida e visibile all'utente
4703        																	-- 		ovvero il file della fattura pdf anche se è il 1° allegato
4704        																	-- 23: N.ro di allegati dell'unità documentaria
4705        																	-- 24: N.ro di unità documentarie direttamente contenute nel folder
4706        																	-- 25: N.ro di sub-folder direttamente contenuti nel folder
4707        																	-- 26: Data e ora a partire da cui l'unità doc./folder si trova in stato di lock (nel formato dato dal parametro di config. FMT_STD_TIMESTMP)
4708        																	-- 27: Descrizione dell'utente da cui è attualmente locked l'unità doc./folder 
4709        																	-- 28: N.ro di folder di diretta appartenenza dell'unità doc./folder visibili all'utente di lavoro
4710        																	-- 29: Id. dei folder di diretta appartenenza visibili all'utente di lavoro (se più di uno seaparti da |*|)
4711        																	-- 30: Path o segnatura + nome (nel caso di fascicoli archivistici) dei folder di diretta appartenenza visibili all'utente di lavoro (se più di uno seaparti da |*|)
4712        																	-- 31: Id. del tipo del doc. primario o del folder
4713        																	-- 32: Nome del tipo del doc. primario o del folder
4714        																	-- 33: Id. del documento primario (ID_DOC) (valorizato se trattasi di unità documentaria)
4715        																	-- 34: Id. della libreria di appartenenza
4716        																	-- 35: Data e ora di invio (valorizzata solo se si cerca negli "Inviati" e "Notificati" dell'utente) (nel formato dato dal parametro di config. FMT_STD_TIMESTMP)
4717        																	-- 36: Data e ora di eliminazione da una sezione dell'area di lavoro (valorizzata solo se si cerca negli "Eliminati" dell'utente) (nel formato dato dal parametro di config. FMT_STD_TIMESTMP)
4718        																	-- 37: Sezione dell'area lavoro utente da cui il documento o folder è stato eliminato (valorizzata solo se si cerca negli "Eliminati" dell'utente) 	
4719        																	-- 38: Destinatari dell'invio (valorizzati solo se si cerca negli "Inviati" dell'utente)
4720        																	-- 39: (1/0) Se 1 indica che il record è selezionabile per la finalità indicata in FinalitaIn, se 0 che non è selezionabile
4721        																	-- 40: Serve per indicare cosa il nodo rappresenta tra: FORUM = Un forum; THREAD = Un thread di discussione; CLASSIF = Una classificazione; FASC_TITOLARIO = Un fascicolo di titolario; SOTTOFASC_TITOLARIO = Un sottofascicolo di titolario; INSERTO_TITOLARIO = Un inserto di un sottofascicolo di titolario; AVVIO_THREAD = L'avvio di un thread di discussione; RISPOSTA_THREAD = Una risposta/contributo in un thread di discussione
4722        																	-- 41: Azioni possibili sul record. E' una stringa di 1(=consentita) o 0(=non consentita) in cui ogni posizione corrisponde ad un'azione:
4723        																	--	 1:  Apertura di un nuovo sub-folder 
4724        																	--	 2:  Inserimento di un nuovo documento
4725        																	--	 3:  Copia in altro folder
4726        																	--	 4:  Spostamento in altro folder
4727        																	--	 5:  Incolla/inserimento di un sub-folder
4728        																	--	 6:  Incolla/inserimento di un documento già esistente
4729        																	--	 7:  Modifica
4730        																	--	 8:  Cancellazione
4731        																	--	 9:  Lock
4732        																	--	 10: Unlock
4733        																	--	 11: Apertura sub-forum
4734        																	--	 12: Apertura nuovo thread di discussione
4735        																	--	 13: Incolla/inserimento di un forum già esistente
4736        																	--	 14: Incolla/inserimento di un thread di discussione già esistente
4737        																	--	 15: Aggiunta risposta/contributo ad un thread di discussione
4738        																	--	 16: Aggiunta ai preferiti
4739        																	--	 17: Eliminazione dai preferiti
4740        																	--	 18: Selezione (per la finalità FinalitaIn)
4741        																	--	 19: Visualizzazione file primario
4742        																	--	 20: <non utilizzato>
4743        																	--	 21: Download del file primario
4744        																	-- 42: Assegnatario/i (solo per competenza, nel caso di unità documentaria) dell'unità doc./folder
4745        																	-- 43: Timestamp di creazione del folder/unità documentaria (nel formato del parametro di config. FMT_STD_TIMESTAMP)
4746        																	-- 44: Nome dell'utente di creazione del folder/unità documentaria 
4747        																	-- 45: Timestamp di ultima modifica del folder/unità documentaria (nel formato del parametro di config. FMT_STD_TIMESTAMP)
4748        																	-- 46: Nome dell'utente di ultima modifica del folder/unità documentaria 
4749        																	-- 47: Tipo, oggetto + dati di trace sul folder/documento da usare come alt della riga 
4750        																	-- 48: Data e ora di ultimo accesso (in visualizzazione o aggiornamento o x scarico di file) da parte dell'utente di lavoro (nel formato del parametro di config. FMT_STD_TIMESTAMP)
4751        																	-- 49: Data di adozione/esecutività del documento (nel formato del parametro di config. FMT_STD_DATA)
4752        																	-- 50: Uff. produttore/i del documento o mittente/i esterni
4753        																	-- 51: (valori 1/0) Indica se documento attualmente in pubblicazione all'Albo (1) o meno
4754        																	-- 52: Dati sul periodo/i di pubblicazione all'Albo del documento e sull'eventuale N.ro di pubblicazione
4755        																	-- 53: Descrizione dello stato principale del documento/folder
4756        																	-- 54: Descrizione dello stato di dettaglio del documento/folder
4757        																	-- 55: Data e ora di ultimo aggiornamento dello stato del documento/folder (nel formato del parametro di config. FMT_STD_TIMESTAMP)
4758        																	-- 56: Path relativo - a partire dal folder CercaInFolderIO - del folder di diretta appartenenza se ve n'è uno solo visibile all'utente di lavoro (e contenuto in CercaInFolderIO se quest'ultimo è valorizzato) 
4759        																	-- 57: Parole chiave del documento/folder
4760        																	-- 58: Flag 1/0 che indica se il documento è stato letto o meno dall¿utente dopo l¿ultima notifica/invio (valorizzato solo quando si cerca nelle news)
4761        																	-- 59: Livelli della UO di eGrammata che deve essere impostata come mittente del documento
4762        																	-- 60: (valorizzato solo quando si cerca nelle NEWS) Data e ora di ultima assegnazione/notifica all'utente di lavoro (nel formato del parametro di config. FMT_STD_TIMESTAMP)
4763        																	-- 61: (valorizzato solo quando si cerca nelle NEWS) Livello di priorità  degli invii/notifiche successivi all'ultimo visto e all'ultima eliminazione dalle news (se sono più di uno è il massimo livello tra quelli dei vari invii/notifiche) 
4764        																	-- 62: (valorizzato solo quando si cerca nelle NEWS) Estremi degli invii/notifiche successivi all'ultimo visto e all'ultima eliminazione dalle news (o tutti, se il parametro di config. SOLO_INVII_NOTIF_POST_LAST_VIS non è settato o è settato a false) : Mittente/i, Messaggio/i, Data e ora di invio/notifica, Destinatario/i, Motivo, Priorità
4765        																	-- 63: (valorizzato solo quando si cerca nelle NEWS) N.ro di notifiche di condivisione presenti sul documento/folder e destinate all'utente di lavoro/connesso
4766        																	-- 64: (valorizzato solo quando si cerca nelle NEWS) N.ro di osservazioni presenti sul documento/folder e destinate all'utente di lavoro/connesso
4767        																	-- 65: (valorizzato solo quando si cerca nelle NEWS) N.ro di notifiche automatiche generate dal sistema presenti sul documento/folder e destinate all'utente di lavoro/connesso
4768        																	-- 66: (valorizzato solo quando si cerca nelle NEWS) N.ro di notifiche di condivisione presenti sul documento/folder, destinate all'utente di lavoro/connesso e da lui non ancora lette
4769        																	-- 67: (valorizzato solo quando si cerca nelle NEWS) N.ro di osservazioni presenti sul documento/folder, destinate all'utente di lavoro/connesso e da lui non ancora lette
4770        																	-- 68: (valorizzato solo quando si cerca nelle NEWS) N.ro di notifiche automatiche generate dal sistema presenti sul documento/folder, destinate all'utente di lavoro/connesso e da lui non ancora lette
4771        																	-- 69: Path e nome del/i folder di appartenenza visibili all'utente di lavoro (se più di uno separati da ;)
4772        																	-- 70: Nome del/i folder di appartenenza visibili all'utente di lavoro (se più di uno separati da ;)
4773        																	-- 71: Data di adozione del documento (nel formato del parametro di config. FMT_STD_DATA)
4774        																	-- 72: Data di esecutività del documento (nel formato del parametro di config. FMT_STD_DATA)
4775        																	-- 73: (valori Sì/No) Indica se documento attualmente in pubblicazione all'Albo (Sì) o meno (No)
4776        																	-- 74: Data di inizio prima pubblicazione all'Albo (nel formato del parametro di config. FMT_STD_DATA)
4777        																	-- 75: (valori 1/0) Se 1 indica che il documento (e suoi eventuali allegati) hanno tutte le firme previste, se 0 che ancora mancano delle firme 
4778        																	-- 76: (valori 1/0) Se 1 indica che il file primario è firmato digitalmente dall'utente di lavoro/connesso
4779        																	-- 77: Lista dei firmatari dell'ultima versione del documento primario (firme digitali)
4780        																	-- 78: Lista degli utenti interni che devono firmare il doc. con indicazione se hanno firmato o meno l'ultima versione elettronica
4781        																	-- 79: ID_DOC di una richiesta integrazioni relativa alla pratica del folder (per la quale non sono ancora state presentate le integrazioni richieste)
4782        																	-- 80: ID_UD di una richiesta integrazioni relativa alla pratica del folder (per la quale non sono ancora state presentate le integrazioni richieste)
4783        																	-- 81: Data della richiesta integrazioni di cui al campo 79 (nel formato dato dal parametro di config. FMT_STD_DATA)
4784        																	-- 82: Nomi del/dei procedimenti legati all'unità documentaria/folder (in prima battuta gli endo-procedimenti della pratica legata al folder, poi i proced. direttamente legati al folder)
4785        																	-- 83: Nomi del/dei responsabili dei procedimenti legati all'unità documentaria/folder (in prima battuta gli endo-procedimenti della pratica legata al folder, poi i proced. direttamente legati al folder)
4786        																	-- 84: Id. del procedimento/pratica/processo legato all'unità documentaria/folder (solo se ce n'è uno solo)
4787        																	-- 85: Durata effettiva - a meno di interruzioni e sospensioni - del procedimento legato all'unità documentaria/folder (solo se ce n'è uno solo)
4788        																	-- 86: Giorni che mancano o sono trascorsi (n.ro negativo) dalla scadenza dei termini del procedimento legato all'unità documentaria/folder (solo se ce n'è uno solo)
4789        																	-- 87: Indica se i termini del procedimento legato all'unità documentaria/folder (solo se ce n'è uno solo) sono sospesi o interrotti e da quando
4790        																	-- 88: Note del folder o unità documentaria
4791        																	-- 89: Score del record restituito dall'indicizzatore (valori interi da 1 a 5) (valorizzato solo se effettuata ricerca full-text)
4792        																	-- 90: Se è un fascicolo basato sul titolario contiene i campi che a GUI vengono mostrati per un fascicolo.
4793        																	--	   Nell'ordine: Nome fascicolo, Anno, ID. classifica, Indice classifica (come va mostrato a GUI), N° fascicolo, N° sottofascicolo, N° inserto.
4794        																	--	   I vari campi sono separati da **
4795        																	-- 91: Mittenti del documento
4796        																	-- 92: Destinatari del documento
4797        																	-- 93: (valorizzato solo x unità doc.) N.ro di doc. con file (si conteggiano anche i file non visibili all'utente)
4798        																	-- 94: (valorizzato solo x unità doc.) Nro di doc. con file firmati digitalmente (si conteggiano anche i file non visibili all'utente, ma solo le versioni non annullate)
4799        																	-- 95: (valorizzato solo x unità doc.) N.ro di doc. con file acquisiti da scanner (si conteggiano anche i file non visibili all'utente)
4800        																	-- 96: (valorizzato solo x unità doc.) Indica se unità doc. ricevuta tramite PEC o Posta elettronica ordinaria (valori INTEROP = Ricevuta tramite e-mail interoperabile; PEC = Ricevuta tramite PEC (non interoperabile); PEO = Ricevuta tramite Posta Elettronica ordinaria; NULL)
4801        																	-- 97: (valorizzato solo x unità doc.) Indica se unità doc. inviata tramite PEC o Posta elettronica ordinaria (valori: INTEROP = Inviata tramite e-mail interoperabile; PEC = Inviata tramite PEC (non interoperabile); PEO = Inviata tramite Posta Elettronica ordinaria; una concatenazione dei valori precedenti, separati da ;)
4802        																	-- 98: (valorizzato solo x unità doc.) Indica se unità doc. inviata tramite servizi telematici di Poste e quali (valori T=Telegramma, R = Raccomandata, L = Lettera o una loro concatenazione separati da ;)
4803        																	-- 99: Descrizione contenuti folder (i.e. colonna DMT_FOLDER.DES_OGG): se richiesta questa colonna, la colonna 18 per i folder è sempre vuota
4804        																	---100: Nome del responsabile/ufficio competente del folder
4805        																	-- 201: Data e ora di di registrazione/numerazione dell'unità documentaria (nel formato dato dal parametro di config. FMT_STD_TIMESTMP; se ne ha più di una viene presa la prima registrazione/numerazione presente andando nel seguente ordine: Protocollo Generale, Protocollo interno, Protocollo Particolare, Repertorio, Registrazione d'Emergenza, Altra numerazione esterna al sistema, Numerazione interna al sistema)
4806        																	-- 202: Data e ora di arrivo del documento se in entrata (nel formato dato dal parametro di config. FMT_STD_TIMESTMP) 
4807        																	-- 203: Data di stesura documento (nel formato dato dal parametro di config. FMT_STD_DATA)
4808        																	-- 204: (valorizzata solo se richiesta colonna 4) (valori A/R/D) Indica se la registrazione del documento i cui estremi sono riportati i colonna 4 è annullata (=A) o se l'annullamento è stato richiesto e autorizzato ma non ancora effettuato (=D) o infine se l'annullamento è stato richiesto ma non ancora effettuato(=R)
4809        																	-- 205: (valorizzata solo se richiesta colonna 204 vale A o R) Riporta gli estremi dell'annullamento o richiesta di annullamento della registrazione del documento i cui estremi sono riportati i colonna 4
4810        																	-- 206: Classifica e/o fascicoli di titolario cui appartiene l'unità documentaria (segnatura e nome nel caso del fascicolo)
4811        																	-- 207: Livello di riservatezza dell'unità documentaria / folder
4812        																	-- 208: (1/NULL) Se 1 indica che il documento/fascicolo è assegnato personalmente all'utente o una sua scrivania
4813        																	-- 209: (1/NULL) Se 1 indica che il documento/fascicolo è inviato per conoscenza all'utente o una sua scrivania
4814        																	-- 210: ID_PRATICA_SINAPOLI corrispondente al folder
4815        																	-- 211: ID_FASC_EGR corrispondente al folder o se questo è vuoto ID_FOLDER del fascicolo (nel caso di sottofascicolo o inserto è l'ID folder del fascicolo di appartenenza)
4816        																	-- 212: ID_ATTIVITA_SINAPOLI legata all'unità documentaria
4817        																	-- 213: NUM_SOTTOFASC_EGR corrispondente al folder o se questo è vuoto il N° progr di sottofascicolo
4818        																	-- 214: Utente che ha protocollato il documento
4819        																	-- 215: UO che ha protocollato il documento
4820        																	-- 216: (valori 1/0) Flag "In attesa di presa in carico": 1 = con assegnazione/i in attesa di presa in carico (nel caso di UD almeno una copia), 0= NON in attesa di presa in carico
4821        																	-- 217: Path e nome folder (uno visibile all'utente e possibilmente nel percorso di ricerca). Valorizzato solo per folder custom
4822        																	-- 218: Società cui è relativa la fattura corrispondente all'unità documentaria
4823        																	-- 219: Stato conservazione. Valori possibili: non prevista conservazione, da inviare in coservazione, inviato in conservazione, avviato processo di conservazione, conservato, errore
4824        																	-- 220: Cliente cui è relativo il documento
4825        																	-- 221: CF/PIVA del cliente cui è relativo il documento
4826        																	-- 222: Codice del cliente cui è relativo il documento
4827        																	-- 223: Contraente cui è relativo il documento di tipo contratto
4828        																	-- 224: CF/PIVA del contraente cui è relativo il documento di tipo contratto
4829        																	-- 225: Codice del contraente cui è relativo il documento di tipo contratto
4830        																	-- 226: UO di registrazione / proponente
4831        																	-- 227: Flag che indica se documento trasmesso tramite una o più e-mail che:
4832        																	--		ERROR : hanno errori in invio/accettazione/consegna
4833        																	--		WARNING: hanno avvertimenti (e non errori) in invio/accettazione/consegna
4834        																	--		IN_PROGRESS: non risultano avere errori nè avvertimenti ma NON risultano consegnate per certo a tutti i destinatari (almeno qualcuna)
4835        																	--		CONSEGNA: sono tutte consegnate per certo
4836        																	-- 228: URI del file in formato fatturaPA (se non è il file primario dell'UD)
4837        																	-- 229: Nome del file che rappresenta la fattura in formato fatturaPA (se non è il file primario dell'UD)
4838        																	-- 230: URI del file primario ovvero di quello che rappresenta la fattura pdf (anche se non è il file primario dell'UD ma il 1° allegato)
4839        																	-- 231: Canale di invio al destinatario
4840        																	-- 232: Estremi del documento capofila del folder
4841        																	-- 233: ID_UD del documento capofila del folder
4842        																	-- 234: Stato lock dell'unità doc./folder: 1 locked da altri, 2 locked dall'utente di lavoro/connesso, 0 non locked
4843        																	-- 235: URI del file della fattura collegata (usato dai DDT su DiGiDoc)
4844        																	-- 236: Nome del file della fattura collegata (usato dai DDT su DiGiDoc)
4845        																	-- 237: Id. della/e Unita di Carico/Conservazione in cui si trova il materiale oggetto della richiestta accesso atti rappresentata dal record
4846        																	-- 238: Id. di provenienza dell'unità documentaria/folder (nel caso GAE è l'Id. Documentum)
4847        																	-- 239: (usata per GAE) Nome della classe documentale di appartenenza
4848        																	-- 240: (usata per GAE) Nome della sottoclasse documentale di appartenenza
4849        																	-- 241: Id. parlante del PdV di invio in conservazione dell'unità doc./folder
4850        																	-- 242: Data invio in conservazione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
4851        																	-- 243: Data accettazione in conservazione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
4852        																	-- 244: Data inizio conservazione a norma, ovvero data di decorrenza del tempo di conservazione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
4853        																	-- 245: ID assegnato dal Conservatore all'unità doc. / folder
4854        																	-- 246: Data termine previsto di conservazione	(nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
4855        																	-- 247: Data di scarto (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
4856        																	-- 248: (1/0) Flag che indica che è stato prolungato il tempo di conservazione inizialmente stabilito
4857        																	-- 249: (1/0) Flag che indica che è stata richiesta esibizione a norma al sistema di conservazione
4858        																	-- 250: (valorizzato per richieste accesso atti) Id_folder degli atti richiesti che sono presenti in Cittadella (se più di uno separati da ";!)
4859        																	-- 251: (valorizzato per richieste accesso atti) Protocolli atti richiesti (se più di uno separati da ";")
4860        																	-- 252: (valorizzato per richieste accesso atti) (flag 1/0) 1 indica che alcuni degli atti richiesti non sono stati trovati
4861        																	-- 253: (valorizzato solo per DiGiDoc) Sales Organization (2° livello organigramma Nestlè)
4862        																	-- 254: (valorizzato solo per DiGiDoc) Distribution Channel (3° livello organigramma Nestlè)
4863        																	-- 255: (valorizzato solo per DiGiDoc) Estremi lotto con cui è stato acquisito il documento
4864        																	-- 256: Dimensione del file primario (in bytes)
4865        																	-- 257: (valorizzato solo per DiGiDoc) Data e ora ultimo evento sul documento (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
4866        																	-- 258: ID_UD dell'unità documentaria in allegato alla quale è stata trasmessa in uscita l'UD rappresentata nel record
4867        																	-- 259: Estremi identificativi dell'unità documentaria in allegato alla quale è stata trasmessa in uscita l'UD rappresentata nel record
4868        																	-- 260: Motivi richiesta annullamento registrazione protocollo
4869        																	-- 261: Estremi atto aut. annullamento registrazione protocollo
4870        																	-- 262: Cod. società/applicazione a cui è relativa la fattura corrispondente all'unità documentaria
4871        																	-- 263: (valorizzata solo se si cerca nelle sezioni dei ricevuti per competenza) Data e ora di presa in carico (nel formato del parametro di config. FMT_STD_TIMESTAMP)
4872        																	-- ATTENZIONE: Se FlgIndexerOverflowIn è pari a 1, qualora la stored non vada a sua volta in overflow, dato che il resultset trovato dalla stored dovrà essere ripassato al searcher di Lucene esso non è paginato indipendentemente dal fatto che l¿apposito input lo richieda. 
4873        																	--		   Inoltre nel caso di FlgIndexerOverflowIn pari a 1 dato che dopo il nuovo passaggio per il searcher di Lucene si renderà necessaria una nuova chiamata alla stored solo le prime 2 colonne del clob sono valorizzate sicuramente
4874        			PercorsoRicercaXMLIO		IN OUT	NOCOPY CLOB,		-- In INPUT: Lista con nomi e id. (da quella di livello più alto in giù) delle cartelle/folder (libreria inclusa) che compongono il percorso il cui contenuto si stava visualizzando quando si è chiesto di fare la ricerca corrente. 
4875        																	-- In OUTPUT: Lista con nomi e id. (da quella di livello più alto in giù) delle cartelle/folder (libreria inclusa) che compongono il percorso in cui si cerca ora (ovvero CercaInFolderIO).
4876        																	--		  Dato che un oggetto può avere più folderizzazioni e quindi più percorsi il percorso mostrato è il primo visibile all'utente e che passa per il percorso in input se specificato.
4877        																	-- Sia in input che in output può non essere valorizzato, allora vuol dire che si è cercato o si cerca in tutta la repository
4878        																	-- Ogni cartella/folder nel percorso corrisponde ad un tag "Riga" con le seguenti colonne:
4879        																	-- 1: Id. del folder/livello
4880        																	-- 2: Nome del folder
4881        			DettagliCercaInFolderOut	OUT		NOCOPY CLOB,		-- XML contenente attributi e dati del folder CercaInFolderIO, e se questo è NULL quelli dell'eventuale workspace specificato nei criteri avanzati di ricerca(XML conforme a schema LISTA_STD.xsd). 
4882        																	-- viene restituito SOLO se il parametro compatibilty_level<=2
4883        																	-- Ogni attributo-dato è una colonna dell'unico tag Riga presente. Gli attributi-colonne sono:
4884        																	-- 1: Valore fisso 1
4885        																	-- 2: Identificativo del nodo dell'albero che rappresenta il folder nel percorso di ricerca (da usarsi per navigazione ad albero)(solo per folder)
4886        																	-- 3: Nome/descrizione
4887        																	-- 4: Codice che indica il tipo di cosa descrive la riga: folder (F) o un workspace (W)
4888        																	-- Qualora inizi per F può essere seguito da _ + una specializzazione del folder tra: FORUM = Un forum; THREAD = Un thread di discussione; CLASSIF = Una classificazione; FASC_TITOLARIO = Un fascicolo di titolario; SOTTOFASC_TITOLARIO = Un sottofascicolo di titolario; INSERTO_TITOLARIO = Un inserto di un sottofascicolo di titolario; 
4889        																	-- 5: Dettagli sul folder da mostrare come suo alt
4890        																	-- 6: <non utilizzata>
4891        																	-- 7: ID_FOLDER o ID_WORKSPACE del folder o workspace rappresentato
4892        																	-- 8:(valori 1/0) Se 1 indica che il folder è selezionabile (quando la lista viene richiamata come lista di scelta), se 0 no
4893        																	-- 9:(valori 1/0/NULL) Se 1 significa che il folder è nei preferiti, se 0 che non è tra i preferiti dell'utente ma può esservi messo, se NULL che non è nè può essere messo nei preferiti
4894        																	-- 10: N.ro di cartelle direttamente contenute nel folder
4895        																	-- 11: N.ro di unità documentarie direttamente contenute nel folder/workspace
4896        																	-- 12: Azioni possibili. E' una stringa di 1(=consentita) o 0(=non consentita) in cui ogni posizione corrisponde ad un'azione:
4897        																	--	 1:  Apertura di un nuovo sub-folder 
4898        																	--	 2:  Inserimento di un nuovo documento
4899        																	--	 3:  Copia in altro folder
4900        																	--	 4:  Spostamento in altro folder
4901        																	--	 5:  Incolla/inserimento di un sub-folder
4902        																	--	 6:  Incolla/inserimento di un documento già esistente
4903        																	--	 7:  Modifica
4904        																	--	 8:  Cancellazione
4905        																	--	 9:  Lock
4906        																	--	 10: Unlock
4907        																	--	 11: Apertura sub-forum
4908        																	--	 12: Apertura nuovo thread di discussione
4909        																	--	 13: Incolla/inserimento di un forum già esistente
4910        																	--	 14: Incolla/inserimento di un thread di discussione già esistente
4911        																	--	 15: Aggiunta risposta/contributo ad un thread di discussione
4912        																	--	 16: Aggiunta ai preferiti
4913        																	--	 17: Eliminazione dai preferiti
4914        																	--	 18: Selezione (per la finalità FinalitaIn)
4915        																	-- 13: Tipo (solo per folder)
4916        																	-- 14: Id. della libreria di appartenenza (solo per folder)
4917        																	-- 15: Data di apertura (solo per folder)
4918        																	-- 16: Data di chiusura (solo per folder)
4919        																	-- 17: Oggetto/descrizione estesa
4920        																	-- 18: Attuale assegnazione (solo per folder)
4921        																	-- 19: Nominativi esterni associati
4922        																	-- 20: Estremi di un eventuale lock messo sul folder/workspace o su folder che lo contiene
4923        																	-- 21: Livello di evidenza del folder
4924        																	-- 22: Livello di riservatezza del folder
4925        																	-- 23: Flag 1/0/NULL che se 1 indica che associato al folder vi è almeno un processo/procedimento
4926        																	-- 25: Flag 1/0/NULL che (se 1) indica che il numero di oggetti contenuti supera il massimo consentito per esplodere il folder come nodo dell'albero
4927        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4928        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4929        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
4930        			FinalitaIn				IN		VARCHAR2 DEFAULT NULL				-- Motivo per cui viene chiamata la pagina popolata attraverso questa funzione. Valori ammessi:
4931        																	-- FOLDERIZZA = Per selezionare la cartella in cui collocare un'unità documentaria o una cartella
4932        																	-- FASCICOLA_UD = Per selezionare il fascicolo di titolario in cui collocare un'unità documentaria
4933        																	-- FOLDERIZZA_UD = Per selezionare la cartella in cui collocare un'unità documentaria
4934        																	-- FOLDERIZZA_FOLDER = Per selezionare la cartella in cui collocare una cartella
4935        																	-- COLLEGA_UD = Per selezionare un'unità documentaria da mettere in relazione con un'altra
4936        																	-- IMPORTA_UD = Per selezionare UD da importare come allegato
4937        																	-- IMPORTA_FILE = Per selezionare UD da cui importare file
4938        																	-- COLLEGA_FOLDER = Per selezionare una cartella da mettere in relazione (non di appartenenza) con un'altra
4939        																	-- SEL_X_ACCESSO_ATTI = Selezione di fascicoli/aggregati documentali (identificati da un protocollo capofila) per una richiesta di accesso atti d'archivio
4940        			) return PLS_INTEGER;									-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4941        
4942        
4943        	/*********** funzione per testare se un certo folder o unità documentaria è nei preferiti di un utente **********/
4944        	function TestIsFavourite(
4945        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4946        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4947        			IdObjIn				IN		INTEGER)						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4948        			return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia nei preferiti, altrimenti 0
4949        
4950        	/*********** funzione per testare se un certo folder o unità documentaria è negli inviati di un utente **********/
4951        	function TestIsSentObj(
4952        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4953        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4954        			IdObjIn				IN		INTEGER)						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4955        			return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia negli inviati, altrimenti 0
4956        
4957        	/*********** funzione per testare se un certo folder o unità documentaria è negli inviati per conoscenza/condivisione (i.e. "notified") di un utente **********/
4958        	function TestIsNotifiedObj(
4959        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4960        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4961        			IdObjIn				IN		INTEGER)						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4962        			return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia negli inviati per conoscenza/condivisione, altrimenti 0
4963        
4964        	/*********** funzione per testare se un certo folder o unità documentaria è nella sezione "Eliminati" dell'area di lavoro di un utente **********/
4965        	function TestIsInTrash(
4966        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4967        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4968        			IdObjIn				IN		INTEGER)						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4969        			return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia nella sezione "Eliminati" dell'utente, altrimenti 0
4970        
4971        	/*********** funzione per testare se un certo folder o unità documentaria è nella sezione "News" dell'area di lavoro di un utente **********/
4972        	function TestIsInNews(
4973        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4974        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4975        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4976        			TsInNewsDaOut			OUT		DATE							-- Timestamp a partire dal quale l'oggetto è nelle news
4977        			)return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia nella sezione "News" dell'utente, altrimenti 0
4978        
4979        	------------overload della funzione precedente ma senza argomenti di output	
4980        	function TestIsInNews(
4981        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4982        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4983        			IdObjIn				IN		INTEGER						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4984        			)return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia nella sezione "News" dell'utente, altrimenti 0
4985        
4986        	/*********** funzione per testare se un certo folder o unità documentaria è nella sezione "Work" dell'area di lavoro di un utente **********/
4987        	function TestIsInWork(
4988        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4989        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4990        			IdObjIn				IN		INTEGER)						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4991        			return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia nella sezione "Work" dell'utente, altrimenti 0
4992        
4993        	/********** funzione per mettere nei preferiti dell'utente di lavoro un folder o unità documentaria 	**********/
4994        	function AddToFavourites(
4995        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4996        																	-- (obblig). Codice identificativo del token di connessione
4997        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4998        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se va aggiunto ai preferiti un folder (=F) o un'unità documentaria (=U)
4999        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da aggiungere ai preferiti
5000        			MotiviIn				IN		VARCHAR2 DEFAULT NULL,				-- Motivi per cui mettere l'oggetto nei preferiti
5001        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5002        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5003        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5004        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5005        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5006        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
5007        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5008        
5009        	/********** funzione per mettere nei recenti di un utente un folder o unità documentaria 	**********/
5010        	function AddToRecent(
5011        			FlgTpDominioAutIn		IN		PLS_INTEGER,						-- (obblig.) Indica il tipo del dominio in cui si sta lavorando: 2 = Sogg. produttore; 3 = AOO
5012        			IdDominioAutIn		IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,		-- (obblig.) Identificativo del sogg. produttore o AOO in cui si sta lavorando
5013        			IdUserIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- (obblig.) Id. dell'utente 
5014        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se va aggiunto ai recenti un folder (=F) o un'unità documentaria (=U)
5015        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da aggiungere ai recenti
5016        			FlgVLIn				IN		VARCHAR2,						-- (obblig.) Indica se l'oggetto va aggiunto ai visionati di recente (=V) o ai lavorati di recente (=L) o ai documenti scarcati di recente (=D)
5017        			MotiviIn				IN		VARCHAR2 DEFAULT NULL,				-- Motivi per cui mettere l'oggetto nei recenti
5018        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5019        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5020        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5021        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5022        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5023        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
5024        			IdDocDownloadedIn			IN		INTEGER DEFAULT NULL,				-- ID_DOC del documento scaricato (obbigatorio se FlgVLIn=D)
5025        			NroVerDownloadedIn		IN		PLS_INTEGER DEFAULT NULL			-- N.ro di versione del documento IdDocDownloadedIn che è stata scaricata
5026        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5027        
5028        
5029        	/********** funzione per togliere dai preferiti dell'utente di lavoro un folder o unità documentaria 			**********/
5030        	/********** ATTENZIONE: il preferito eliminato non viene messo nella sezione eliminati dell'area lavoro utente 	**********/
5031        	/**********			se si vuole che sia messo negli eliminati va usata la funzione RemoveFromSezAreaLav		**********/
5032        	function RemoveFromFavourites(
5033        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5034        																	-- (obblig). Codice identificativo del token di connessione
5035        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5036        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se va tolto dai preferiti un folder (=F) o un'unità documentaria (=U)
5037        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da togliere dai preferiti
5038        			MotiviIn				IN		VARCHAR2 DEFAULT NULL,				-- Motivi per cui togliere l'oggetto dai preferiti
5039        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5040        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5041        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5042        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5043        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5044        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
5045        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5046        
5047        	/********** funzione per togliere un folder o unità documentaria da una sezione (news, bozze, inviati, preferiti, eliminati)		**********/
5048        	/********** dell'area di lavoro utente in cui si trovi													**********/
5049        	function RemoveFromSezAreaLav(
5050        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5051        																	-- (obblig). Codice identificativo del token di connessione
5052        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5053        			CISezioneAreaLavIn		IN		VARCHAR2,						-- (obblig.) Indica la sezione dell'area di lavoro utente da cui rimuovere l'oggetto. Valori ammessi:
5054        																			-- N = News
5055        																			-- B = Bozze
5056        																			-- I = Inviati
5057        																			-- C = inviati per conoscenza/condivisione
5058        																			-- P = Preferiti
5059        																			-- E = Eliminati
5060        																			-- W = Work
5061        																			-- NA = Ricevuti per competenza
5062        																			-- NCC = Ricevuti per conoscenza
5063        																			-- NNA = Nelle news perchè hanno notifiche automatiche
5064        																			-- DA  = Da assegnare
5065        																			-- DFA = Da fascicolare
5066        																			-- DFI = Da firmare
5067        																			-- DAV = Da approvare con visto
5068        																			-- DPR = Da protocollare
5069        																			-- S = Export e stampe
5070        																			-- ADA = Annullamenti da autorizzare
5071        																			-- DIA = Da inviare / assegnare
5072        																			-- IEML = Inviati via e-mail
5073        			FlgTipoObjIn			IN		VARCHAR2,					-- (obblig. salvo che se CISezioneAreaLavIn è una prevista solo per i documenti; valori F/U) Indica se va tolto dalla sezione un folder (=F) o un'unità documentaria (=U)
5074        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da togliere dalla sezione
5075        			MotiviIn				IN		VARCHAR2 DEFAULT NULL,				-- Motivi per cui togliere l'oggetto dalla sezione dell'area di lavoro
5076        			URIXmlOut				OUT		NOCOPY CLOB,					-- Lista con gli URI delle versioni elettroniche di documento (se FlgTipoObjIn=U) o del folder (se FlgTipoObjIn=F) il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
5077        																	-- Ogni versione/folder è un tag Riga che contiene le seguenti colonne: 
5078        																	-- 1:	Identificativo del documento cui è relativa la versione o del folder 
5079        																	-- 2:	N.ro progressivo della versione
5080        																	-- 3: URI della versione/folder
5081        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5082        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5083        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5084        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5085        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5086        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
5087        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5088        
5089        	/********** funzione per rimettere (se possibile) un folder o unità documentaria in una sezione (news, bozze, inviati, preferiti) 	**********/
5090        	/********** dell'area di lavoro utente da cui è stato tolto in precedenza 										**********/
5091        	function RecoverToSezAreaLav(
5092        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5093        																	-- (obblig). Codice identificativo del token di connessione
5094        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5095        			CISezioneAreaLavIn		IN		VARCHAR2,						-- (obblig.) Indica la sezione dell'area di lavoro utente in cui ripristinare l'oggetto. Valori ammessi:
5096        																			-- N = News
5097        																			-- W = Work
5098        																			-- B = Bozze
5099        																			-- I = Inviati
5100        																			-- C = inviati per conoscenza/condivisione
5101        																			-- P = Preferiti
5102        																			-- NA = Ricevuti per competenza
5103        																			-- NCC = Ricevuti per conoscenza
5104        																			-- NNA = Nelle news perchè hanno notifiche automatiche
5105        																			-- DA  = Da assegnare
5106        																			-- DFA = Da fascicolare
5107        																			-- DFI = Da firmare
5108        																			-- DAV = Da approvare con visto
5109        																			-- DPR = Da protocollare
5110        																			-- S = Export e stampe
5111        																			-- ADA = Annullamenti da autorizzare
5112        																			-- DIA = Da inviare / assegnare
5113        																			-- IEML = Inviati via e-mail
5114        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig. salvo che se CISezioneAreaLavIn è una prevista per i soli documenti; valori F/U) Indica se va ripristinato un folder (=F) o un'unità documentaria (=U)
5115        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da ripristinare nella sezione dell'area di lavoro utente
5116        			URIXmlOut				OUT		NOCOPY CLOB,					-- Lista con gli URI delle versioni elettroniche di documento (se FlgTipoObjIn=U) o del folder (se FlgTipoObjIn=F) il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
5117        																	-- Ogni versione/folder è un tag Riga che contiene le seguenti colonne: 
5118        																	-- 1:	Identificativo del documento cui è relativa la versione o del folder 
5119        																	-- 2:	N.ro progressivo della versione
5120        																	-- 3: URI della versione/folder
5121        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5122        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5123        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5124        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5125        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5126        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
5127        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5128        
5129        	/****** funzione per ottenere l'ID_NODO che rappresenta un certo folder trovato in un percorso di ricerca il cui ID_NODO è fornito in input 				****/
5130        	/****** come ID_NODO viene restituito quello che corrisponde ad una folderizzazione - all'interno del percorso di ricerca - i cui livelli sono tutti 		****/
5131        	/****** folder visibili all'utente di lavoro, se non ce n'è uno così anche uno i cui livelli non sono tutti folder visibili all'utente						****/
5132        	function GetIdNodo (
5133        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5134        																			-- (obblig). Codice identificativo del token di connessione
5135        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
5136        																			-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5137        			IdNodoPercorsoRicercaIn IN		VARCHAR2,						-- ID_NODO che corrisponde all¿attuale percorso di ricerca
5138        			IdFolderIn 				IN		DMT_FOLDER.ID_FOLDER%type,		-- (obblig.) ID_FOLDER del folder di cui determinare l'ID_NODO (all'interno del percorso di ricerca)
5139        			IdNodoOut				OUT		VARCHAR2,						-- Id. nodo corrispondente al folder
5140        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5141        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5142        			ErrMsgOut				OUT 	VARCHAR2						-- Messaggio d'errore
5143        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5144        
5145        	/****** funzione per ottenere l'ID_NODO del folder che rappresenta una certa classifica il cui ID è fornito in input			 							****/
5146        	/****** come ID_NODO viene restituito quello che corrisponde ad una folderizzazione - all'interno del percorso di ricerca - i cui livelli sono tutti 		****/
5147        	/****** folder visibili all'utente di lavoro, se non ce n'è uno così anche uno i cui livelli non sono tutti folder visibili all'utente						****/
5148        	function GetIdNodoClassifica (
5149        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5150        																			-- (obblig). Codice identificativo del token di connessione
5151        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
5152        																			-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5153        			IdClassificazioneIn 	IN		DMT_TITOLARIO.ID_CLASSIFICAZIONE%type,		
5154        																			-- (obblig.) ID_CLASSIFICAZIONE della classifica i cui determinare l'ID_NODO (all'interno del percorso di ricerca)
5155        			IdNodoOut				OUT		VARCHAR2,						-- Id. nodo corrispondente al folder della classifica
5156        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5157        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5158        			ErrMsgOut				OUT 	VARCHAR2						-- Messaggio d'errore
5159        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5160        
5161        	/******	funzione per sapere se i contenuti di un certo folder (quelli "direttamente" innestati nel folder) si possono listare tutti, 	*****/
5162        	/*****	senza effettuare prima una ricerca, nella lista a destra della finestra di "esplora risorse" con cui si esplora la repository 	*****/
5163        	/****** folder particolari: ID vuoto => intera repository; ID= -999 => preferiti dell'utente											*****/
5164        	function TestShowFolderContentAllowed(
5165        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5166        																			-- (obblig). Codice identificativo del token di connessione
5167        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
5168        																			-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5169        			IdFolderIn 				IN		DMT_FOLDER.ID_FOLDER%type,		-- ID_FOLDER del folder di cui determinare i livelli del percorso corrispondente (all'interno del percorso di ricerca)
5170        																			-- se NULL si intende l'intera repository, se -999 si intendono i preferiti
5171        			FlgFolderUDIn			IN 		VARCHAR2 DEFAULT NULL,			-- (valori F/U/NULL): indica se la ricerca va ristretta ai soli documenti (U) o alle sole cartelle (F)
5172        			FlgShowContentAllowedOut OUT	PLS_INTEGER,					-- (valori 1/0) Se 1 significa che per il folder IdFolderIn si possono mostrare come lista i contenuti (del tipo/i indicati da FlgFolderUDIn)
5173        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5174        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5175        			ErrMsgOut				OUT 	VARCHAR2						-- Messaggio d'errore
5176        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5177        
5178        	/****** funzione per ottenere i dati - come xml- dei livelli di un percorso che rappresenta un certo folder - il cui ID_FOLDER è fornito in input - 		****/
5179        	/****** che è stato trovato in un percorso di ricerca  il cui ID_NODO è fornito in input (IdNodoPercorsoRicercaIn)											****/
5180        	/****** come percorso viene restituito quello che corrisponde ad una folderizzazione - all'interno del percorso di ricerca - i cui livelli sono tutti 		****/
5181        	/****** folder visibili all'utente di lavoro, se non ce n'è uno così anche uno i cui livelli non sono tutti folder visibili all'utente						****/
5182        	function GetLivPathExFolder(
5183        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5184        																			-- (obblig). Codice identificativo del token di connessione
5185        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
5186        																			-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5187        			IdNodoPercorsoRicercaIn IN		VARCHAR2,						-- (obblig.) ID_NODO che corrisponde all¿attuale percorso di ricerca
5188        			IdFolderIn 				IN		DMT_FOLDER.ID_FOLDER%type,		-- (obblig.) ID_FOLDER del folder di cui determinare i livelli del percorso corrispondente (all'interno del percorso di ricerca)
5189        			FlgFolderUDIn			IN 		VARCHAR2 DEFAULT NULL,			-- (valori F/U/NULL): indica se la ricerca va ristretta ai soli documenti (U) o alle sole cartelle (F)
5190        																			-- serve per determinare la colonna 3 dei livelli del percorso restituiti in PercorsoXMLOut
5191        			PercorsoXMLOut			OUT	NOCOPY CLOB,						-- Lista con i dati dei livelli del percorso corrispondente al folder (con folderizzazione all'interno di quella rappresentata dal nodo IdNodoPercorsoRicercaIn) 
5192        																			-- Ogni cartella/folder nel percorso corrisponde ad un tag "Riga" con le seguenti colonne:
5193        																			-- 1: Id. del folder/livello
5194        																			-- 2: Nome del folder
5195        																			-- 3: (valori 1/0) Se 1 nell'albero dell'archivio il folder è un nodo di cui NON si possono mostrare tutti contenuti (quelli del/i tipi indicati dall'argomento FlgUDFolderIn)
5196        																			-- 4: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare fascicoli di titolario all'interno del folder-livello
5197        																			-- 5: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare unità documentarie all'interno del folder-livello
5198        																			-- 6: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare folder custom all'interno del folder-livello
5199        			FlgShowContentAllowedOut OUT	PLS_INTEGER,					-- (valori 1/0) Se 1 significa che per il folder IdFolderIn si possono mostrare come lista i contenuti (del tipo/i indicati da FlgFolderUDIn)
5200        																			-- concide sempre con la colonna 3 dell'ultima riga di PercorsoXMLOut	 
5201        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5202        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5203        			ErrMsgOut				OUT 	VARCHAR2						-- Messaggio d'errore
5204        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5205        
5206        	/****** funzione per ottenere i dati - come xml- dei livelli di un percorso che rappresenta un certa folderizzazione il cui ID_NODO è fornito in input 		****/											
5207        	function GetLivPathExNodo(
5208        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5209        																			-- (obblig). Codice identificativo del token di connessione
5210        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
5211        																			-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5212        			IdNodoIn 				IN		VARCHAR2,						-- (obblig.) ID_NODO del nodo che rappresenta la folderizzazione di cui estrarre i dati dei livelli come xml
5213        			FlgFolderUDIn			IN 		VARCHAR2 DEFAULT NULL,			-- (valori F/U/NULL): indica se la ricerca va ristretta ai soli documenti (U) o alle sole cartelle (F)
5214        																			-- serve per determinare la colonna 3 dei livelli del percorso restituiti in PercorsoXMLOut
5215        			PercorsoXMLOut			OUT	NOCOPY CLOB,						-- Lista con i dati dei livelli del percorso corrispondente al nodo/folderizzazione 
5216        																			-- Ogni cartella/folder nel percorso corrisponde ad un tag "Riga" con le seguenti colonne:
5217        																			-- 1: Id. del folder/livello
5218        																			-- 2: Nome del folder
5219        																			-- 3: (valori 1/0) Se 1 nell'albero dell'archivio il folder è un nodo di cui NON si possono mostrare tutti contenuti (quelli del/i tipi indicati dall'argomento FlgUDFolderIn)
5220        																			-- 4: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare fascicoli di titolario all'interno del folder-livello
5221        																			-- 5: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare unità documentarie all'interno del folder-livello
5222        																			-- 6: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare folder custom all'interno del folder-livello
5223        			FlgShowContentAllowedOut OUT	PLS_INTEGER,					-- (valori 1/0) Se 1 significa che per il folder finale della folderizzazione corrispondente all'ID_NODO si possono mostrare come lista i contenuti (del tipo/i indicati da FlgFolderUDIn)
5224        																			-- concide sempre con la colonna 3 dell'ultima riga di PercorsoXMLOut	 
5225        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5226        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5227        			ErrMsgOut				OUT 	VARCHAR2						-- Messaggio d'errore
5228        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5229        
5230        
5231        	/******* funzione per renderizzare la repository o una sua porzione in una struttura ad albero 	*******/
5232        	/******* Ogni folder e documento è un nodo dell'albero. 							*******/
5233        	/******* Ogni nodo ha un identificativo univoco in tutta la repository.					*******/
5234        	/******* Infatti l'identificativo di un nodo non contiene solo indicazione dell'oggetto che 	*******/ 
5235        	/******* rappresenta ma anche del percorso di navigazione con cui vi si è arrivati			*******/
5236        	/******* La parte dell'identificativo successiva all'ultimo / è l'id. del folder/unità doc. 	*******/
5237        	/******* rappresentata dal nodo (preceduto da U nel caso di unità doc.)					*******/
5238        	/******* Il root node è quello di cui si rappresenta l'alberatura sottostante: 			*******/
5239        	/********		se pari a / si intende l'intera repository; 						*******/
5240        	/********		se pari a /PREF o /-999 si intendono i preferiti dell'utente					*******/
5241        	function NavigaRepositoryTree(
5242        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5243        																	-- (obblig). Codice identificativo del token di connessione
5244        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5245        			FlgEscludiUDIn			IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL): se 1 indica che nell'albero vanno mostrare solo le cartelle e non le unità documentarie
5246        			IdRootNodeIO			IN OUT	VARCHAR2,						-- Identificativo del nodo root. 
5247        																	-- Se in input non è valorizzato si intende pari al nodo root definito nelle impostazioni personali dell'utente e se anche questo non è valorizzato si intende pari all'intera repository (ovvero /).
5248        																	-- Valori particolari sono: 
5249        																	-- / 		= Intera repository
5250        																	-- /PREF 	= Preferiti dell'utente di lavoro
5251        			IdNodeToExplImplIn		IN 		VARCHAR2 DEFAULT NULL,				-- Identificativo del nodo (sottostante il root) da esplodere o chiudere 
5252        			FlgExplodeNodeIn 			IN		PLS_INTEGER DEFAULT 1,				--(valori 1/0/NULL) se 1 significa che il nodo IdNodeToExplImplIn va esploso, se 0 o NULL il nodo IdNodeToExplImplIn va chiuso
5253        			TreeXMLOut				OUT		NOCOPY CLOB,					-- Lista con i nodi dell'albero che rappresenta la repository o una sua porzione-ramo (XML conforme a schema LISTA_STD.xsd)
5254        																	-- Ogni folder o unità documentarie è un nodo è un tag Riga che contiene le seguenti colonne:
5255        																	-- 1:	Indica il livello del nodo (valori da 1 a n)
5256        																	-- 2:	Identificativo univoco del nodo
5257        																	-- 3:	Nome/descrizione del nodo
5258        																	-- 4: Codice che indica il tipo di nodo (da utilizzare per l'imagine del nodo)
5259        																	-- Inizia per: F = folder/Cartella; U = Unità documentaria
5260        																	-- Qualora inizi per F può essere seguito da _ + una specializzazione del folder tra: FORUM = Un forum; THREAD = Un thread di discussione; CLASSIF = Una classificazione; FASC_TITOLARIO = Un fascicolo di titolario; SOTTOFASC_TITOLARIO = Un sottofascicolo di titolario; INSERTO_TITOLARIO = Un inserto di un sottofascicolo di titolario; 
5261        																	-- Qualora inizi per U può essere seguito da _ + una specializzazione del unità documentaria tra: AVVIO_THREAD = L'avvio di un thread di discussione; RISPOSTA_THREAD = Una risposta/contributo in un thread di discussione														
5262        																	-- 5: Dettagli sul nodo da mostrare come alt dell'immagine del nodo
5263        																	-- 6:(valori 2/1/-1/0) Indica se il nodo va mostrato esploso (=2), se è esplodibile (ha "figli" in n.ro inferiore ad un limite stabilito) ma non va esploso (=1), se ha "filgli" ma non è esplodibile in quanto questi superano il limite stabilito (=-1), se non è esplodibile (=0)
5264        																	-- 7: ID_UD o ID_FOLDER dell'Unità documentaria o Folder rappresentato dal nodo
5265        																	-- 8:(valori 1/0) Se 1 indica che il nodo è selezionabile (quando l'albero viene richiamato come lista di scelta), se 0 no
5266        																	-- 9:(valori 1/0/NULL) Se 1 significa che il nodo è nei preferiti, se 0 che non è tra i preferiti dell'utente ma può esservi messo, se NULL che non è nè può essere messo nei preferiti
5267        																	-- 10: N.ro di cartelle direttamente contenute nel nodo (calcolato solo se parametro compatibilty_level<=2)
5268        																	-- 11: N.ro di unità documentarie direttamente contenute nel nodo (calcolato solo se parametro compatibilty_level<=2)
5269        																	-- 12: Azioni possibili sul nodo. E' una stringa di 1(=consentita) o 0(=non consentita) in cui ogni posizione corrisponde ad un'azione:
5270        																	--	 1:  Apertura di un nuovo sub-folder 
5271        																	--	 2:  Inserimento di un nuovo documento
5272        																	--	 3:  Copia in altro folder
5273        																	--	 4:  Spostamento in altro folder
5274        																	--	 5:  Incolla/inserimento di un sub-folder
5275        																	--	 6:  Incolla/inserimento di un documento già esistente
5276        																	--	 7:  Modifica
5277        																	--	 8:  Cancellazione
5278        																	--	 9:  Lock
5279        																	--	 10: Unlock
5280        																	--	 11: Apertura sub-forum
5281        																	--	 12: Apertura nuovo thread di discussione
5282        																	--	 13: Incolla/inserimento di un forum già esistente
5283        																	--	 14: Incolla/inserimento di un thread di discussione già esistente
5284        																	--	 15: Aggiunta risposta/contributo ad un thread di discussione
5285        																	--	 16: Aggiunta ai preferiti
5286        																	--	 17: Eliminazione dai preferiti
5287        																	--	 18: Selezione (per la finalità FinalitaIn)
5288        																	--	 19: Visualizzazione file primario
5289        																	--	 20: Eliminazione dalla cartella che il nodo superiore rappresenta
5290        																	--	 21: Download del file primario
5291        																	-- 13: Id. del documento primario (ID_DOC) (valorizato se trattasi di unità documentaria)
5292        																	-- 14: Id. della libreria di appartenenza
5293        																	-- 15: N.ro ultima versione elettronica del doc. primario che è valida visibile all'utente. Se NULL significa che non c'è vers. elettronica valida visibile all'utente di lavoro.
5294        																	-- 16: Nome con cui mostrare il file di ultima versione elettronica del doc. primario che è valida e visibile all'utente
5295        																	-- 17: Se è un fascicolo basato sul titolario contiene i campi che a GUI vengono mostrati per un fascicolo.
5296        																	--	   Nell'ordine: Nome fascicolo, Anno, ID. classifica, Indice classifica (come va mostrato a GUI), N° fascicolo, N° sottofascicolo, N° inserto.
5297        																	--	   I vari campi sono separati da **
5298        																	-- 18: Livello di riservatezza
5299        																	-- 19: Path completo del nodo (se è un folder)
5300        																	-- 20: Codice secondario del fascicolo/folder
5301        																	-- 21: Estremi capofila del fascicolo/folder
5302        			PercorsoRootNodeXMLOut		OUT		NOCOPY CLOB,		-- Lista con nomi e id. (da quella di livello più alto in giù) dei nodi che portano all'attuale root-node (lui incluso).
5303        																	-- Ogni nodo corrisponde ad un tag "Riga" con le seguenti colonne:
5304        																	-- 1: Id. del nodo
5305        																	-- 2: Nome del nodo
5306        																	-- 3: Id. del folder o unità documentaria che il nodo rappresenta
5307        																	-- 4: (valori 1/0) Se 1 è un nodo non esplodibile perchè ha troppi nodi figli
5308        																	-- 5: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare fascicoli di titolario all'interno del folder-livello
5309        																	-- 6: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare unità documentarie all'interno del folder-livello
5310        																	-- 7: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare sub-folder custom all'interno del folder-livello															
5311        			DettagliRootNodeOut		OUT		NOCOPY CLOB,			-- XML contenente attributi e dati del root node da mostrare nel dettaglio sopra l'albero (XML conforme a schema LISTA_STD.xsd). 
5312        																	-- viene restituito SOLO se il parametro compatibilty_level<=2
5313        																	-- Ogni attributo-dato è una colonna dell'unico tag Riga presente. Gli attributi-colonne sono:
5314        																	-- 1: Valore fisso 1
5315        																	-- 2: Identificativo del nodo dell'albero
5316        																	-- 3: Nome/descrizione
5317        																	-- 4: Codice che indica il tipo di nodo (da utilizzare per l'imagine del nodo)
5318        																	-- Inizia per: F = folder/Cartella; U = Unità documentaria
5319        																	-- Qualora inizi per F può essere seguito da _ + una specializzazione del folder tra: FORUM = Un forum; THREAD = Un thread di discussione; CLASSIF = Una classificazione; FASC_TITOLARIO = Un fascicolo di titolario; SOTTOFASC_TITOLARIO = Un sottofascicolo di titolario; INSERTO_TITOLARIO = Un inserto di un sottofascicolo di titolario; 
5320        																	-- Qualora inizi per U può essere seguito da _ + una specializzazione del unità documentaria tra: AVVIO_THREAD = L'avvio di un thread di discussione; RISPOSTA_THREAD = Una risposta/contributo in un thread di discussione														
5321        																	-- 5: Dettagli sul nodo da mostrare come alt dell'immagine del nodo
5322        																	-- 6:(valori 2/1/-1/0) Indica se il nodo va mostrato esploso (=2), se è esplodibile (ha "figli" in n.ro inferiore ad un limite stabilito) ma non va esploso (=1), se ha "filgli" ma non è esplodibile in quanto questi superano il limite stabilito (=-1), se non è esplodibile (=0)
5323        																	-- 7: ID_UD o ID_FOLDER dell'Unità documentaria o Folder rappresentato dal nodo
5324        																	-- 8:(valori 1/0) Se 1 indica che il nodo è selezionabile (quando l'albero viene richiamato come lista di scelta), se 0 no
5325        																	-- 9:(valori 1/0/NULL) Se 1 significa che il nodo è nei preferiti, se 0 che non è tra i preferiti dell'utente ma può esservi messo, se NULL che non è nè può essere messo nei preferiti
5326        																	-- 10: N.ro di cartelle direttamente contenute nel nodo 
5327        																	-- 11: N.ro di unità documentarie direttamente contenute nel nodo
5328        																	-- 12: Azioni possibili sul nodo. E' una stringa di 1(=consentita) o 0(=non consentita) in cui ogni posizione corrisponde ad un'azione:
5329        																	--	 1:  Apertura di un nuovo sub-folder 
5330        																	--	 2:  Inserimento di un nuovo documento
5331        																	--	 3:  Copia in altro folder
5332        																	--	 4:  Spostamento in altro folder
5333        																	--	 5:  Incolla/inserimento di un sub-folder
5334        																	--	 6:  Incolla/inserimento di un documento già esistente
5335        																	--	 7:  Modifica
5336        																	--	 8:  Eliminazione
5337        																	--	 9:  Lock
5338        																	--	 10: Unlock
5339        																	--	 11: Apertura sub-forum
5340        																	--	 12: Apertura nuovo thread di discussione
5341        																	--	 13: Incolla/inserimento di un forum già esistente
5342        																	--	 14: Incolla/inserimento di un thread di discussione già esistente
5343        																	--	 15: Aggiunta risposta/contributo ad un thread di discussione
5344        																	--	 16: Aggiunta ai preferiti
5345        																	--	 17: Eliminazione dai preferiti
5346        																	--	 18: Selezione (per la finalità FinalitaIn)
5347        																	--	 20: Eliminazione dalla cartella che il nodo superiore rappresenta
5348        																	-- 13: Tipo
5349        																	-- 14: Id. della libreria di appartenenza (solo per folder)
5350        																	-- 15: Data di stesura/arrivo (per unità documentaria) o apertura (per folder)
5351        																	-- 16: Data di chiusura (solo per folder)
5352        																	-- 17: Oggetto/descrizione estesa
5353        																	-- 18: Attuale assegnazione (solo quelle per competenza nel caso di unità documentaria)
5354        																	-- 19: Nominativi esterni associati
5355        																	-- 20: Estremi di un eventuale lock messo sul folder/workspace o su folder che lo contiene
5356        																	-- 21: Livello di evidenza del folder
5357        																	-- 22: Livello di riservatezza del folder
5358        																	-- 23: Flag 1/0/NULL che se 1 indica che associato al folder vi è almeno un processo/procedimento
5359        																	-- 25: Flag 1/0/NULL che (se 1) indica che il numero di oggetti contenuti supera il massimo consentito per esplodere il folder come nodo dell'albero
5360        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5361        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5362        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
5363        			FinalitaIn				IN		VARCHAR2 DEFAULT NULL,				-- Motivo per cui viene chiamata la pagina con l'albero popolato attraverso questa funzione. Valori ammessi:
5364        																	-- FOLDERIZZA = Per selezionare la cartella in cui collocare un'unità documentaria o una cartella
5365        																	-- FASCICOLA_UD = Per selezionare il fascicolo di titolario in cui collocare un'unità documentaria
5366        																	-- FOLDERIZZA_UD = Per selezionare la cartella in cui collocare un'unità documentaria
5367        																	-- FOLDERIZZA_FOLDER = Per selezionare la cartella in cui collocare una cartella
5368        																	-- COLLEGA_UD = Per selezionare un'unità documentaria da mettere in relazione con un'altra
5369        																	-- COLLEGA_FOLDER = Per selezionare una cartella da mettere in relazione (non di appartenenza) con un'altra
5370        																	-- SEL_X_ACCESSO_ATTI = Selezione di fascicoli/aggregati documentali (identificati da un protocollo capofila) per una richiesta di accesso atti d'archivio
5371        			NonSoloInArchivioCorrenteIn	IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0) Se 1 significa che vanno mostrati anche gli oggetti in archivio di deposito o storico, altrimenti solo quelli in archivio corrente
5372        			FlgNoDatiRootNodeIn			IN	PLS_INTEGER DEFAULT NULL
5373        																	-- (valori 1/0/NULL) Se 1 indica che non serve che siano calcolati e restituiti in output PercorsoRootNodeXMLOut e DettagliRootNodeOut
5374        			) return PLS_INTEGER;									-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5375        
5376        	/******* funzione per renderizzare i nodo figli di un nodo dell'albero dell'archivio documentale	*******/
5377        	/******* in cui ogni folder e documento è un nodo dell'albero. 										*******/
5378        	/******* Ogni nodo ha un identificativo univoco in tutta la repository.								*******/
5379        	/******* Infatti l'identificativo di un nodo non contiene solo indicazione dell'oggetto che 		*******/ 
5380        	/******* rappresenta ma anche del percorso di navigazione con cui vi si è arrivati					*******/
5381        	/******* La parte dell'identificativo successiva all'ultimo / è l'id. del folder/unità doc. 		*******/
5382        	/******* rappresentata dal nodo (preceduto da U nel caso di unità doc.)								*******/
5383        	/******* Identificativi nodo particolari sono: 														*******/
5384        	/********		/ : si intende l'intera repository; 												*******/
5385        	/********		/PREF o /-999: si intendono i preferiti dell'utente									*******/
5386        	function ExplodeTreeNode(
5387        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5388        																	-- (obblig). Codice identificativo del token di connessione
5389        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
5390        																	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5391        			FlgEscludiUDIn			IN		PLS_INTEGER DEFAULT NULL,
5392        																	-- (valori 1/0/NULL): se 1 indica che nell'albero vanno mostrare solo le cartelle e non le unità documentarie
5393        			IdNodeToExplodeIn		IN 		VARCHAR2 DEFAULT NULL,	-- (obblig.) Identificativo del nodo da esplodere  
5394        			TreeXMLOut				OUT		NOCOPY CLOB,			-- Lista con i nodi dell'albero che sono figli del nodo esploso (XML conforme a schema LISTA_STD.xsd)
5395        																	-- Ogni folder o unità documentarie è un nodo è un tag Riga che contiene le seguenti colonne:
5396        																	-- 1:	Indica il livello del nodo (valori da 1 a n)
5397        																	-- 2:	Identificativo univoco del nodo
5398        																	-- 3:	Nome/descrizione del nodo
5399        																	-- 4: Codice che indica il tipo di nodo (da utilizzare per l'imagine del nodo)
5400        																	-- Inizia per: F = folder/Cartella; U = Unità documentaria
5401        																	-- Qualora inizi per F può essere seguito da _ + una specializzazione del folder tra: FORUM = Un forum; THREAD = Un thread di discussione; CLASSIF = Una classificazione; FASC_TITOLARIO = Un fascicolo di titolario; SOTTOFASC_TITOLARIO = Un sottofascicolo di titolario; INSERTO_TITOLARIO = Un inserto di un sottofascicolo di titolario; 
5402        																	-- Qualora inizi per U può essere seguito da _ + una specializzazione del unità documentaria tra: AVVIO_THREAD = L'avvio di un thread di discussione; RISPOSTA_THREAD = Una risposta/contributo in un thread di discussione														
5403        																	-- 5: Dettagli sul nodo da mostrare come alt dell'immagine del nodo
5404        																	-- 6:(valori 2/1/-1/0) Indica se il nodo va mostrato esploso (=2), se è esplodibile (ha "figli" in n.ro inferiore ad un limite stabilito) ma non va esploso (=1), se ha "filgli" ma non è esplodibile in quanto questi superano il limite stabilito (=-1), se non è esplodibile (=0)
5405        																	-- 7: ID_UD o ID_FOLDER dell'Unità documentaria o Folder rappresentato dal nodo
5406        																	-- 8:(valori 1/0) Se 1 indica che il nodo è selezionabile (quando l'albero viene richiamato come lista di scelta), se 0 no
5407        																	-- 9:(valori 1/0/NULL) Se 1 significa che il nodo è nei preferiti, se 0 che non è tra i preferiti dell'utente ma può esservi messo, se NULL che non è nè può essere messo nei preferiti
5408        																	-- 10: N.ro di cartelle direttamente contenute nel nodo (calcolato solo se parametro compatibilty_level<=2)
5409        																	-- 11: N.ro di unità documentarie direttamente contenute nel nodo (calcolato solo se parametro compatibilty_level<=2)
5410        																	-- 12: Azioni possibili sul nodo. E' una stringa di 1(=consentita) o 0(=non consentita) in cui ogni posizione corrisponde ad un'azione:
5411        																	--	 1:  Apertura di un nuovo sub-folder 
5412        																	--	 2:  Inserimento di un nuovo documento
5413        																	--	 3:  Copia in altro folder
5414        																	--	 4:  Spostamento in altro folder
5415        																	--	 5:  Incolla/inserimento di un sub-folder
5416        																	--	 6:  Incolla/inserimento di un documento già esistente
5417        																	--	 7:  Modifica
5418        																	--	 8:  Cancellazione
5419        																	--	 9:  Lock
5420        																	--	 10: Unlock
5421        																	--	 11: Apertura sub-forum
5422        																	--	 12: Apertura nuovo thread di discussione
5423        																	--	 13: Incolla/inserimento di un forum già esistente
5424        																	--	 14: Incolla/inserimento di un thread di discussione già esistente
5425        																	--	 15: Aggiunta risposta/contributo ad un thread di discussione
5426        																	--	 16: Aggiunta ai preferiti
5427        																	--	 17: Eliminazione dai preferiti
5428        																	--	 18: Selezione (per la finalità FinalitaIn)
5429        																	--	 19: Visualizzazione file primario
5430        																	--	 20: Eliminazione dalla cartella che il nodo superiore rappresenta
5431        																	--	 21: Download del file primario
5432        																	-- 13: Id. del documento primario (ID_DOC) (valorizato se trattasi di unità documentaria)
5433        																	-- 14: Id. della libreria di appartenenza
5434        																	-- 15: N.ro ultima versione elettronica del doc. primario che è valida visibile all'utente. Se NULL significa che non c'è vers. elettronica valida visibile all'utente di lavoro.
5435        																	-- 16: Nome con cui mostrare il file di ultima versione elettronica del doc. primario che è valida e visibile all'utente
5436        																	-- 17: Se è un fascicolo basato sul titolario contiene i campi che a GUI vengono mostrati per un fascicolo.
5437        																	--	   Nell'ordine: Nome fascicolo, Anno, ID. classifica, Indice classifica (come va mostrato a GUI), N° fascicolo, N° sottofascicolo, N° inserto.
5438        																	--	   I vari campi sono separati da **
5439        																	-- 18: Livello di riservatezza
5440        																	-- 19: Path completo del nodo (se è un folder)
5441        																	-- 20: Codice secondario del fascicolo/folder
5442        																	-- 21: Estremi capofila del fascicolo/folder
5443        			ErrContextOut			OUT		VARCHAR2,				-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5444        			ErrCodeOut				OUT		PLS_INTEGER,			-- N.ro errore di uscita
5445        			ErrMsgOut				OUT 		VARCHAR2,			-- Messaggio d'errore
5446        			FinalitaIn				IN		VARCHAR2 DEFAULT NULL,	-- Motivo per cui viene chiamata la pagina con l'albero popolato attraverso questa funzione. Valori ammessi:
5447        																	-- FOLDERIZZA = Per selezionare la cartella in cui collocare un'unità documentaria o una cartella
5448        																	-- FASCICOLA_UD = Per selezionare il fascicolo di titolario in cui collocare un'unità documentaria
5449        																	-- FOLDERIZZA_UD = Per selezionare la cartella in cui collocare un'unità documentaria
5450        																	-- FOLDERIZZA_FOLDER = Per selezionare la cartella in cui collocare una cartella
5451        																	-- COLLEGA_UD = Per selezionare un'unità documentaria da mettere in relazione con un'altra
5452        																	-- COLLEGA_FOLDER = Per selezionare una cartella da mettere in relazione (non di appartenenza) con un'altra
5453        			NonSoloInArchivioCorrenteIn	IN		PLS_INTEGER DEFAULT NULL			-- (valori 1/0) Se 1 significa che vanno mostrati anche gli oggetti in archivio di deposito o storico, altrimenti solo quelli in archivio corrente
5454        			) return PLS_INTEGER;									-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5455        
5456        	/********** funzione per settare il nodo root con cui si deve aprire l'albero della repository per l'utente di lavoro	**********/
5457        	function SetStartingRootNode(
5458        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5459        																	-- (obblig). Codice identificativo del token di connessione
5460        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5461        			IdNodeIn				IN		VARCHAR2,						-- Id. del nodo root con cui sia deve aprire l'albero
5462        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5463        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5464        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5465        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5466        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5467        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
5468        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5469        
5470        
5471        	/************* funzione per ottenere l'id. del workspace di bozze di un dato utente in un dato dominio ***********/
5472        	function GetIdDraftWorkspace(
5473        			IdDominioIn				IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,	-- (obblig.) Identificativo del sogg. produttore o AOO in cui trovare l'id. delle bozze
5474        			IdUserIn				IN 		DMT_USERS.ID_USER%type DEFAULT NULL,	-- (obblig. se UsernameIn non valorizzato) Id. dell'utente x cui trovare l'id. delle bozze
5475        			UsernameIn				IN		DMT_USERS.USERNAME%type DEFAULT NULL	-- (obblig. se IdUserIn non valorizzato) Username (interna al sistema) dell'utente x cui trovare l'id. delle bozze
5476        			) return INTEGER;												-- Id. (ID_WORKSPACE) del workspace che rappresenta le bozze dell'utente nel dato dominio. 
5477        																	-- può essere NULL in caso di errore o qualora le bozze dell'utente non esistano
5478        	---overload della precedente con return 1/0 e Id. del workspace di bozze come output
5479        	function GetIdDraftWorkspace(
5480        			IdDominioIn				IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,	-- (obblig.) Identificativo del sogg. produttore o AOO in cui trovare l'id. delle bozze
5481        			IdUserIn				IN 		DMT_USERS.ID_USER%type DEFAULT NULL,	-- (obblig. se UsernameIn non valorizzato) Id. dell'utente x cui trovare l'id. delle bozze
5482        			UsernameIn				IN		DMT_USERS.USERNAME%type DEFAULT NULL,	-- (obblig. se IdUserIn non valorizzato) Username (interna al sistema) dell'utente x cui trovare l'id. delle bozze
5483        			IdDraftWorkspaceOut		OUT		DMT_WORKSPACES.ID_WORKSPACE%type		-- Id. del workspace che rappresenta le bozze dell'utente nel dato dominio. 
5484        			) return INTEGER;												-- è 1 se il workspace di bozze è stato trovato, altrimenti 0
5485        
5486        	/************* funzione per ottenere l'id. del workspace dei temporanei in un dato dominio ***********/
5487        	function GetIdTempWorkspace(
5488        			IdDominioIn				IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type	-- (obblig.) Identificativo del sogg. produttore o AOO in cui trovare l'id. delle bozze
5489        			) return INTEGER;											-- Id. (ID_WORKSPACE) del workspace dei temporanei nel dato dominio. 
5490        																	-- può essere NULL in caso di errore o qualora il workspace dei temporanei non esista
5491        
5492        	/*********** funzione per ottenere l'id. della libreria di un oggetto della repository **********/
5493        	function GetIdLibrary(
5494        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se l'oggetto è un folder (=F) o per un unità documentaria (=U)
5495        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto 
5496        			IdLibraryOut			OUT		INTEGER)						-- Id. della libreria
5497        			return PLS_INTEGER;											-- restituisce 1 in caso tutto OK, altrimenti 0
5498        
5499        
5500        	/********	funzione per ottenere la lista dei workspace visibili	*******/
5501        	function TrovaWorkspace(
5502        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5503        																	-- (obblig). Codice identificativo del token di connessione
5504        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5505        			FlgPreimpostaFiltroIn		IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1 i filtri e l'ordinamento vengono settati secondo le impostazioni dell'utente di lavoro, altrimenti restano come passati in input
5506        			--------------- inizio filtri di ricerca-------------------
5507        			IdWorkspaceIO			IN OUT	DMT_WORKSPACES.ID_WORKSPACE%type,		-- 1° filtro di ricerca: id. del workspace da ricercare
5508        			SearchWordsIO			IN OUT	VARCHAR2,						-- 2° filtro di ricerca: Parola/e che devono essere contenute nel nome e/o descrizione e/o note dei workspace estrarre (ricerca di tipo contains)
5509        			CIProvWorkspaceIO			IN OUT	DMT_WORKSPACES.PROV_CI_WORKSPACE%TYPE,	-- 3° filtro di ricerca: Codice identificativo del workspace nel sistema di provenienza: ricerca esatta case-sensitive  
5510        			CodApplOwnerIO			IN OUT	VARCHAR2,						-- 4° filtro di ricerca: Codice dell'applicazione "proprietaria" dei workspace. Se valorizzata pari a #BY_CONN_TKN e si è connessi da un'applicazione esterna si ricercano solo workspace di cui è proprietaria quell'applicazione
5511        			CodIstApplOwnerIO			IN OUT	VARCHAR2,						-- 5° filtro di ricerca: Codice dell'istanza di applicazione "proprietaria" dei workspace. Se valorizzata pari a #BY_CONN_TKN e si è connessi da un'applicazione esterna si ricercano solo workspace di cui è proprietaria l'istanza di applicazione esterna da cui si è connessi
5512        			FlgRestrApplOwnerIO		IN OUT	INTEGER,						-- (valori 1/0/NULL) Se 1 vengono estratti solo workspace di cui è proprietaria l'applicazione proprietaria (ed eventuale istanza) specificata in CodApplOwnerIO; se 0 o NULL e se CodApplOwnerIO è valorizzata vengono estratti solo i workspace senza applicazione proprietaria o con applicazione proprietria pari a quella specificata
5513        			FlgInclAnnullatiIO		IN OUT	INTEGER,						-- (valori 1/0/NULL) 6° filtro di ricerca: se 1 vengono estratti anche i workspace logicamente annullati, altrimenti no	
5514        			AltriCriteriIO			IN OUT 	NOCOPY CLOB,					-- Altri criteri di ricerca sugli attributi addizionali (XML conforme a schema LISTA_STD.xsd). Se più di uno vengono applicati in AND.
5515        																	-- Ogni criterio è un tag Riga che può contenere le seguenti colonne:
5516        																	--	1) Nome (ATTR_NAME) dell'attributo cui è relativo il criterio
5517        																	--	2) (obblig.) Operatore logico. Valori possibili:
5518        																	--		"uguale" (ricerca esatta) 
5519        																	--		"simile a (case-sensitive)" (ricerca case-sensitive in like)
5520        																	--		"simile a (case-insensitive)" (ricerca case-insensitive in like e che ignora i caratteri quali spazi, ., ecc)
5521        																	--		"maggiore" (se attributo numerico o data)
5522        																	--		"maggiore o uguale" (se attributo numerico o data)
5523        																	--		"minore" (se attributo numerico o data)
5524        																	--		"minore o uguale" (se attributo numerico o data)
5525        																	--		"tra" (se attributo numerico o data)
5526        																	--		"non valorizzato"
5527        																	--		"valorizzato"
5528        																	--		"spuntato" (se attributo di tipo casella di spunta)
5529        																	--		"non spuntato" (se attributo di tipo casella di spunta)
5530        																	--	3) 1° valore di confronto (obblig. e gestito solo se l'operatore non ha uno dei seguenti valori: valorizzato, non valorizzato, spuntato, non spuntato) (se l'attributo è numerico deve avere la virgola come separatore dei decimali, se è di tipo data deve essere in uno dei formato dati dai parametri di conf. FMT_STD_DATA e FMT_STD_TIMESTAMP)
5531        																	--	4) 2° valore di confronto (obblig. e gestito solo se l'operatore è "tra") (se l'attributo è numerico deve avere la virgola come separatore dei decimali, se è di tipo data deve essere in uno dei formato dati dai parametri di conf. FMT_STD_DATA e FMT_STD_TIMESTAMP)
5532        																	--	5) Label dell''attributo cui è relativo il criterio (se sotto-attributo di complesso <label del complesso> - <label del sotto-attributo>
5533        			------------- inizio argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
5534        			ColOrderByIO			IN OUT	VARCHAR2,						-- Indica il/i numeri della/e colonna dell'XML (CLOB ListaXMLOut) di output per cui ordinare i record nell'XML stesso (si può ordinare per tutte le colonne da 1 a 3). Se l'ordinamento è per più colonne queste vanno separate con "," (es: 2; 2,3)
5535        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul tipo di ordinamento una qualche preimpostazione di sistema/utente ecc.
5536        																	-- se non valorizzato (neppure in output) la lista di record restituita non è ordinata
5537        			FlgDescOrderByIO  		IN OUT	VARCHAR2,						-- E' una stringa di 1 o 0/NULL, tanti quanti le colonne di ordinamento, separati da ",": 1 significa che l'ordinamento per la data colonna deve essere discendente anzichè ascendente (es: 1; 1,0; 1, )
5538        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul verso di ordinamento una qualche preimpostazione di sistema/utente ecc.			
5539        			FlgSenzaPaginazioneIn 		IN 		PLS_INTEGER DEFAULT NULL,            	-- (valori 1/0/NULL) Se 1 l'estrazione non è paginata, altrimenti sì
5540        			NroPaginaIO      			IN OUT	PLS_INTEGER,                  		-- E' il numero della pagina da estrarre; se NULL e l'estrazione è paginata viene estratta la prima pagina
5541           			BachSizeIO				IN OUT	PLS_INTEGER,					-- Indica il massimo n.ro di record da estrarre se l'estrazione non è paginata (FlgSenzaPaginazioneIn=1)  
5542        																	-- Indica la dimensione (n.ro di record) della pagina se l'estrazione è paginata (FlgSenzaPaginazioneIn 0 o NULL) e in tal caso se non è valorizzato la dimensione della pagina è quella settata per l'utente di lavoro o è pari al valore del parametro STD_PAGE_NUM_ROW del dominio di lavoro				
5543        			OverFlowLimitIn			IN		PLS_INTEGER DEFAULT NULL,			-- E' il n.ro di record soddisfacenti la ricerca superato il quale la funzione deve restituire errore di overflow
5544        			FlgSenzaTotIn			IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 significa che non è richiesto come output il totale dei record soddisfacenti la ricerca (se la ricerca è paginata per la prima pagina il totale viene calcolato comunque, per le successive no)
5545        			NroTotRecOut			OUT		PLS_INTEGER,					-- E' il n.ro di record complessivi trovati (valorizzato solo se FlgSenzaTotIn è 0 o NULL o se si estrae la prima pagina)
5546             			NroRecInPaginaOut 		OUT   	PLS_INTEGER,                     		-- E' il numero di record nella pagina (valorizzato solo se l'estrazione è paginata, ovvero se FlgSenzaPaginazioneIn 0 o NULL)
5547        			------------- fine argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
5548        			ListaXMLOut				OUT		NOCOPY CLOB,					-- Lista dei workspace trovati(XML conforme a schema LISTA_STD.xsd)
5549        																	-- Ogni workspace è un tag Riga che può contenere le seguenti colonne:
5550        																	-- 1: Id. del workspace 
5551        																	-- 2: Nome del workspace
5552        																	-- 3: Descrizione del template
5553        																	-- 4: Annotazioni sul workspace
5554        																	-- 5: Flag che indica che il workspace è stato creato dall'applicazione CodApplOwnerIO ed eventuale istanza CodIstApplOwnerIO
5555        																	-- 6: Descrizione dell'applicazione (ed eventuale istanza) che ha creato il workspace
5556        																	-- 7: Cod. identificativo del workspace nel sistema di provenienza
5557        																	-- 8: Timestamp di creazione workspace (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
5558        																	-- 9: Descrizione dell'utente di creazione del workspace
5559        																	-- 10: Timestamp di ultima modifica dei dati del workspace (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
5560        																	-- 11: Descrizione dell'utente di ultima modifica dei dati del workspace																						
5561        																	-- 12: (valori 1/0) Indicatore di workspace riservato dal sistema e non modificabile da applicativo
5562        																	-- 13: (valori 1/0) Indicatore di workspace valido (non annullato)
5563        																	-- 14: (valori 1/0) Indicatore di workspace che consente la propagazione dei permessi ai documenti contenuti
5564        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5565        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5566        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5567        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5568        
5569        	/********* 	funzione per ottenere i dati di dettaglio di un workspace (tranne i suoi permessi) da mostrare nella GUI 	********/
5570        	function LoadDettWorkspace(
5571        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5572        																	-- (obblig). Codice identificativo del token di connessione
5573        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5574        			IdWorkspaceIO			IN OUT	DMT_WORKSPACES.ID_WORKSPACE%type,		-- Id. del workspace di cui estrarre i dati di dettaglio
5575        																	-- Il valore di input viene usato per individuare il workspace di cui estrarre i dati di dettaglio
5576        			NomeWorkspaceIO			IN OUT	DMT_WORKSPACES.NOME_WORKSPACE%type,		-- Nome del workspace di cui estrarre i dati di dettaglio
5577        																	-- Il valore di input (con ricerca case-insensitive in like senza forzare il % finale) viene usato per individuare il workspace
5578        			DesWorkspaceOut			OUT		DMT_WORKSPACES.DES_WORKSPACE%type,		-- Descrizione del workspace
5579        			AnnotazioniOut			OUT		DMT_WORKSPACES.NOTE%type,			-- Annotazioni sul workspace
5580        			FlgConsPropagazPermessiOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 indica che il workspace consente la propagazione dei permessi di accesso ai documenti contenuti
5581        			EstremiLockOut			OUT		VARCHAR2,						-- Autore + data e ora dell'eventuale lock attivo sul workspace
5582        			FlgAnnOut				OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 indica che il workspace è logicamente annullato
5583        			CIProvWorkspaceOut		OUT 		DMT_WORKSPACES.PROV_CI_WORKSPACE%TYPE,	-- Codice identificativo del workspace nel sistema di provenienza   
5584        			RowidOut				OUT		VARCHAR2,						-- Rowid del record del workspace
5585        			AttributiAddOut			OUT		NOCOPY CLOB,					-- Lista degli eventuali ulteriori attributi custom del workspace (XML conforme a schema LISTA_STD.xsd)
5586        																	-- Ogni attributo è un tag "Riga" che contiene le seguenti colonne:
5587        																	-- 1: N.ro (valori da 1 a n) del riquadro (fieldset) in cui mostrare l'attributo
5588        																	-- 2: Nome identificativo dell'attributo (ATTR_NAME)
5589        																	-- 3: Label del campo con cui rappresentare l'attributo 
5590        																	-- 4: Tipo di attributo. Valori: DATE, DATETIME, TEXT, TEXT-AREA, CHECK, INTEGER, EURO, DECIMAL, COMBO-BOX, LISTA
5591        																	-- 5: N.ro massimo di caratteri/cifre
5592        																	-- 6: Larghezza del campo con cui rappresentare l'attributo (size)
5593        																	-- 7: Valore dell'attributo
5594        																	-- 8: Label del riquadro (fieldset) in cui mostrare l'attributo
5595        																	-- 9: (valori 1/0) 1 indica che l'attributo è obbligatorio, 0 che è facoltativo
5596        																	-- 10: Altezza (in nro righe) del campo con cui rappresentare l'attributo (se TEXT-AREA)
5597        																	-- 11:(valori 1/0) 1 indica se l'attributo è modificabile, 0 che è in sola visualizzazione   
5598        			FlgMostraAltriAttrOut		OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 nella GUI vanno mostrati gli attributi addizionali (ce ne sono di visibile all'utente), se 0 no
5599        			DettagliOperazioniOut		OUT		NOCOPY CLOB,					-- E' una lista mono-riga (XML conforme a schema LISTA_STD.xsd) che contiene indicazione di quali operazioni sono consentite all'utenza di lavoro sul workspace.
5600        																	-- Le colonne dell'unico tag Riga presente sono:
5601        																	-- 1: (valore 1/0) Modifica dei dati: 1 = Consentita; 0 = Non consentita
5602        																	-- 2: (valore 1/0) Annullamento logico/cancellazione: 1 = Consentito; 0 = Non consentito
5603        																	-- 3: (valore 1/0) Ripristino: 1 = Consentito; 0 = Non consentito
5604        																	-- 4: (valore 1/0) Modifica permessi: 1 = Consentita; 0 = Non consentita
5605        																	-- 5: (valore 1/0) Lock: 1 = Consentito; 0 = Non consentito
5606        																	-- 6: (valore 1/0) Unlock: 1 = Consentito; 0 = Non consentito	
5607        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5608        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5609        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5610        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5611        
5612        	/************ funzione per ottenere le registrazioni/numerazioni date ad un'unità doc. nel formato in cui vanno passate alla AddDoc, UpdDocUD ecc ********/
5613        	function GetRegNumDateUD(
5614        			IdUDIn				IN		DMT_UNITA_DOC.ID_UD%type,			--(obblig.) Id. dell'unità documentaria di cui estrarre le registrazioni/numerazioni				
5615        			FlgIntEstIn				IN		VARCHAR2 DEFAULT NULL,				-- (valori I/E) Indica se devono essere restituite solo registrazioni/numerazioni che non siano numerazioni date internamente al sistema  (se =E) o solo numerazioni date internamente al sistema  (se =I)
5616        			CodCategoriaExcludedIn 		IN		VARCHAR2 DEFAULT NULL,				-- Codice della categoria di registrazione da escludere da quelle estratte
5617        			RegNumXMLOut			OUT		NOCOPY CLOB,					-- Lista di registrazioni/numerazioni date all'unità documentaria
5618        																	-- Ciscuna riga della lista contiene le seguenti colonne:
5619        																	--	1: Codice della ategoria di registrazione/numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
5620        																	--	2: Sigla di registrazione/numerazione
5621        																	--	3: Anno di registrazione/numerazione
5622        																	--	4: N.ro di registrazione/numerazione
5623        																	--	5: Data e ora di registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
5624        																	--	6: Identificativo dell'utente che ha effettuato la registrazione/numerazione
5625        																	--	7: Codice che identifica l'utente che ha effettuato la registrazione/numerazione nell'applicazione esterna da cui ci si connette 
5626        																	--	8: Denominazione dell'utente che ha effettuato la registrazione/numerazione
5627        																	--	9: Identificativo della UO presso cui è stata effettuata la registrazione/numerazione
5628        																	--	10: Denominazione della UO presso cui è stata effettuata la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5629        																	--	11: N.ri livello della UO presso cui è stata effettuata la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5630        																	--	12: Codice che identifica la registrazione nel sistema in cui è stata data
5631        																	--	13: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
5632        																	--	14: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è annullata
5633        																	--	15: Data e ora di annullamento della registrazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
5634        																	--	16: Identificativo dell'unità documentaria che rappresenta l'atto di autorizzazione all'annullamento della data registrazione/numerazione 
5635        																	--	17: Estremi dell'atto di autorizzazione annullamento (alternativo al precedente e gestito solo se quello non è valorizzato)
5636        																	--	18: Motivazioni dell'annullamento della data registrazione/numerazione
5637        																	--	19: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata richiesta dal sistema documentale
5638        																	--	20: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata generata dal sistema documentale
5639        																	--	21: Id. dell'utente che ha annullato la registrazione
5640        																	--	22: Cognome e nome dell'utente che ha annullato la registrazione
5641        																	--	23: Eventuale sub o appendice del n.ro di registrazione
5642        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5643        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5644        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5645        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5646        
5647        
5648        	/**********estrae i dati dell'ACL di un'unità documentaria nonchè tutti i dati correlati al controllo degli accessi sulla stessa (ereditarietà permessi ecc.) ******/
5649        	function LoadACLUD(
5650        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5651        																	-- (obblig). Codice identificativo del token di connessione
5652        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5653        			IdUDIn				IN		DMT_UNITA_DOC.ID_UD%type,			--(obblig.) Id. dell'unità documentaria di cui estrarre i dati di controllo accesso
5654        			FlgEreditarietaPossibileOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 è possibile (in base a quelli che sono gli oggetti contenitore) che l'unità documentaria erediti i permessi da un folder o workspace che la contiene
5655        			FlgEreditarietaConsentitaOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 all'unità documentaria è consentito ereditare i permessi da un folder o workspace che la contiene, altrimenti no
5656        			FlgTipoOggEreditaDaOut		OUT		VARCHAR2,						-- (valori F/W/NULL) Indica se attualmente vengono ereditati i permessi da un folder (=F) o da un workspace (=W) che contiene l'unità documentaria
5657        			IdOggEreditaDaOut			OUT		INTEGER,						-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'eventuale oggetro da cui attualmente vengono ereditati i permessi
5658        			DesOggEreditaDaOut		OUT		VARCHAR2,						-- Descrizione (path, comprensivo di libreria, nel caso di un folder e nome nel caso di un workspace) dell'eventuale oggetro da cui attualmente vengono ereditati i permessi				
5659        			FlgTipoOggPossibileEredDaOut	OUT		VARCHAR2,						-- (valori F/W/NULL) Indica il tipo, folder (=F) o workspace (=W), dell'oggetto contenitore dell'unità documentaria che è l'unico da cui essa può ereditare i permessi 
5660        			IdOggPossibileEredDaOut		OUT		INTEGER,						-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'oggetto contenitore dell'unità documentaria che è l'unico da cui essa può ereditare i permessi
5661        			DesOggPossibileEredDaOut	OUT		VARCHAR2,						-- Descrizione (path, comprensivo di libreria, nel caso di un folder e nome nel caso di un workspace) dell'oggetto contenitore dell'unità documentaria che è l'unico da cui essa può ereditare i permessi				
5662        			ACLXMLOut				OUT		NOCOPY CLOB,					-- Lista con le entry (ACE) dell'ACL dell'unità documentaria (xml comforme a schema LISTA_STD.xsd)
5663        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5664        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5665        																	--		Valori possibili:
5666        																	--			SP	= Soggetto produttore  
5667        																	-- 			AOO	= AOO 
5668        																	-- 			UT 	= Utente
5669        																	--			SV	= Scrivania virtuale
5670        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5671        																	--			G	= Gruppo
5672        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5673        																	--	2: Identificativo del destinatario del permesso
5674        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5675        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5676        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5677        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5678        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5679        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5680        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5681        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5682        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5683        																	-- 		o codice rapido del gruppo (se ha un corrispondente gruppo di soggetti rubrica) o dell'utente
5684        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5685        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5686        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5687        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5688        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5689        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5690        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5691        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5692        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5693        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5694        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5695        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5696        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5697        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5698        																	--	18:(valori 1/0/NULL) Indica se la visualizzazione dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5699        																	--	19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5700        																	--	20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5701        																	--	21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5702        																	--	22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5703        																	--	23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5704        																	--	24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5705        																	--	25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file è relativo alle sole versioni pubblicate
5706        																	--	26: Lista degli identificativi (ID_DOC) dei documenti (separati da |*|) sui cui file associati è assentita o negata la visualizzazione. 
5707        																	--		ATTENZIONE: Se vuota la visibilità è assentita o negata sui file di tutti i documenti.
5708        																	--	27: Lista degli identificativi (ID_DOC) dei documenti (separati da |*|) sui cui file associati è assentita o negata la modifica. 
5709        																	--		ATTENZIONE: Se vuota la modifica è assentita o negata sui file di tutti i documenti.
5710        																	-- 	28: Indica su quali file dell'unità documentaria l'accesso è limitato alle loro versioni pubblicate: è una lista di ID_DOC (dei documenti con file dell'unità doc.) separati da |*|
5711        																	--		ATTENZIONE: Se vuota e se colonna 25=1 significa che l'accesso è limitato alle versioni pubblicate per tutti i file 
5712        																	--	29: Dati identificativi del destinatario del permesso
5713        																	--    30: (valori 1/0) Flag di ACE ereditata
5714        																	-- 31: Descrizione estesa del destinatario del permesso
5715        																	-- 32: (valori 1/0) Se 1 indica che il destinatario del permesso è anche assegnatario dell'UD
5716        																	-- 33: (valori 1/0) Se 1 indica che il destinatario del permesso è anche uno che ha una notifica (tipicamente invio cc) relativa all'UD
5717        			ListaDocUDXMLOut			OUT		NOCOPY CLOB,					-- Lista con i dati dei documenti dell'unità documentaria (xml comforme a schema LISTA_STD.xsd)
5718        																	-- Ciscun documento è un tag "Riga" che contiene le seguenti colonne:
5719        																	--	1: Identificativo (ID_DOC) del documento
5720        																	--	2: Natura della relazione del documento con l'unità documentaria (primario, allegato, ecc)
5721        																	--	3: N.ro di allegato rappresentato dal documento
5722        																	--	4: Diplayname del file che costituisce l'ultima versione valida del documento
5723        																	--	5: N.ro di versione del file che costituisce l'ultima versione valida del documento
5724        																	--	6: (valori 1/0) Indica se l'ultima versione valida è pubblicata o meno
5725        																	--	7: Diplayname del file che costituisce l'ultima versione valida e pubblicata del documento
5726        																	--	8: N.ro di versione del file che costituisce l'ultima versione valida e pubblicata del documento
5727        			FlgAbilUpdOut			OUT		PLS_INTEGER,					-- (valori 1/0) Indica se l'utenza di lavoro è abilitata alla modifica dei permessi dell'unità documentaria
5728        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5729        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5730        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5731        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5732        
5733        
5734        	/**********serve a settare i dati dell'ACL di un'unità documentaria nonchè tutti i dati correlati al controllo degli accessi sulla stessa (ereditarietà permessi ecc.) ******/
5735        	function SetACLUD(
5736        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5737        																	-- (obblig). Codice identificativo del token di connessione
5738        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5739        			IdUDIn				IN		DMT_UNITA_DOC.ID_UD%type,			--(obblig.) Id. dell'unità documentaria di cui settare i dati di controllo accesso
5740        			FlgEreditarietaConsentitaIn	IN		PLS_INTEGER DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
5741        																	-- (valori 1/0) Se 1 all'unità documentaria è consentito ereditare i permessi da un folder o workspace che la contiene, altrimenti no
5742        			FlgTipoOggEreditaDaIn		IN		VARCHAR2 DEFAULT dmpk_utility.GetValConfigParamText(1, NULL, 'STR_VAL_NO_UPD'),
5743        																	-- (valori F/W/NULL) Indica se devono essere ereditati i permessi da un folder (=F) o da un workspace (=W) che contiene l'unità documentaria
5744        			IdOggEreditaDaIn			IN		INTEGER DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
5745        																	-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'eventuale oggetro da cui devono essere ereditati i permessi
5746        			FlgModACLIn				IN		VARCHAR2 DEFAULT 'I',				-- (valori I/C) Indica se le ACE indicate nell'argomento successivo sono fornite in modo incrementale (=I) (solo quelle da aggiungere) oppure completo (=C), vale a dire che dovranno soppiantare tutte quelle già presenti (tranne le ACE ereditate)
5747        			ACLXMLIn				IN		CLOB,							-- Lista con le entry (ACE) dell'ACL dell'unità documentaria (xml comforme a schema LISTA_STD.xsd)
5748        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5749        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5750        																	--		Valori possibili:
5751        																	--			SP	= Soggetto produttore  
5752        																	-- 			AOO	= AOO 
5753        																	-- 			UT 	= Utente
5754        																	--			SV	= Scrivania virtuale
5755        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5756        																	--			G	= Gruppo
5757        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5758        																	--	2: Identificativo del destinatario del permesso
5759        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5760        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5761        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5762        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5763        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5764        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5765        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5766        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5767        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5768        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5769        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5770        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5771        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5772        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5773        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5774        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5775        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5776        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5777        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5778        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5779        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5780        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5781        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5782        																	--	18:(valori 1/0/NULL) Indica se la visualizzazione dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5783        																	--	19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5784        																	--	20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5785        																	--	21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5786        																	--	22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5787        																	--	23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5788        																	--	24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5789        																	--	25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file è relativo alle sole versioni pubblicate
5790        																	--	26: Lista degli identificativi (ID_DOC) dei documenti (separati da |*|) sui cui file associati è assentita o negata la visualizzazione. 
5791        																	--		ATTENZIONE: Se vuota la visibilità è assentita o negata sui file di tutti i documenti.
5792        																	--	27: Lista degli identificativi (ID_DOC) dei documenti (separati da |*|) sui cui file associati è assentita o negata la modifica. 
5793        																	--		ATTENZIONE: Se vuota la modifica è assentita o negata sui file di tutti i documenti.
5794        																	-- 	28: Indica su quali file dell'unità documentaria l'accesso è limitato alle loro versioni pubblicate: è una lista di ID_DOC (dei documenti con file dell'unità doc.) separati da |*|
5795        																	--		ATTENZIONE: Se vuota e se colonna 25=1 significa che l'accesso è limitato alle versioni pubblicate per tutti i file 
5796        																	--	30: (valori 1/NULL) Se 1 è una entry ereditata	
5797        			URIXmlOut				OUT		NOCOPY CLOB,					-- Lista con gli URI delle versioni elettroniche dei documenti dell'unità doc. il cui profilo va aggiornato sui container a seguito dell'operazione di aggiornamento permessi (xml conforme a schema LISTA_STD.xsd)
5798        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
5799        																	-- 1:	Identificativo del documento cui è relativa la versione
5800        																	-- 2:	N.ro progressivo della versione
5801        																	-- 3: URI della versione
5802        			FlgIgnoreWarningIn 		IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 0 o NULL significa che in presenza di WARNING la stored si comporta come in caso di errore; se 1 gli WARNING vengono ignorati
5803        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5804        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5805        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5806        			WarningMsgOut			OUT		VARCHAR2,						-- Messaggio di warning (valorizzato solo se non c'è errore)
5807        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5808        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5809        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
5810        			FlgCallByGUIIn			IN		PLS_INTEGER DEFAULT 1				-- (1/0/NULL) Se 1 l'API che chiama la stored è chiamata dalla GUI di una web application per cui gli id. dei soggetti non vengono considerati se non sono popolati anche altri campi visibili a video o se non sono congruenti con i valori dei campi stessi
5811        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine (senza warning), altrimenti 0 (in caso di errore o warning)
5812        
5813        	/*********** funzione per ottenere i permessi che un'unità documentaria eredita da un dato folder o workspace **********/
5814        	function  GetInheritedACLxUD(
5815        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5816        																	-- (obblig). Codice identificativo del token di connessione
5817        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5818        			FlgTipoOggEreditaDaIn		IN		VARCHAR2,						-- (obblig. valori F/W/NULL) Indica se devono essere ereditati i permessi da un folder (=F) o da un workspace (=W) che contiene l'unità documentaria
5819        			IdOggEreditaDaIn			IN		INTEGER,						-- (obblig.) Identificativo (ID_FOLDER o ID_WORKSPACE) dell'oggetto da cui devono essere ereditati i permessi
5820        			ACLXMLOut				OUT		NOCOPY CLOB,					-- Lista con le entry (ACE) ereditate (xml comforme a schema LISTA_STD.xsd)
5821        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5822        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5823        																	--		Valori possibili:
5824        																	--			SP	= Soggetto produttore  
5825        																	-- 			AOO	= AOO 
5826        																	-- 			UT 	= Utente
5827        																	--			SV	= Scrivania virtuale
5828        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5829        																	--			G	= Gruppo
5830        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5831        																	--	2: Identificativo del destinatario del permesso
5832        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5833        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5834        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5835        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5836        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5837        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5838        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5839        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5840        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5841        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5842        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5843        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5844        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5845        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5846        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5847        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5848        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5849        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5850        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5851        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5852        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5853        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5854        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5855        																	--	18:(valori 1/0/NULL) Indica se la visualizzazione dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5856        																	--	19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5857        																	--	20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5858        																	--	21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5859        																	--	22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5860        																	--	23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5861        																	--	24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5862        																	--	25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file è relativo alle sole versioni pubblicate
5863        																	--	26: non valorizzata
5864        																	--	27: non valorizzata
5865        																	-- 	28: non valorizzata
5866        																	--	29: Dati identificativi del destinatario del permesso
5867        																	--    30: (valori fisso 1) Flag di ACE ereditata
5868        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5869        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5870        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
5871        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0 (in caso di errore)
5872        
5873        	/**********estrae i dati dell'ACL di un folder nonchè tutti i dati correlati al controllo degli accessi sullo stesso (ereditarietà permessi ecc.) ******/
5874        	function LoadACLFolder(
5875        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5876        																	-- (obblig). Codice identificativo del token di connessione
5877        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5878        			IdFolderIn				IN		DMT_FOLDER.ID_FOLDER%type,			--(obblig.) Id. del folder di cui estrarre i dati di controllo accesso
5879        			FlgEreditarietaPossibileOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 è possibile (in base a quelli che sono i folder contenitore) che il folder erediti i permessi da un folder che lo contiene
5880        			FlgEreditarietaConsentitaOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 al folder è consentito ereditare i permessi da un folder che lo contiene, altrimenti no
5881        			IdFolderEreditaDaOut		OUT		INTEGER,						-- Identificativo (ID_FOLDER) dell'eventuale folder da cui attualmente vengono ereditati i permessi
5882        			DesFolderEreditaDaOut		OUT		VARCHAR2,						-- Descrizione (path, comprensivo di libreria, e nome) dell'eventuale folder da cui attualmente vengono ereditati i permessi				
5883        			IdFolderPossibileEredDaOut	OUT		INTEGER,						-- Identificativo (ID_FOLDER) del folder contenitore che è l'unico da cui può ereditare i permessi
5884        			DesFolderPossibileEredDaOut	OUT		VARCHAR2,						-- Descrizione (path, comprensivo di libreria, e nome) del folder contenitore che è l'unico da cui può ereditare i permessi				
5885        			FlgPropagazioneConsentitaOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 al folder è consentito propagare i permessi alle unità documentarie e sub-folder contenuti, altrimenti no
5886        			ACLXMLOut				OUT		NOCOPY CLOB,					-- Lista con le entry (ACE) dell'ACL del folder (xml comforme a schema LISTA_STD.xsd)
5887        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5888        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5889        																	--		Valori possibili:
5890        																	--			SP	= Soggetto produttore  
5891        																	-- 			AOO	= AOO 
5892        																	-- 			UT 	= Utente
5893        																	--			SV	= Scrivania virtuale
5894        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5895        																	--			G	= Gruppo
5896        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5897        																	--	2: Identificativo del destinatario del permesso
5898        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5899        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5900        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5901        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5902        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5903        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5904        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5905        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5906        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5907        																	-- 		o codice rapido del gruppo (se ha un corrispondente gruppo di soggetti rubrica) o dell'utente
5908        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5909        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5910        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5911        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5912        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5913        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5914        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5915        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5916        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5917        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5918        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5919        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5920        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5921        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5922        																	--	18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5923        																	--	19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5924        																	--	20:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5925        																	--	21:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5926        																	--	22:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5927        																	--	23:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5928        																	--	24:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5929        																	--	29: Dati identificativi del destinatario del permesso
5930        																	--    30: (valori 1/0) Flag di ACE ereditata
5931        																	-- 31: Descrizione estesa del destinatario del permesso
5932        																	-- 32: (valori 1/0) Se 1 indica che il destinatario del permesso è anche assegnatario del folder
5933        																	-- 33: (valori 1/0) Se 1 indica che il destinatario del permesso è anche uno che ha una notifica (tipicamente invio cc) del folder
5934        			FlgAbilUpdOut			OUT		PLS_INTEGER,					-- (valori 1/0) Indica se l'utenza di lavoro è abilitata alla modifica dei permessi del folder
5935        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5936        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5937        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5938        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5939        
5940        	/*********** funzione per ottenere i permessi che un folder eredita da un dato folder cui appartiene **********/
5941        	function  GetInheritedACLxFolder(
5942        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5943        																	-- (obblig). Codice identificativo del token di connessione
5944        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5945        			IdFolderEreditaDaIn		IN		INTEGER,						-- (obblig.) Identificativo (ID_FOLDER) del folder da cui devono essere ereditati i permessi
5946        			ACLXMLOut				OUT		NOCOPY CLOB,					-- Lista con le entry (ACE) ereditate (xml comforme a schema LISTA_STD.xsd)
5947        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5948        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5949        																	--		Valori possibili:
5950        																	--			SP	= Soggetto produttore  
5951        																	-- 			AOO	= AOO 
5952        																	-- 			UT 	= Utente
5953        																	--			SV	= Scrivania virtuale
5954        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5955        																	--			G	= Gruppo
5956        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5957        																	--	2: Identificativo del destinatario del permesso
5958        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5959        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5960        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5961        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5962        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5963        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5964        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5965        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5966        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5967        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5968        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5969        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5970        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5971        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5972        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5973        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5974        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5975        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5976        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5977        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5978        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5979        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5980        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5981        																	--	18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5982        																	--	19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5983        																	--	20:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5984        																	--	21:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5985        																	--	22:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5986        																	--	23:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5987        																	--	24:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5988        																	--	29: Dati identificativi del destinatario del permesso
5989        																	--    30: (valori fisso 1) Flag di ACE ereditata
5990        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5991        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5992        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
5993        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0 (in caso di errore)
5994        
5995        	/**********serve a settare i dati dell'ACL di un folder nonchè tutti i dati correlati al controllo degli accessi sulla stessa (ereditarietà permessi ecc.) ******/
5996        	function SetACLFolder(
5997        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5998        																	-- (obblig). Codice identificativo del token di connessione
5999        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6000        			IdFolderIn				IN		DMT_FOLDER.ID_FOLDER%type,			--(obblig.) Id. del folder di cui settare i dati di controllo accesso
6001        			FlgEreditarietaConsentitaIn	IN		PLS_INTEGER DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
6002        																	-- (valori 1/0) Se 1 al folder è consentito ereditare i permessi da un folder che lo contiene, altrimenti no
6003        			IdFolderEreditaDaIn		IN		DMT_FOLDER.ID_FOLDER%type DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
6004        																	-- Identificativo (ID_FOLDER) dell'eventuale folder superiore da cui devono essere ereditati i permessi
6005        			FlgPropagazioneConsentitaIn	IN		PLS_INTEGER DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
6006        																	-- (valori 1/0) Se 1 al folder è consentito propagare i permessi alle unità documentarie e sub-folder contenuti, altrimenti no
6007        			FlgModACLIn				IN		VARCHAR2 DEFAULT 'I',				-- (valori I/C) Indica se le ACE indicate nell'argomento successivo sono fornite in modo incrementale (=I) (solo quelle da aggiungere) oppure completo (=C), vale a dire che dovranno soppiantare tutte quelle già presenti (tranne le ACE ereditate)
6008        			ACLXMLIn				IN		CLOB,							-- Lista con le entry (ACE) dell'ACL del folder (xml comforme a schema LISTA_STD.xsd)
6009        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
6010        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
6011        																	--		Valori possibili:
6012        																	--			SP	= Soggetto produttore  
6013        																	-- 			AOO	= AOO 
6014        																	-- 			UT 	= Utente
6015        																	--			SV	= Scrivania virtuale
6016        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
6017        																	--			G	= Gruppo
6018        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
6019        																	--	2: Identificativo del destinatario del permesso
6020        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
6021        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
6022        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
6023        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
6024        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
6025        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
6026        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6027        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
6028        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
6029        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6030        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
6031        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
6032        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
6033        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
6034        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
6035        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
6036        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
6037        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
6038        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
6039        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6040        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
6041        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
6042        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6043        																	--	18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6044        																	--	19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6045        																	--	20:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6046        																	--	21:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6047        																	--	22:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
6048        																	--	23:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6049        																	--	24:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6050        																	--	30: (valori 1/NULL) Se 1 è una entry ereditata	
6051        			URIxAggContainerOut		OUT		VARCHAR2,						-- URI del folder sul container.
6052        			FlgIgnoreWarningIn 		IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 0 o NULL significa che in presenza di WARNING la stored si comporta come in caso di errore; se 1 gli WARNING vengono ignorati
6053        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6054        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6055        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6056        			WarningMsgOut			OUT		VARCHAR2,						-- Messaggio di warning (valorizzato solo se non c'è errore)
6057        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6058        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
6059        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
6060        			FlgCallByGUIIn			IN		PLS_INTEGER DEFAULT 1				-- (1/0/NULL) Se 1 l'API che chiama la stored è chiamata dalla GUI di una web application per cui gli id. dei soggetti non vengono considerati se non sono popolati anche altri campi visibili a video o se non sono congruenti con i valori dei campi stessi
6061        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine (senza warning), altrimenti 0 (in caso di errore o warning)
6062        
6063        	/**********estrae i dati dell'ACL di un workspace nonchè tutti i dati correlati al controllo degli accessi sullo stesso ***********/
6064        	function LoadACLWorkspace(
6065        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6066        																	-- (obblig). Codice identificativo del token di connessione
6067        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6068        			IdWorkspaceIn			IN		DMT_WORKSPACES.ID_WORKSPACE%type,		--(obblig.) Id. del workspace di cui estrarre i dati di controllo accesso
6069        			FlgPropagazioneConsentitaOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 al workspace è consentito propagare i permessi alle unità documentarie contenute, altrimenti no
6070        			ACLXMLOut				OUT		NOCOPY CLOB,					-- Lista con le entry (ACE) dell'ACL del workspace (xml comforme a schema LISTA_STD.xsd)
6071        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
6072        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
6073        																	--		Valori possibili:
6074        																	--			SP	= Soggetto produttore  
6075        																	-- 			AOO	= AOO 
6076        																	-- 			UT 	= Utente
6077        																	--			SV	= Scrivania virtuale
6078        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
6079        																	--			G	= Gruppo
6080        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
6081        																	--	2: Identificativo del destinatario del permesso
6082        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
6083        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
6084        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
6085        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
6086        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
6087        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
6088        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6089        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
6090        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
6091        																	-- 		o codice rapido del gruppo (se ha un corrispondente gruppo di soggetti rubrica) o dell'utente
6092        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6093        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
6094        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
6095        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
6096        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
6097        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
6098        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
6099        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
6100        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
6101        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
6102        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6103        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
6104        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
6105        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6106        																	--	18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6107        																	--	19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6108        																	--	20:(valori 1/0/NULL) Indica se l'eliminazione del workspace è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6109        																	--	21:(valori 1/0/NULL) Indica se il ripristino del workspace eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
6110        																	--	22:(valori 1/0/NULL) Indica se la modifica del contenuto è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6111        																	--	29: Dati identificativi del destinatario del permesso
6112        																	--    30: (valori 1/0) Flag di ACE ereditata
6113        			FlgAbilUpdOut			OUT		PLS_INTEGER,					-- (valori 1/0) Indica se l'utenza di lavoro è abilitata alla modifica dei permessi del workspace
6114        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6115        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
6116        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
6117        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
6118        
6119        	/**********serve a settare i dati dell'ACL di un workspace nonchè tutti i dati correlati al controllo degli accessi sullo stesso (propagazione permessi ecc.) ******/
6120        	function SetACLWorkspace(
6121        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6122        																	-- (obblig). Codice identificativo del token di connessione
6123        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6124        			IdWorkspaceIn			IN		DMT_WORKSPACES.ID_WORKSPACE%type,		--(obblig.) Id. del workspace di cui settare i dati di controllo accesso
6125        			FlgPropagazioneConsentitaIn	IN		PLS_INTEGER DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
6126        																	-- (valori 1/0) Se 1 al workspace è consentito propagare i permessi alle unità documentarie contenute, altrimenti no
6127        			FlgModACLIn				IN		VARCHAR2 DEFAULT 'I',				-- (valori I/C) Indica se le ACE indicate nell'argomento successivo sono fornite in modo incrementale (=I) (solo quelle da aggiungere) oppure completo (=C), vale a dire che dovranno soppiantare tutte quelle già presenti
6128        			ACLXMLIn				IN		CLOB,							-- Lista con le entry (ACE) dell'ACL del workspace (xml comforme a schema LISTA_STD.xsd)
6129        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
6130        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
6131        																	--		Valori possibili:
6132        																	--			SP	= Soggetto produttore  
6133        																	-- 			AOO	= AOO 
6134        																	-- 			UT 	= Utente
6135        																	--			SV	= Scrivania virtuale
6136        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
6137        																	--			G	= Gruppo
6138        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
6139        																	--	2: Identificativo del destinatario del permesso
6140        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
6141        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
6142        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
6143        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
6144        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
6145        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
6146        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6147        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
6148        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
6149        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6150        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
6151        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
6152        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
6153        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
6154        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
6155        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
6156        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
6157        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
6158        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
6159        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6160        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
6161        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
6162        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6163        																	--	18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6164        																	--	19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6165        																	--	20:(valori 1/0/NULL) Indica se l'eliminazione del workspace è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6166        																	--	21:(valori 1/0/NULL) Indica se il ripristino del workspace eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
6167        																	--	22:(valori 1/0/NULL) Indica se la modifica del contenuto è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
6168        			URIxAggContainerOut		OUT		VARCHAR2,						-- URI del workspace sul container.
6169        			FlgIgnoreWarningIn 		IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 0 o NULL significa che in presenza di WARNING la stored si comporta come in caso di errore; se 1 gli WARNING vengono ignorati
6170        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6171        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6172        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6173        			WarningMsgOut			OUT		VARCHAR2,						-- Messaggio di warning (valorizzato solo se non c'è errore)
6174        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6175        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
6176        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
6177        			FlgCallByGUIIn			IN		PLS_INTEGER DEFAULT 1				-- (1/0/NULL) Se 1 l'API che chiama la stored è chiamata dalla GUI di una web application per cui gli id. dei soggetti non vengono considerati se non sono popolati anche altri campi visibili a video o se non sono congruenti con i valori dei campi stessi
6178        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine (senza warning), altrimenti 0 (in caso di errore o warning)
6179        
6180        	/**** funzione per testare se il nome dell'ultima versione elettronica di un documento coincide con il nome dell'unità documentaria *****/
6181        	function TestNomeUDIsFileNameLastVerDoc(
6182        			IdDocIn				IN		DMT_DOCUMENTS.ID_DOC%type)			--(obblig.) Id. del documento
6183        			return PLS_INTEGER;											-- restituisce 1 se il doc. è il primario dell'unità doc. e se il nome della sua ultima versione elettronica coincide con il nome dell'unità documentaria, altrimenti 0
6184        
6185        
6186        	/*********** aggiorna nella tabella DMT_INFO_X_INDEXER l'attributo dei nominativi esterni del documento in input 	******/
6187        	procedure SetAttrNomEstDocXIndexer(
6188        			IdDocIn				IN		DMT_DOCUMENTS.ID_DOC%type);			-- (obblig) Id. del documento di cui aggiornare l'attributo "NOMINATIVI ESTERNI" per l'indicizzatore esterno
6189        
6190        	/*********** aggiorna nella tabella DMT_INFO_X_INDEXER l'attributo dei nominativi esterni del folder in input 	******/
6191        	procedure SetAttrNomEstFolderXIndexer(
6192        			IdFolderIn				IN		DMT_FOLDER.ID_FOLDER%type);			-- (obblig) Id. del folder di cui aggiornare l'attributo "NOMINATIVI ESTERNI" per l'indicizzatore esterno
6193        
6194        	/*********** funzione per testare nell'ACL di un UD, folder o workspace vi è una entry relativa ad un dato soggetto interno ******/
6195        	function TestIsInACL(
6196        			ObjTyACLOfIn			IN		VARCHAR2,						-- (obblig.) Indica il tipo di oggetto cui è relativa l'ACL; valori ammessi:
6197        																	--	U = Unità documentaria
6198        																	--	F = Folder
6199        																	--	W = Workspace
6200        			IdObjACLOfIn			IN		INTEGER,						-- (obblig.) Identificativo (ID_UD o ID_FOLDER o ID_WORKSPACE) dell'oggetto cui è relativa l'ACL
6201        			FlgTySoggToTestIn			IN		VARCHAR2,						-- (obblig.) Indicatore del tipo di soggetto interno 
6202        																	--		Valori possibili:
6203        																	--			SP	= Soggetto produttore  
6204        																	-- 			AOO	= AOO 
6205        																	-- 			UT 	= Utente
6206        																	--			SV	= Scrivania virtuale
6207        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
6208        																	--			G	= Gruppo
6209        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
6210        			IdSoggToTestIn			IN		INTEGER,						-- (obblig.) Identificativo del soggetto interno 
6211        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se FlgTySoggToTestIn è SP o AOO
6212        																	--		è un ID_UO di DMT_STRUTTURA_ORG se FlgTySoggToTestIn =UO,
6213        																	--		è un ID_GRUPPO di DMT_GRUPPI se FlgTySoggToTestIn =G
6214        																	--		è un ID_USER di DMT_USERS se FlgTySoggToTestIn =UT
6215        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se FlgTySoggToTestIn =SV
6216        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se FlgTySoggToTestIn =R
6217        			RuoloVsIdUOIn			IN		INTEGER DEFAULT NULL				-- Id. della UO in cui deve espletari il ruolo
6218        			) return PLS_INTEGER;											-- restituisce 1 se la entry c'è, altrimenti 0
6219        
6220        	/******* Funzione per verificare se un fascicolo (o sotto-fascicolo o inserto) basato sul titolario esiste in archivio e vi è identificabile univocamente							******/
6221        	/******* è possibile (richiedendolo con apposito input) far sì che i dati siano restituiti completando i dati che in input mancavano con quelli del fascicolo trovato in archivio	******/
6222        	function FindFascTitolario(
6223        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6224        																-- (obblig). Codice identificativo del token di connessione
6225        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
6226        																-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6227        			DatiFascicoloXMLIO		IN OUT	NOCOPY CLOB,		-- Dati del fascicolo  (tag XML fatto come un tag "Riga" dello schema LISTA_STD.xsd)
6228        																-- Le colonne che mancano del tutto o che non sono valorizzate sono campi che per il fascicolo da trovare possono assumere qualsiasi valore
6229        																-- Le colonne possibili sono:
6230        																-- 1:  Nome del fascicolo
6231        																-- 2:  Anno di apertura del fascicolo (se è un sotto-fasc o un inserto questo è l'anno di apertura del fascicolo di appartenenza)
6232        																-- 3:  Id. della classificazione
6233        																-- 4:  Indice di classificazione (come visualizzato nelle GUI) o id. indice come inteso in eGrammata
6234        																-- 5:  N.ro progr. del fascicolo
6235        																-- 6:  N.ro progressivo del sottofascicolo
6236        																-- 7:  N.ro inserto
6237        																-- 8:  Id. folder del fascicolo
6238        																-- 9:  Data di apertura del fascicolo/sottofascicolo/inserto (nel formato DD/MM/RRRR)
6239        																-- 10: Id. del piano di classificazione della classifica
6240        																-- 11: N.ro secondario (match case-insensitive) 
6241        																-- 12: Livello di riservatezza
6242        																-- 13: Estremi capofila
6243        			FlgSoloAssegnabiliIn		IN		PLS_INTEGER DEFAULT 1,			
6244        																-- (valori 1/0/NULL) Se 1 indica se il fascicolo deve essere uno che l'utente di lavoro può assegnare ad un unità documentaria
6245        			FlgCompletaDatiIn	IN		PLS_INTEGER DEFAULT 1,	-- (valori 1/0/NULL) Se 1 indica che qualora si identifichi univocamente il fascicolo (return 1) DatiFascicoloXMLIO viene restituito con i dati del fascicolo trovato
6246        			IdFolderOut			OUT		DMT_FOLDER.ID_FOLDER%type,	
6247        																-- ID_FOLDER del fascicolo trovato
6248        			ErrContextOut		OUT		VARCHAR2,				-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6249        			ErrCodeOut			OUT		PLS_INTEGER,			-- N.ro errore di uscita
6250        			ErrMsgOut			OUT 		VARCHAR2)			-- Messaggio d'errore
6251        			return PLS_INTEGER;									-- Vale 1 se il fascicolo è stato individuato univocamente, altrimenti 0
6252        
6253        	/******* Funzione per verificare se una pratica/fascicolo storico esiste in archivio di deposito/storico e vi è identificabile univocamente	******/
6254        	/******* La ricerca avviene passando in input gli estremi di protocollo generale o di settore che identificano la pratica/fascicolo			******/
6255        	/******* i dati sono restituiti completando i dati che in input mancavano con quelli del fascicolo trovato in archivio						******/
6256        	function FindFascInArchivio(
6257        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6258        																-- (obblig). Codice identificativo del token di connessione
6259        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
6260        																-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6261        			DatiFascicoloXMLIO		IN OUT	NOCOPY CLOB,		-- Dati del fascicolo  (tag XML fatto come un tag "Riga" dello schema LISTA_STD.xsd)
6262        																-- Le colonne possibili sono:
6263        																-- 1)   (input/output) Tipo di identificativo dell¿atto/pratica: PG (Prot. Gen.) , PS (Protocollo di settore)
6264        																-- 2)   (input/output) N° di protocollo
6265        																-- 3)   (input/output) Registro del protocollo di settore
6266        																-- 4)   (input/output) Anno di protocollo
6267        																-- 5)   (input/output) Sub
6268        																-- 6)	(output) Stato scansione: N (Non ancora scansionata), P (Parzialmente scansionata), C (Completamente scansionata)
6269        																-- 7)	(input/output) ID_FOLDER del folder corrispondente alla pratica
6270        																-- 8)	(output)Stato: con valori ¿non pervenuto in Cittadella¿, ¿presente in Cittadella¿, ¿prelevato e ancora da restituire¿
6271        																-- 9)	(output)Unità di Carico (UDC) in cui si trova la pratica
6272        																-- 10)	(output)Denominazione ufficio che ha effettuato il prelievo
6273        																-- 11)	(output)Cod. dell¿ufficio che ha effettuato il prelievo
6274        																-- 12)	(output)ID_UO che ha effettuato il prelievo
6275        																-- 13)	(output)Cognome responsabile prelievo
6276        																-- 14)	(output) Nome responsabile prelievo
6277        																-- 15)	(output)Username responsabile prelievo
6278        																-- 16)	(output)ID_USER responsabile prelievo
6279        																-- 17)	(output)Data prelievo (GG/MM/AAAA)
6280        																-- 18)	(output)Note uff. richiedente
6281        																-- 19)	(output)Note dell'archivio
6282        																-- 20)  (output)Classifica del fascicolo (anche storica, campo di testo libero)
6283        																-- 22)  (output) Competenza di Urbanistica
6284        																-- 23)  (output) Cartaceo reperibile
6285        																-- 24)	(output) Archivio in cui si trova il cartaceo
6286        			IdFolderOut			OUT		DMT_FOLDER.ID_FOLDER%type,	
6287        																-- ID_FOLDER del fascicolo trovato
6288        			ErrContextOut		OUT		VARCHAR2,				-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6289        			ErrCodeOut			OUT		PLS_INTEGER,			-- N.ro errore di uscita
6290        			ErrMsgOut			OUT 		VARCHAR2)			-- Messaggio d'errore
6291        			return PLS_INTEGER;									-- Vale 1 se il fascicolo è stato individuato univocamente, altrimenti 0
6292        
6293        	/****************procedure per togliere un'unità documentaria dalle bozze di tutti gli utenti ************/ 
6294        	procedure RimuoviUDDaBozze(
6295        			IdUDIn	DMT_UNITA_DOC.ID_UD%type);
6296        
6297        
6298        	/******* rimuove i lock impliciti scaduti relativi alla documentazione di un dato soggetto produttore/AOO o di tutti ********/
6299        	procedure RemoveLockImplicitiScaduti(
6300        			IdSPAOOIn				IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type	-- Identificativo del sogg. produttore o AOO per cui rimuovere i lock impliciti scaduti
6301        																					-- se non valorizzato si intende che la rimozione è relativa a tutti i sogg. produttori/AOO
6302        			);
6303        	/******* funzione per ottenere i parametri da passare al metodo Store di StorageUtil per archiviare su SharePoint il file corrispondente ad una certa versione di un dato documento *****/ 
6304        	function GetParamForStoreInSharePoint(
6305        			IdDocIn				IN		DMT_DOCUMENTS.ID_DOC%type,
6306        																-- (obblig.) Id. del documento cui è relativo il file da archiviare su SharePoint
6307        			DisplayFilenameIn   IN          VARCHAR2,           -- Nome del file (obbligatorio se è la prima versione)
6308                    MimeTypeIn          IN          VARCHAR2,           -- Mimetype del file (obbligatorio se è la prima versione)
6309                    ParametriXMLOut		OUT 	NOCOPY CLOB,			-- Parametri da passare al metodo Store di StorageUtil per archiviare il file su SharePoint. 
6310        																-- E' un xml conforme allo schema Lista_STD.xsd formato da una sola colonna
6311        			ErrContextOut		OUT		VARCHAR2,				-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6312        			ErrCodeOut			OUT		PLS_INTEGER,			-- N.ro errore di uscita
6313        			ErrMsgOut			OUT 	VARCHAR2)				-- Messaggio d'errore
6314        			return PLS_INTEGER;									-- Vale 1 se il fascicolo è stato individuato univocamente, altrimenti 0
6315        
6316        	/********** verifica se esiste già un file - versione di un documento - con l'impronta indicata (limitatamante al dominio corrispondente all'IdSPAOOIn se specificato) *****/
6317        	function TestPresenzaFile(
6318        			IdSPAOOIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type DEFAULT NULL,	
6319        																-- se NULL il test viene fatto su tutti i domini, altrimenti solo su quello con ID pari all'IdSpAOO specificato
6320        			ImprontaFileIn		In		VARCHAR2,				-- Impronta del file
6321        			AlgoritmoImprontaIn In		VARCHAR2,				-- Algoritmo di calcolo dell'impronta
6322        			EncodingImprontaIn	In		VARCHAR2,				-- Encoding con cui è calcolata l'impronta (hex o base64)
6323        			FlgIncludeVerAnnIn	In		PLS_INTEGER DEFAULT NULL,-- Se 1 vengono considerate le versioni annullate, altrimenti no
6324        			FlgFileEsistenteOut	OUT		PLS_INTEGER,			-- Se 1 significa che esiste almeno un file con quell'impronta, se 0 che non esiste
6325        			ErrContextOut		OUT		VARCHAR2,				-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6326        			ErrCodeOut			OUT		PLS_INTEGER,			-- N.ro errore di uscita
6327        			ErrMsgOut			OUT 	VARCHAR2)				-- Messaggio d'errore
6328        			return PLS_INTEGER;									-- Vale 1 se il test è stato effettuato con successo, altrimenti 0
6329        
6330        	/************ funzione per svolgere una data operazione su UD di richiesta accesso agli atti	***************/
6331        	function SetAzioneSuRichAccessoAtti(
6332        		CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6333        																				-- (obblig). Codice identificativo del token di connessione
6334        		IdUserLavoroIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6335        		CodOperazioneIn      		In		VARCHAR2,							-- (obblig.) Codice dell'operazione da fare. Valori emmaessi
6336        																				-- INVIO_IN_APPROVAZIONE  			Manda in approvazione
6337        																				-- APPROVAZIONE       				Approva
6338        																				-- INVIO_ESITO_VERIFICA_ARCHIVIO	Invia esito verifica al rich.
6339        																				-- ABILITA_APPUNTAMENTO_DA_AGENDA	Abilita appuntamento da Agenda
6340        																				-- SET_APPUNTAMENTO                 Fissa appuntamento
6341        																				-- ANNULLAMENTO_APPUNTAMENTO        Annulla appuntamento
6342        																				-- REGISTRA_PRELIEVO                Registra prelievo effettivo
6343        																				-- REGISTRA_RESTITUZIONE            Registra restituzione
6344        																				-- ANNULLAMENTO                     Annulla richiesta
6345        																				-- RIPRISTINO						Ripristina richiesta annullata riportandola allo stato di "inserita"
6346        																				-- CHIUSURA							Mette in stato "lavorazione conclusa" una richiesta arrivata a fine iter
6347        																				-- RIAPERTURA						Ripare una richiesta con stato "lavorazione conclusa" rimettendola nello stato precedente alla chiusura
6348        		ListaIdUDIn		  			IN    	CLOB,				 				-- (obblig.) Lista XML conforme a schema ListaSTD.xsd che contiene gli identificativi - ID_UD - delle richieste accesso atti su cui effettuare l'operazione indicata
6349        																				-- Ogni e-mail è un tag Riga; colonna 1 contiene l'ID_EMAIL, la 2 il campo PROGR_MSG (almeno uno dei 2 è obbligatorio)
6350        		DatiOperazioneIn			In		CLOB,								-- XML di tipo SezioneCache con i dati specifici a corredo del tipo di operazione richiesta.
6351        																				-- Le variabili/dati possibili sono:
6352        																				-- #DataAppuntamento	(nel formato dato dal parametro di conf. FMT_STD_DATA)
6353        																				-- #OrarioAppuntamento nel formato HH24:MI
6354        																				-- #DataPrelievo (nel formato dato dal parametro di conf. FMT_STD_DATA)	
6355        																				-- #DataRestituzionePrelievo (nel formato dato dal parametro di conf. FMT_STD_DATA)
6356        		MotiviIn					IN		VARCHAR2,							-- (facoltativo) Motivo/i dell'operazione
6357        		FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6358        																				-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6359        		FlgAutoCommitIn				IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6360        		EsitiOut					OUT		NOCOPY CLOB,						-- Lista XML conforme a schema ListaSTD.xsd che contiene gli esiti dell'operazione su ciascuna richiesta-UD in input
6361        																				-- Ogni richiesta-UD corrisponde ad un tag riga con le colonne:
6362        																				-- 1: ID_UD della richiesta
6363        																				-- 2: Dati principali della richiesta (da mostrare come label)
6364        																				-- 3: Esito operazione: OK, KO
6365        																				-- 4: Messaggio di errore
6366        		ErrContextOut				OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6367        		ErrCodeOut					OUT		PLS_INTEGER,						-- N.ro errore di uscita
6368        		ErrMsgOut					OUT 	VARCHAR2							-- Messaggio d'errore
6369        		) return PLS_INTEGER;													-- Vale 1 se non ci sono stati errori generali (vale a dire NON sulla singola richiesta-UD), altrimenti 0
6370        
6371        
6372        	/************ funzione per aggiornare i dati dei prelevi da archivio su un dato fascicolo in input ***************/
6373        	function OperPrelievoSuFascArchivio(
6374        		CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6375        																				-- (obblig). Codice identificativo del token di connessione
6376        		IdUserLavoroIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6377        		IdFolderIn					In		DMT_FOLDER.ID_FOLDER%type,			-- (obblig.) Id folder del fascicolo per cui aggiornare i prelievi
6378        		CodOperazioneIn      		In		VARCHAR2,							-- (obblig.) Codice dell'operazione da fare. Valori emmaessi
6379        																				-- REGISTRA_PRELIEVO                Registra nuovo prelievo
6380        																				-- MODIFICA_PRELIEVO                Modifica dati ultimo prelievo
6381        																				-- ELIMINA_PRELIEVO                 Elimina l'ultimo prelievo
6382        																				-- REGISTRA_RESTITUZIONE            Registra restituzione
6383        		DatiOperazioneIn			In		CLOB,								-- XML di tipo SezioneCache con i dati specifici a corredo del tipo di operazione richiesta.
6384        																				-- Le variabili/dati possibili sono:
6385        																				-- #DataPrelievo (nel formato dato dal parametro di conf. FMT_STD_DATA)	
6386        																				-- #DataRestituzionePrelievo (nel formato dato dal parametro di conf. FMT_STD_DATA)
6387        																				-- #CodUOPrelievo
6388        																				-- #DesUOPrelievo
6389        																				-- #IdUOPrelievo
6390        																				-- #CognomeRespPrelievo
6391        																				-- #NomeRespPrelievo
6392        																				-- #IdUserRespPrelievo
6393        																				-- #UsernameRespPrelievo
6394        																				-- #NoteRichiedente
6395        																				-- #NoteArchivio
6396        		MotiviIn					IN		VARCHAR2,							-- (facoltativo) Motivo/i dell'operazione
6397        		FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6398        																				-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6399        		FlgAutoCommitIn				IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6400        		ErrContextOut				OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6401        		ErrCodeOut					OUT		PLS_INTEGER,						-- N.ro errore di uscita
6402        		ErrMsgOut					OUT 	VARCHAR2							-- Messaggio d'errore
6403        		) return PLS_INTEGER;													-- Vale 1 se non ci sono stati errori, altrimenti 0
6404        
6405        	/************ funzione per apporre/rifiutare la firma digitale sui file primario e parte integrante di un'unità doumentaria	***************/
6406        	/************ la funzione non va l'archiviazione dei file firmati che va fatta a parte prima di chiamare questa funzione	***************/
6407        	function FirmaDocumento(
6408        		CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6409        																				-- (obblig). Codice identificativo del token di connessione
6410        		IdUserLavoroIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6411        		IdUDIn		  				IN    	DMT_UNITA_DOC.ID_UD%type,			-- (obblig.) Identificativo - ID_UD - dell'unità documentaria da firmare
6412        		FlgAppostaRifiutataIn		In		VARCHAR2,							-- (obblig., valori A/R) Indica se la firma è stato apposta (=A) o rifiutata (=R)
6413        		MessaggioIn					IN		VARCHAR2,							-- (facoltativo) Messaggio a corredo dell'apposizione/rifiuto della firma
6414        		FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6415        																				-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6416        		FlgAutoCommitIn				IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6417        		TipoMittIntUDOut			OUT		VARCHAR2,							-- Tipo di mittente interno indicato sull'UD: UO o SV (Scrivania)
6418        		IdMittUDOut					OUT		INTEGER,							-- Id. dell'eventuale mittente interno indicato sull'UD: ID_UO o ID_SCRIVANIA
6419        		TipoMittUltimoInvioUDOut	OUT		VARCHAR2,							-- Tipo del mittente che ha mandato l'UD al firmatario: UO o SV (Scrivania)
6420        		IdMittUltimoInvioUDOut		OUT		INTEGER,							-- Id. del mittente che ha mandato l'UD al firmatario: ID_UO o ID_SCRIVANIA
6421        		ErrContextOut				OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6422        		ErrCodeOut					OUT		PLS_INTEGER,						-- N.ro errore di uscita
6423        		ErrMsgOut					OUT 	VARCHAR2							-- Messaggio d'errore
6424        		) return PLS_INTEGER;													-- Vale 1 se non ci sono stati errori, altrimenti 0
6425        
6426        	/************ funzione per apporre/rifiutare il visto elettronico su un'unità doumentaria	***************/
6427        	function VistaDocumento(
6428        		CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6429        																				-- (obblig). Codice identificativo del token di connessione
6430        		IdUserLavoroIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6431        		IdUDIn		  				IN    	DMT_UNITA_DOC.ID_UD%type,			-- (obblig.) Identificativo - ID_UD - dell'unità documentaria da vistare
6432        		FlgAppostoRifiutatoIn		In		VARCHAR2,							-- (obblig., valori A/R) Indica se il visto è stato apposto (=A) o rifiutato (=R)
6433        		MessaggioIn					IN		VARCHAR2,							-- (facoltativo) Messaggio a corredo dell'apposizione/rifiuto del visto
6434        		FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6435        																				-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6436        		FlgAutoCommitIn				IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6437        		TipoMittIntUDOut			OUT		VARCHAR2,							-- Tipo di mittente interno indicato sull'UD: UO o SV (Scrivania)
6438        		IdMittUDOut					OUT		INTEGER,							-- Id. dell'eventuale mittente interno indicato sull'UD: ID_UO o ID_SCRIVANIA
6439        		TipoMittUltimoInvioUDOut	OUT		VARCHAR2,							-- Tipo del mittente che ha mandato l'UD al visto: UO o SV (Scrivania)
6440        		IdMittUltimoInvioUDOut		OUT		INTEGER,							-- Id. del mittente che ha mandato l'UD al vaisto: ID_UO o ID_SCRIVANIA
6441        		ErrContextOut				OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6442        		ErrCodeOut					OUT		PLS_INTEGER,						-- N.ro errore di uscita
6443        		ErrMsgOut					OUT 	VARCHAR2							-- Messaggio d'errore
6444        		) return PLS_INTEGER;													-- Vale 1 se non ci sono stati errori, altrimenti 0
6445        
6446        
6447        	---------- funzione per settare o resettare una o più numerazioni - protocollo, repertorio, RUF ecc - di una data unità documentaria
6448        	---------- se una numerazione della data categoria e registro già c'è viene aggiornata quella esistente, salvo che non sia una numerazione generata da Auriga nel qual caso viene dato errore
6449        	function SetRegNumUD(
6450        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
6451        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,			-- Id. dell'utente a nome di cui si inserisce il documento. Se non valorizzato è l'utente connesso
6452        			IdUDIn					IN		DMT_UNITA_DOC.ID_UD%type,						-- (obblig). Id. dell'unità documentaria di cui settare registrazioni/numerazioni
6453        			RegNumDateXMLIn			IN		CLOB,											-- XML ListaStd contenente le registrazioni/numerazioni date da settare o aggiornare
6454        																							-- se una numerazione della data categoria ed eventuale sigla registro già c'è viene rimossa e reimpostta (salvo sia una numerazione generata dal sistema, nel qual caso viene dato errore)
6455        																							--	Ciscuna riga della lista può contenere le seguenti colonne:
6456        																							--	1: (obblig.) Categoria di registrazione/numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
6457        																							--	2: Sigla di registrazione/numerazione
6458        																							--	3: (obblig. se non si indicano data e ora di registrazione) Anno di registrazione/numerazione
6459        																							--	4: (obblig.) N.ro di registrazione/numerazione
6460        																							--	5: Data e ora di registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
6461        																							--	6: Identificativo dell'utente che ha effettuato la registrazione/numerazione
6462        																							--	7: Codice che identifica l'utente che ha effettuato la registrazione/numerazione nell'applicazione esterna da cui ci si connette 
6463        																							--	8: Denominazione dell'utente che ha effettuato la registrazione/numerazione
6464        																							--	9: Identificativo della UO presso cui è stata effettuata la registrazione/numerazione
6465        																							--	10: Denominazione della UO presso cui è stata effettuata la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6466        																							--	11: N.ri livello della UO presso cui è stata effettuata la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
6467        																							--	12: Codice che identifica la registrazione nel sistema in cui è stata data
6468        																							--	13: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
6469        																							--	14:(valori 1/NULL) Se 1 significa che la registrazione/numerazione è annullata
6470        																							--	15: Data e ora di annullamento della registrazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
6471        																							--	16: Identificativo dell'unità documentaria che rappresenta l'atto di autorizzazione all'annullamento della data registrazione/numerazione 
6472        																							--	17: Estremi dell'atto di autorizzazione annullamento (alternativo al precedente e gestito solo se quello non è valorizzato)
6473        																							--	18: Motivazioni dell'annullamento della data registrazione/numerazione
6474        																							--	19: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata richiesta dal sistema documentale
6475        																							--	20: Identificativo dell'utente che ha annullato la registrazione
6476        																							--	21: Codice che identifica l'utente che ha annullato la registrazione nell'applicazione esterna da cui ci si connette
6477        																							--	22: Denominazione dell'utente che ha annullato la registrazione
6478        																							--	23: Eventuale sub o appendice del n.ro di registrazione
6479        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,						-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6480        																							-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6481        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,						-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6482        			ErrContextOut			OUT		VARCHAR2,										-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6483        			ErrCodeOut				OUT		PLS_INTEGER,									-- N.ro errore di uscita
6484        			ErrMsgOut				OUT 	VARCHAR2										-- Messaggio d'errore
6485        			) return PLS_INTEGER;															-- Vale 1 se tutto è andato a buon fine, altrimenti 0
6486        
6487        	/******* serve a segnare come viosionati/verificati dall'utente documenti e/o fascicoli passati in input ******/
6488        	function SetVisionato(
6489        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6490        																					-- (obblig). Codice identificativo del token di connessione
6491        			IdUserLavoroIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6492        			FlgTpObjIn					IN		VARCHAR2,							-- (ogglig) Tipo di oggetti da segnare come visionati: U = Unità documentarie, F = Folder/aggregati
6493        			IdObjListIn					IN		CLOB,								-- Lista XML Standard con una sola colonna con gli ID delle UD o folder da marcare come visionati							
6494        			NoteIn						IN		VARCHAR2 DEFAULT NULL,				-- Annotazioni alla presa visione
6495        			EsitiOut					OUT		NOCOPY CLOB,						-- Lista XML con esiti dell'operazione sui singoli oggetti:
6496        																					-- Contiene le colonne
6497        																					-- 1: ID_UD o ID_FOLDER%type
6498        																					-- 2: Estremi dell'UD/folder da mostare a GUI
6499        																					-- 3: Esito OK o KO
6500        																					-- 4: Codice e Messaggio di errore
6501        			ErrContextOut				OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6502        			ErrCodeOut					OUT		PLS_INTEGER,						-- N.ro errore di uscita
6503        			ErrMsgOut					OUT 	VARCHAR2)							-- Messaggio d'errore
6504        			return PLS_INTEGER;														-- 1 in caso di successo, 0 in caso di errore
6505        
6506        end DMPK_CORE;
